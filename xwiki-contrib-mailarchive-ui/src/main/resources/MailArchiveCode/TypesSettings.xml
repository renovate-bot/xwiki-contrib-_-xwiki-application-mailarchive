<?xml version="1.0" encoding="UTF-8"?>
<xwikidoc>
<web>MailArchiveCode</web>
<name>TypesSettings</name>
<language></language>
<defaultLanguage>en</defaultLanguage>
<translation>0</translation>
<parent></parent>
<creator>XWiki.jbousque</creator>
<author>XWiki.Admin</author>
<customClass></customClass>
<contentAuthor>XWiki.Admin</contentAuthor>
<creationDate>1323346177000</creationDate>
<date>1336902164000</date>
<contentUpdateDate>1336902164000</contentUpdateDate>
<version>1.1</version>
<title></title>
<template></template>
<defaultTemplate></defaultTemplate>
<validationScript></validationScript>
<comment>Imported from XAR</comment>
<minorEdit>false</minorEdit>
<syntaxId>xwiki/2.1</syntaxId>
<hidden>false</hidden>
<content>== Mail Types Settings ==
Mail types are similar to mailing-lists, except that information is persisted in a specific mail field ("type") and not only in Tags, and a specific icon can be associated with each type. This information is viewable in Mails and Topics pages, and in the Timeline view (topic icon). You can also use a regular expression as pattern, and pick the fields you want to check it against specifically.
Types are useful to materialize standard mails, annoucements, releases, ...

{{velocity}}
#set ($typesDoc = $xwiki.getDocument('MailArchiveCode.TypesSettings'))
#set ($typesSettings = $typesDoc.getObjects('MailArchiveCode.TypesSettingsClass'))
#if ($typesSettings.size() == 0) 

{{warning}}&lt;&lt; no mail types defined&gt;&gt;{{/warning}}

#else
|=Display Name|=Pattern|=Matched Fields|=Action
#foreach ($s in $typesSettings)
|$s.get('name')|$s.get('pattern')|$s.get('fields')|[[Remove&gt;&gt;url:$typesDoc.getExternalURL('objectremove')?classname=MailArchiveCode.TypesSettingsClass&amp;classid=$s.getNumber()&amp;xredirect=$typesDoc.getURL('view')]]
#end
#end

{{html}}
&lt;form action="" class="xform" method="post" name="form_types_settings"&gt;
#if ("$!request.getParameter('add')" != "")
  #set($newobj = $typesDoc.newObject('MailArchiveCode.TypesSettingsClass'))
  #set($typesClass=$doc.getObject('MailArchiveCode.TypesSettingsClass').xWikiClass)
  #foreach ($prop in $typesClass.properties)
   &lt;dl&gt;
     &lt;dt&gt;
       &lt;label for="MailArchiveCode.TypesSettingsClass_$newobj.getNumber()_$field.getName()"&gt;$prop.prettyName&lt;/label&gt;
     &lt;/dt&gt;
     &lt;dd&gt;
       $doc.display($prop.getName(), 'edit', $newobj)
     &lt;/dd&gt;
   &lt;/dl&gt;
   &lt;p&gt;
     &lt;span class="buttonwrapper"&gt;
       &lt;input class="button" type="submit" value="Save"/&gt;
       &lt;input class="button" type="button" name="action" value="Cancel"/&gt;
     &lt;/span&gt;
   &lt;/p&gt;
  #end
#else
   &lt;p&gt;
     &lt;span class="buttonwrapper"&gt;
       &lt;input class="button" type="button" value="Add"/&gt;
     &lt;/span&gt;
   &lt;/p&gt;
#end
&lt;/form&gt;
{{/html}}

{{/velocity}}</content></xwikidoc>
