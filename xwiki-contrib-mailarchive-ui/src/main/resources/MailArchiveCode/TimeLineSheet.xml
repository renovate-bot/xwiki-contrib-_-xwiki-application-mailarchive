<?xml version="1.0" encoding="UTF-8"?>

<xwikidoc version="1.1">
  <web>MailArchiveCode</web>
  <name>TimeLineSheet</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <creator>xwiki:XWiki.Admin</creator>
  <creationDate>1393179243000</creationDate>
  <parent>MailArchiveCode.WebHome</parent>
  <author>xwiki:XWiki.Admin</author>
  <customClass/>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <date>1393179244000</date>
  <contentUpdateDate>1393179244000</contentUpdateDate>
  <version>1.1</version>
  <title>Mail Archive Time-Line</title>
  <defaultTemplate/>
  <validationScript/>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.1</syntaxId>
  <hidden/>
  <content>{{velocity filter="none"}}
$xwiki.ssx.use('MailArchiveCode.TimeLine')
{{html clean="false" wiki="false"}}
&lt;script type="text/javascript"&gt;
#set($path=false)
#if($!path) 
addJavascriptText('Timeline_ajax_url="http://localhost:8080/xwiki/bin/skin/resources/js/timeline/src/ajax/api/simile-ajax-api.js";\nTimeline_urlPrefix="http://localhost:8080/xwiki/bin/skin/resources/js/timeline/src/webapp/api/";\nTimeline_parameters="bundle=false";', 'head');
addJavascript('http://localhost:8080/xwiki/bin/skin/resources/js/timeline/src/webapp/api/timeline-api.js', 'head');
#else
addJavascript('http://api.simile-widgets.org/timeline/2.3.1/timeline-api.js', 'head');
#end


// onload events and included javascript 
Event.observe(window, "load", onLoad); 

//if(typeof Timeline.DateTime != 'function') {
//  alert('Simile Timeline not properly installed');
//}


var tl;

function onLoad() {

 startMagnify = new Date(); 
 endMagnify = new Date(); 
 startMagnify.setHours(8, 0);
 startMagnify.setTime(startMagnify.getTime()-86400000);
 endMagnify.setHours(19, 0);
 // endMagnify.setTime(endMagnify.getTime()+86400000);
 startMagnifyDays = new Date();
 startMagnifyDays.setTime(startMagnifyDays.getTime()-432000000);
 endMagnifyDays = new Date();
 endMagnifyDays.setTime(endMagnifyDays.getTime()+432000000);

 var eventSource = new Timeline.DefaultEventSource();
 var theme = Timeline.ClassicTheme.create();
 theme.event.label.width = 250; // px
 theme.event.bubble.width = 450;
 theme.event.bubble.height = 150;
 var bandInfos = [
    Timeline.createHotZoneBandInfo({
         zones: [
             { start: SimileAjax.DateTime.parseGregorianDateTime(startMagnifyDays.toUTCString()),
               end: SimileAjax.DateTime.parseGregorianDateTime(endMagnifyDays.toUTCString()),
               magnify: 2,
               unit: Timeline.DateTime.DAY },
             { start: SimileAjax.DateTime.parseGregorianDateTime(startMagnify.toUTCString()),
               end: SimileAjax.DateTime.parseGregorianDateTime(endMagnify.toUTCString()),
               magnify: 5,
               unit: Timeline.DateTime.HOUR }
         ],
         eventSource: eventSource,
         date: new Date(),
         width: "85%",
         intervalUnit: Timeline.DateTime.DAY,
         intervalPixels: 150,
         theme: theme,
         layout: 'original' }),
    Timeline.createHotZoneBandInfo({
         zones: [
             { start: SimileAjax.DateTime.parseGregorianDateTime(startMagnifyDays.toUTCString()),
               end: SimileAjax.DateTime.parseGregorianDateTime(endMagnifyDays.toUTCString()),
               magnify: 20,
               unit: Timeline.DateTime.WEEK }
         ],
         eventSource: eventSource,
         date: new Date(),
         width: "15%",
         intervalUnit: Timeline.DateTime.MONTH,
         intervalPixels: 100,
         theme: theme,
         layout: 'overview',
         trackHeight: 0.5,
         trackGap: 0.2 })
 ]; 

 bandInfos[1].syncWith = 0;
 bandInfos[1].highlight = true;
 tl = Timeline.create(document.getElementById("my-timeline"), bandInfos);
 Timeline.loadXML("http://localhost:8080/xwiki/bin/skin/resources/js/timeline/TimeLineFeed-MailArchiver.xml?"+ (new Date().getTime()), function(xml, url) { eventSource.loadXML(xml, url); }); 
 
}; // onload

function centerTimeline(time) {
   tl.getBand(0).setCenterVisibleDate(new Date(time));
}

/*var resizeTimerID = null; function onResize() {     if (resizeTimerID == null) {         resizeTimerID = window.setTimeout(function() {             resizeTimerID = null; tl.layout(); }, 500); } }*/

function addJavascript(jsname,pos) {
 var th = document.getElementsByTagName(pos)[0];
 var s = document.createElement('script');
 s.setAttribute('type','text/javascript');
 s.setAttribute('src',jsname);
 th.appendChild(s); 
} 

function addJavascriptText(text,pos) {
 var th = document.getElementsByTagName(pos)[0];
 var s = document.createElement('script');
 s.setAttribute('type','text/javascript');
 // update for old IE ...
 if (window.addEventListener) {
   s.appendChild(document.createTextNode(text));
 } else {
   s.text=text;
 }
//s.appendChild(document.createTextNode(text));
 th.appendChild(s); }

&lt;/script&gt;

&lt;div&gt; 
#set($xwql = "select list.Tag, list.color, list.displayname from Document doc, doc.object(MailArchiveCode.MailingListClass) as list where doc.name&lt;&gt;'MailArchiveCode.ListsSettingsTemplate'")
#set($lists = $services.query.xwql($xwql).execute())
#foreach($list in $lists)
  &lt;span style="font-weight:bold;color:white;text-shadow: 0.2em 0.2em 0.2em black;" class="tape-${list[0]}" style="color:${list[1]}"&gt;&amp;nbsp;${list[2]}&amp;nbsp;&lt;/span&gt;
#end
&lt;/div&gt;

&lt;div id="my-timeline" class="timeline-default" style="height: 500px; border: 1px solid #aaa"&gt;&lt;/div&gt;
{{/html}}
{{/velocity}}</content>
  <attachment>
    <filename>TimeLineFeed-MailArchiver.xml</filename>
    <author>XWiki.Admin</author>
    <date>1393179243000</date>
    <version>1.1</version>
    <comment/>
    <content>PGRhdGEgd2lraS11cmw9IiIgd2lraS1zZWN0aW9uPSIiPjxldmVudCBzdGFydD0iSmFuIDExLCAyMDEwIDQ6NTM6NTUgUE0iIHRpdGxlPSJSRTogbmVlZCBoZWxwIG9uIE9TRyBjb25maWd1cmF0aW9uIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5SRTogbmVlZCBoZWxwIG9uIE9TRyBjb25maWd1cmF0aW9uPC9ldmVudD5ubjxldmVudCBzdGFydD0iSmFuIDExLCAyMDEwIDU6MDY6MjAgUE0iIHRpdGxlPSJSRTogbmVlZCBoZWxwIG9uIE9TRyBjb25maWd1cmF0aW9uIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5SRTogbmVlZCBoZWxwIG9uIE9TRyBjb25maWd1cmF0aW9uPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDksIDIwMTAgMzowMzozNSBQTSIgdGl0bGU9IlJFOiBbT1RBNF0gU01TQyBkcml2ZXIgZGlzYXBwZWFyZWQiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPlJFOiBbT1RBNF0gU01TQyBkcml2ZXIgZGlzYXBwZWFyZWQ8L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMTYsIDIwMTAgNDo1NDozMCBQTSIgdGl0bGU9IlJFOiBbRE0gQ29tbXVuaXR5XSBpbmNvbnNpc3RlbmN5IGluIGZvcm1hdCBiZXR3ZWVuIGRvY3VtZW50cyBhbmQgICBwcm9kdWN0IGRhdGFiYXNlIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5SRTogW0RNIENvbW11bml0eV0gaW5jb25zaXN0ZW5jeSBpbiBmb3JtYXQgYmV0d2VlbiBkb2N1bWVudHMgYW5kICAgcHJvZHVjdCBkYXRhYmFzZTwvZXZlbnQ+bm48ZXZlbnQgc3RhcnQ9Ik5vdiAxNiwgMjAxMCA0OjU1OjU4IFBNIiB0aXRsZT0iR0dTIFdXIFRvb2xzIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5HR1MgV1cgVG9vbHM8L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMTcsIDIwMTAgNDowMzowOCBQTSIgdGl0bGU9IlF1ZXN0aW9ucyBhYm91dCBETSA1IGFuZCBzZXR0aW5ncyBjb25maWd1cmF0aW9ucy4iIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPlF1ZXN0aW9ucyBhYm91dCBETSA1IGFuZCBzZXR0aW5ncyBjb25maWd1cmF0aW9ucy48L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMTcsIDIwMTAgNDo1NzoxNCBQTSIgdGl0bGU9IlJFOiBRdWVzdGlvbnMgYWJvdXQgRE0gNSBhbmQgc2V0dGluZ3MgY29uZmlndXJhdGlvbnMuIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5SRTogUXVlc3Rpb25zIGFib3V0IERNIDUgYW5kIHNldHRpbmdzIGNvbmZpZ3VyYXRpb25zLjwvZXZlbnQ+bm48ZXZlbnQgc3RhcnQ9Ik5vdiAxNywgMjAxMCA1OjEwOjU4IFBNIiB0aXRsZT0iUkU6IFF1ZXN0aW9ucyBhYm91dCBETSA1IGFuZCBzZXR0aW5ncyBjb25maWd1cmF0aW9ucy4iIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPlJFOiBRdWVzdGlvbnMgYWJvdXQgRE0gNSBhbmQgc2V0dGluZ3MgY29uZmlndXJhdGlvbnMuPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDE3LCAyMDEwIDU6MjY6MzEgUE0iIHRpdGxlPSJSRTogUXVlc3Rpb25zIGFib3V0IERNIDUgYW5kIHNldHRpbmdzIGNvbmZpZ3VyYXRpb25zLiIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+UkU6IFF1ZXN0aW9ucyBhYm91dCBETSA1IGFuZCBzZXR0aW5ncyBjb25maWd1cmF0aW9ucy48L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMTcsIDIwMTAgNjozMjozNyBQTSIgdGl0bGU9Ik5vdCBlbm91Z2ggY3JlZGl0IGh0dHAgcmVzcG9uc2VzIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5Ob3QgZW5vdWdoIGNyZWRpdCBodHRwIHJlc3BvbnNlczwvZXZlbnQ+bm48ZXZlbnQgc3RhcnQ9Ik5vdiAxOCwgMjAxMCAzOjM0OjA0IEFNIiB0aXRsZT0iUkU6IE1vYmlsZSBQYXJ0bmVyIFVwZGF0ZSBOb3RpZmljYXRpb24gLSBUaWNrZXQgRGlhcnk6IDg2ODk5NjMiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPlJFOiBNb2JpbGUgUGFydG5lciBVcGRhdGUgTm90aWZpY2F0aW9uIC0gVGlja2V0IERpYXJ5OiA4Njg5OTYzPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDE4LCAyMDEwIDM6NDA6MjUgQU0iIHRpdGxlPSJSRTogT1RBIERyaXZlcnMgU2NyZWVuc2hvdHMgc3RyYW5nZSBiZWhhdmlvciIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+UkU6IE9UQSBEcml2ZXJzIFNjcmVlbnNob3RzIHN0cmFuZ2UgYmVoYXZpb3I8L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMTgsIDIwMTAgNDoyMDoyMiBBTSIgdGl0bGU9IkZXOiBWaXNpYnJva2VyICAvIE9UQSA0IiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5GVzogVmlzaWJyb2tlciAgLyBPVEEgNDwvZXZlbnQ+bm48ZXZlbnQgc3RhcnQ9Ik5vdiAxOCwgMjAxMCA4OjUwOjEyIEFNIiB0aXRsZT0iUkU6IFtDb25jYXRlbmF0aW9uIG5vdCBhdmFpbGFibGUgYW5kIGNvbW1hbmQgcGFja2V0IGxlbmd0aCAmZ3Q7ICAgMTQwdHB1ZCBtYXggbGVuZ3RoXSAtIFN3aXRjaFBvcnRhbCBhY3Rpb24iIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPlJFOiBbQ29uY2F0ZW5hdGlvbiBub3QgYXZhaWxhYmxlIGFuZCBjb21tYW5kIHBhY2tldCBsZW5ndGggJmd0OyAgIDE0MHRwdWQgbWF4IGxlbmd0aF0gLSBTd2l0Y2hQb3J0YWwgYWN0aW9uPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDE4LCAyMDEwIDEwOjEwOjM5IEFNIiB0aXRsZT0iUkU6IE9UQSBvbiAyRyBjYXJkcyIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+UkU6IE9UQSBvbiAyRyBjYXJkczwvZXZlbnQ+bm48ZXZlbnQgc3RhcnQ9Ik5vdiAxOCwgMjAxMCAxMDoxNDo1MyBBTSIgdGl0bGU9IlJFOiBPVEEgb24gMkcgY2FyZHMiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPlJFOiBPVEEgb24gMkcgY2FyZHM8L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMTgsIDIwMTAgMTE6MTY6MTEgQU0iIHRpdGxlPSJSRTogT1RBIG9uIDJHIGNhcmRzIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5SRTogT1RBIG9uIDJHIGNhcmRzPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDE4LCAyMDEwIDEyOjU1OjIxIFBNIiB0aXRsZT0iRGVsaXZlcnkgb2YgRGV2aWNlIE1hbmFnZXIgQ2xhc3NpYyA1LjIuMCBpcyBhdmFpbGFibGUiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPg==RGVsaXZlcnkgb2YgRGV2aWNlIE1hbmFnZXIgQ2xhc3NpYyA1LjIuMCBpcyBhdmFpbGFibGU8L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMTgsIDIwMTAgMTowMDo0MiBQTSIgdGl0bGU9IkRlbGl2ZXJ5IG9mIERldmljZSBNYW5hZ2VyIERldGVjdGlvbiA1LjIuMCBpcyBhdmFpbGFibGUiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPkRlbGl2ZXJ5IG9mIERldmljZSBNYW5hZ2VyIERldGVjdGlvbiA1LjIuMCBpcyBhdmFpbGFibGU8L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMTgsIDIwMTAgMToxMjo1NCBQTSIgdGl0bGU9IkEgdG9vbCB0byBoZWxwIHRvIGNyZWF0ZSB0aGUgT1RBIHByb2ZpbGUgWE1MIChmcm9tIGNhcmQgYWRtaW4gWE1MKSIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+QSB0b29sIHRvIGhlbHAgdG8gY3JlYXRlIHRoZSBPVEEgcHJvZmlsZSBYTUwgKGZyb20gY2FyZCBhZG1pbiBYTUwpPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDE4LCAyMDEwIDY6Mjk6MjIgUE0iIHRpdGxlPSJEZWxpdmVyeSBvZiBQRE0gNS4wLjEwLjAgaXMgYXZhaWxhYmxlIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5EZWxpdmVyeSBvZiBQRE0gNS4wLjEwLjAgaXMgYXZhaWxhYmxlPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDE4LCAyMDEwIDc6MDA6MjYgUE0iIHRpdGxlPSJGVzogdmFsaWRhdGlvbiBjb21tdW5pdHkgbmV3c2xldHRlciIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+Rlc6IHZhbGlkYXRpb24gY29tbXVuaXR5IG5ld3NsZXR0ZXI8L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMTksIDIwMTAgNDo0MDoyNSBBTSIgdGl0bGU9IkZXOiBBIHRvb2wgdG8gaGVscCB0byBjcmVhdGUgdGhlIE9UQSBwcm9maWxlIFhNTCAoZnJvbSBjYXJkIGFkbWluICAgWE1MKSIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+Rlc6IEEgdG9vbCB0byBoZWxwIHRvIGNyZWF0ZSB0aGUgT1RBIHByb2ZpbGUgWE1MIChmcm9tIGNhcmQgYWRtaW4gICBYTUwpPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDE5LCAyMDEwIDc6MTE6MDUgUE0iIHRpdGxlPSJHR1MvRmllbGQgcHJvZHVjdHMgRmVlZGFjayAodnMgUk5EIEFjdGlvbnMpIDogbGFzdCBzdGF0dXMgIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5HR1MvRmllbGQgcHJvZHVjdHMgRmVlZGFjayAodnMgUk5EIEFjdGlvbnMpIDogbGFzdCBzdGF0dXMgPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDIwLCAyMDEwIDE6MzI6MzAgQU0iIHRpdGxlPSJbTW9iaWxlIE1hcmtldGluZyBQcm9kdWN0c10gQ29tbXVuaXR5IG5ld3NsZXR0ZXIgMjAxMCBXNDYiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPltNb2JpbGUgTWFya2V0aW5nIFByb2R1Y3RzXSBDb21tdW5pdHkgbmV3c2xldHRlciAyMDEwIFc0NjwvZXZlbnQ+bm48ZXZlbnQgc3RhcnQ9Ik5vdiAyMiwgMjAxMCAzOjI5OjQzIEFNIiB0aXRsZT0iRlc6IEdHUy9GaWVsZCBwcm9kdWN0cyBGZWVkYWNrICh2cyBSTkQgQWN0aW9ucykgOiBsYXN0IHN0YXR1cyAiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPkZXOiBHR1MvRmllbGQgcHJvZHVjdHMgRmVlZGFjayAodnMgUk5EIEFjdGlvbnMpIDogbGFzdCBzdGF0dXMgPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDIyLCAyMDEwIDU6NTM6MzIgUE0iIHRpdGxlPSJQcm9kdWN0IGNvbW11bml0aWVzID0mZ3Q7IGxpc3Qgb2YgUERMcyAgLyBzcGVjaWFsaXN0cy1leHBlcnQgcGVyICAgcHJvZHVjdHMgKE9UQSxTTS1PU0ctT1RBQ1MsRE0sUGhvbmVib29rLExQTSAuLikiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPlByb2R1Y3QgY29tbXVuaXRpZXMgPSZndDsgbGlzdCBvZiBQRExzICAvIHNwZWNpYWxpc3RzLWV4cGVydCBwZXIgICBwcm9kdWN0cyAoT1RBLFNNLU9TRy1PVEFDUyxETSxQaG9uZWJvb2ssTFBNIC4uKTwvZXZlbnQ+bm48ZXZlbnQgc3RhcnQ9Ik5vdiAyMiwgMjAxMCA2OjU4OjQxIFBNIiB0aXRsZT0iRGVsaXZlcnkgb2YgIFJlY29yZCBIaXN0b3J5IFNlcnZpY2UgMS4wLjAuMSBpcyBhdmFpbGFibGUiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPkRlbGl2ZXJ5IG9mICBSZWNvcmQgSGlzdG9yeSBTZXJ2aWNlIDEuMC4wLjEgaXMgYXZhaWxhYmxlPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDIyLCAyMDEwIDg6MDI6MzYgUE0iIHRpdGxlPSJEZWxpdmVyeSBvZiBMaWIgV0RTIDIwMTAxMTEyIC0gR0NETVRBQ1Byb3Zpc2lvbm5pbmcgdjkuNDYgLSAgIERNVXBkYXRlIFByb3Zpc2lvbmluZyAyMDEwMTExOSAtIGV4cF9mdWxsX1JFRlRBQ18yMDEwMTExOSAgaXMgYXZhaWxhYmxlIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5EZWxpdmVyeSBvZiBMaWIgV0RTIDIwMTAxMTEyIC0gR0NETVRBQ1Byb3Zpc2lvbm5pbmcgdjkuNDYgLSAgIERNVXBkYXRlIFByb3Zpc2lvbmluZyAyMDEwMTExOSAtIGV4cF9mdWxsX1JFRlRBQ18yMDEwMTExOSAgaXMgYXZhaWxhYmxlPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDIyLCAyMDEwIDg6NTQ6NDMgUE0iIHRpdGxlPSJGVzogRGVsaXZlcnkgb2YgUERNIDUuMC4xMC4wIGlzIGF2YWlsYWJsZSIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+Rlc6IERlbGl2ZXJ5IG9mIFBETSA1LjAuMTAuMCBpcyBhdmFpbGFibGU8L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMjMsIDIwMTAgOTo1NTo0NCBBTSIgdGl0bGU9IlJFOiBQcm9kdWN0IGNvbW11bml0aWVzID0mZ3Q7IGxpc3Qgb2YgUERMcyAgLyBzcGVjaWFsaXN0cy1leHBlcnQgcGVyICAgcHJvZHVjdHMgKE9UQSxTTS1PU0ctT1RBQ1MsRE0sUGhvbmVib29rLExQTSAuLikiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPlJFOiBQcm9kdWN0IGNvbW11bml0aWVzID0mZ3Q7IGxpc3Qgb2YgUERMcyAgLyBzcGVjaWFsaXN0cy1leHBlcnQgcGVyICAgcHJvZHVjdHMgKE9UQSxTTS1PU0ctT1RBQ1MsRE0sUGhvbmVib29rLExQTSAuLik8L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMjMsIDIwMTAgMTA6MTI6MTEgQU0iIHRpdGxlPSJGVzogUk12MSBjb21wbGlhbmN5IiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5GVzogUk12MSBjb21wbGlhbmN5PC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDIzLCAyMDEwIDExOjQwOjExIEFNIiB0aXRsZT0iRE0tQ2xhc3NpYyBUQUNCdW5kbGUgcmVsZWFzZWQiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPkRNLUNsYXNzaWMgVEFDQnVuZGxlIHJlbGVhc2VkPC9ldmVudA==Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMjMsIDIwMTAgMTE6NTU6MzMgQU0iIHRpdGxlPSJQcmVzZW50YXRpb24gb24gU001LjIgLURCIG9wdGltaXphdGlvbiIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+UHJlc2VudGF0aW9uIG9uIFNNNS4yIC1EQiBvcHRpbWl6YXRpb248L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMjMsIDIwMTAgMjo0MToyMSBQTSIgdGl0bGU9Iklzc3VlIHdpdGggU2VsZWN0LWl0ZW0gZm9yIE5hdmlnQHRlIGNhcmQiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPklzc3VlIHdpdGggU2VsZWN0LWl0ZW0gZm9yIE5hdmlnQHRlIGNhcmQ8L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMjMsIDIwMTAgMzowMjo1MCBQTSIgdGl0bGU9IlJlOiBJc3N1ZSB3aXRoIFNlbGVjdC1pdGVtIGZvciBOYXZpZ0B0ZSBjYXJkIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5SZTogSXNzdWUgd2l0aCBTZWxlY3QtaXRlbSBmb3IgTmF2aWdAdGUgY2FyZDwvZXZlbnQ+bm48ZXZlbnQgc3RhcnQ9Ik5vdiAyMywgMjAxMCA2OjM0OjUxIFBNIiB0aXRsZT0iT1RBQ1MgLSBVbmJpbmQgQmVmb3JlIEJpbmQgUHJvYmxlbSIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+T1RBQ1MgLSBVbmJpbmQgQmVmb3JlIEJpbmQgUHJvYmxlbTwvZXZlbnQ+bm48ZXZlbnQgc3RhcnQ9Ik5vdiAyNCwgMjAxMCA4OjUyOjE1IEFNIiB0aXRsZT0iTkcgRm91bmRhdGlvbnMgcHJlc2VudGF0aW9uIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5ORyBGb3VuZGF0aW9ucyBwcmVzZW50YXRpb248L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJOb3YgMjQsIDIwMTAgOToxNTowMyBBTSIgdGl0bGU9IlJlOiBPVEFDUyAtIFVuYmluZCBCZWZvcmUgQmluZCBQcm9ibGVtIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5SZTogT1RBQ1MgLSBVbmJpbmQgQmVmb3JlIEJpbmQgUHJvYmxlbTwvZXZlbnQ+bm48ZXZlbnQgc3RhcnQ9Ik5vdiAyNCwgMjAxMCAyOjA2OjM2IFBNIiB0aXRsZT0iRlc6IERldkNvcm5lcjogbWFpbCBub3RpZmljYXRpb24gYXZhaWxhYmxlLiIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+Rlc6IERldkNvcm5lcjogbWFpbCBub3RpZmljYXRpb24gYXZhaWxhYmxlLjwvZXZlbnQ+bm48ZXZlbnQgc3RhcnQ9Ik5vdiAyNCwgMjAxMCAyOjEwOjA0IFBNIiB0aXRsZT0iRlc6IERldkNvcm5lcjogbWFpbCBub3RpZmljYXRpb24gYXZhaWxhYmxlLiIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+Rlc6IERldkNvcm5lcjogbWFpbCBub3RpZmljYXRpb24gYXZhaWxhYmxlLjwvZXZlbnQ+bm48ZXZlbnQgc3RhcnQ9Ik5vdiAyNCwgMjAxMCAyOjEwOjEyIFBNIiB0aXRsZT0iUkU6IE9UQUNTIC0gVW5iaW5kIEJlZm9yZSBCaW5kIFByb2JsZW0iIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPlJFOiBPVEFDUyAtIFVuYmluZCBCZWZvcmUgQmluZCBQcm9ibGVtPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDI0LCAyMDEwIDU6MjQ6NTMgUE0iIHRpdGxlPSJGVzogW1dBUk5JTkddIGNsdXN0ZXIgbW9uaXRvcmluZyArIG90YSA0LjAuMTggPSB0b28gbWFueSBsb2dzICAgZ2VuZXJhdGVkIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5GVzogW1dBUk5JTkddIGNsdXN0ZXIgbW9uaXRvcmluZyArIG90YSA0LjAuMTggPSB0b28gbWFueSBsb2dzICAgZ2VuZXJhdGVkPC9ldmVudD5ubjxldmVudCBzdGFydD0iTm92IDI0LCAyMDEwIDU6MzU6NDggUE0iIHRpdGxlPSJSRTogT1RBQ1MgLSBVbmJpbmQgQmVmb3JlIEJpbmQgUHJvYmxlbSIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+UkU6IE9UQUNTIC0gVW5iaW5kIEJlZm9yZSBCaW5kIFByb2JsZW08L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJBcHIgMTUsIDIwMTEgMTA6MDA6MDkgUE0iIHRpdGxlPSJLQTRXRUItIGxvZ3MuIiBpY29uPSJodHRwOi8vci13aWtpZ2dzLmdlbWFsdG8uY29tL3h3aWtpL2Jpbi9kb3dubG9hZC9YV2lraS9HU0VTa2luL2VtYWlsLWljb24uR0lGIj5LQTRXRUItIGxvZ3MuPC9ldmVudD5ubjxldmVudCBzdGFydD0iQXVnIDMxLCAyMDExIDEwOjIyOjMzIFBNIiB0aXRsZT0iRGVsaXZlcnkgb2YgTUZTIDUuMyBpcyBhdmFpbGFibGUgb24gQUJMIGRvd25sb2FkIHNpdGUiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPkRlbGl2ZXJ5IG9mIE1GUyA1LjMgaXMgYXZhaWxhYmxlIG9uIEFCTCBkb3dubG9hZCBzaXRlPC9ldmVudD5ubjxldmVudCBzdGFydD0iU2VwIDEsIDIwMTEgOTozMDoxNyBBTSIgdGl0bGU9IltTZWN1cml0eSBNbmd0XSBGbGFzaCBJbmZvIC0gU2VjdXJpdHkgUHJvZ3JhbSBpbiBHR1MiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPltTZWN1cml0eSBNbmd0XSBGbGFzaCBJbmZvIC0gU2VjdXJpdHkgUHJvZ3JhbSBpbiBHR1M8L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJTZXAgMSwgMjAxMSAxMDozNDoxOSBBTSIgdGl0bGU9IlJFOiBbRE0gQ29tbXVuaXR5XSBETSBGdW5jdGlvbmFsIFBpbmciIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPlJFOiBbRE0gQ29tbXVuaXR5XSBETSBGdW5jdGlvbmFsIFBpbmc8L2V2ZW50Pm5uPGV2ZW50IHN0YXJ0PSJTZXAgMSwgMjAxMSAzOjA4OjIxIFBNIiB0aXRsZT0iV0FQIHB1c2ggZXhhbXBsZXMiIGljb249Imh0dHA6Ly9yLXdpa2lnZ3MuZ2VtYWx0by5jb20veHdpa2kvYmluL2Rvd25sb2FkL1hXaWtpL0dTRVNraW4vZW1haWwtaWNvbi5HSUYiPldBUCBwdXNoIGV4YW1wbGVzPC9ldmVudD5ubjxldmVudCBzdGFydD0iU2VwIDEsIDIwMTEgNDowODoxNCBQTSIgdGl0bGU9IlJFOiBXQVAgcHVzaCBleGFtcGxlcyIgaWNvbj0iaHR0cDovL3Itd2lraWdncy5nZW1hbHRvLmNvbS94d2lraS9iaW4vZG93bmxvYWQvWFdpa2kvR1NFU2tpbi9lbWFpbC1pY29uLkdJRiI+UkU6IFdBUCBwdXNoIGV4YW1wbGVzPC9ldmVudD5ubjwvZGF0YT4=</content>
    <filesize>11914</filesize>
  </attachment>
  <attachment>
    <filename>timeline-api.js</filename>
    <author>XWiki.Admin</author>
    <date>1393179244000</date>
    <version>1.1</version>
    <comment/>
    <content>Lyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogKiAgVGltZWxpbmUgQVBJCiAqCiAqICBUaGlzIGZpbGUgd2lsbCBsb2FkIGFsbCB0aGUgSmF2YXNjcmlwdCBmaWxlcwogKiAgbmVjZXNzYXJ5IHRvIG1ha2UgdGhlIHN0YW5kYXJkIHRpbWVsaW5lIHdvcmsuCiAqICBJdCBhbHNvIGRldGVjdHMgdGhlIGRlZmF1bHQgbG9jYWxlLgogKgogKiAgSW5jbHVkZSB0aGlzIGZpbGUgaW4geW91ciBIVE1MIGZpbGUgYXMgZm9sbG93czoKICoKICogICAgPHNjcmlwdCBzcmM9Imh0dHA6Ly9zaW1pbGUubWl0LmVkdS90aW1lbGluZS9hcGkvc2NyaXB0cy90aW1lbGluZS1hcGkuanMiIHR5cGU9InRleHQvamF2YXNjcmlwdCI+PC9zY3JpcHQ+CiAqCiAqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICovCiAKdmFyIFRpbWVsaW5lID0gbmV3IE9iamVjdCgpOwpUaW1lbGluZS5QbGF0Zm9ybSA9IG5ldyBPYmplY3QoKTsKICAgIC8qCiAgICAgICAgSEFDSzogV2UgbmVlZCB0aGVzZSAyIHRoaW5ncyBoZXJlIGJlY2F1c2Ugd2UgY2Fubm90IHNpbXBseSBhcHBlbmQKICAgICAgICBhIDxzY3JpcHQ+IGVsZW1lbnQgY29udGFpbmluZyBjb2RlIHRoYXQgYWNjZXNzZXMgVGltZWxpbmUuUGxhdGZvcm0KICAgICAgICB0byBpbml0aWFsaXplIGl0IGJlY2F1c2UgSUUgZXhlY3V0ZXMgdGhhdCA8c2NyaXB0PiBjb2RlIGZpcnN0CiAgICAgICAgYmVmb3JlIGl0IGxvYWRzIHRpbWVsaW5lLmpzIGFuZCB1dGlsL3BsYXRmb3JtLmpzLgogICAgKi8KCihmdW5jdGlvbigpIHsKICAgIHZhciBidW5kbGUgPSB0cnVlOwogICAgdmFyIGphdmFzY3JpcHRGaWxlcyA9IFsKICAgICAgICAidGltZWxpbmUuanMiLAogICAgICAgIAogICAgICAgICJ1dGlsL3BsYXRmb3JtLmpzIiwKICAgICAgICAidXRpbC9kZWJ1Zy5qcyIsCiAgICAgICAgInV0aWwveG1saHR0cC5qcyIsCiAgICAgICAgInV0aWwvZG9tLmpzIiwKICAgICAgICAidXRpbC9ncmFwaGljcy5qcyIsCiAgICAgICAgInV0aWwvZGF0ZS10aW1lLmpzIiwKICAgICAgICAidXRpbC9kYXRhLXN0cnVjdHVyZS5qcyIsCiAgICAgICAgInV0aWwvaHRtbC5qcyIsCiAgICAgICAgCiAgICAgICAgInVuaXRzLmpzIiwKICAgICAgICAidGhlbWVzLmpzIiwKICAgICAgICAiZXRoZXJzLmpzIiwKICAgICAgICAiZXRoZXItcGFpbnRlcnMuanMiLAogICAgICAgICJsYWJlbGxlcnMuanMiLAogICAgICAgICJzb3VyY2VzLmpzIiwKICAgICAgICAibGF5b3V0cy5qcyIsCiAgICAgICAgInBhaW50ZXJzLmpzIiwKICAgICAgICAiZGVjb3JhdG9ycy5qcyIKICAgIF07CiAgICB2YXIgY3NzRmlsZXMgPSBbCiAgICAgICAgInRpbWVsaW5lLmNzcyIsCiAgICAgICAgImV0aGVycy5jc3MiLAogICAgICAgICJldmVudHMuY3NzIgogICAgXTsKICAgIAogICAgdmFyIGxvY2FsaXplZEphdmFzY3JpcHRGaWxlcyA9IFsKICAgICAgICAidGltZWxpbmUuanMiLAogICAgICAgICJsYWJlbGxlcnMuanMiCiAgICBdOwogICAgdmFyIGxvY2FsaXplZENzc0ZpbGVzID0gWwogICAgXTsKICAgIAogICAgLy8gSVNPLTYzOSBsYW5ndWFnZSBjb2RlcywgSVNPLTMxNjYgY291bnRyeSBjb2RlcyAoMiBjaGFyYWN0ZXJzKQogICAgdmFyIHN1cHBvcnRlZExvY2FsZXMgPSBbCiAgICAgICAgImNzIiwgICAgICAgLy8gQ3plY2gKICAgICAgICAiZGUiLCAgICAgICAvLyBHZXJtYW4KICAgICAgICAiZW4iLCAgICAgICAvLyBFbmdsaXNoCiAgICAgICAgImVzIiwgICAgICAgLy8gU3BhbmlzaAogICAgICAgICJmciIsICAgICAgIC8vIEZyZW5jaAogICAgICAgICJpdCIsICAgICAgIC8vIEl0YWxpYW4KICAgICAgICAicnUiLCAgICAgICAvLyBSdXNzaWFuCiAgICAgICAgInNlIiwgICAgICAgLy8gU3dlZGlzaAogICAgICAgICJ2aSIsICAgICAgIC8vIFZpZXRuYW1lc2UKICAgICAgICAiemgiICAgICAgICAvLyBDaGluZXNlCiAgICBdOwogICAgCiAgICB0cnkgewogICAgICAgIHZhciBkZXNpcmVkTG9jYWxlcyA9IFsgImVuIiBdOwogICAgICAgIHZhciBkZWZhdWx0U2VydmVyTG9jYWxlID0gImVuIjsKICAgICAgICAKICAgICAgICB2YXIgcGFyc2VVUkxQYXJhbWV0ZXJzID0gZnVuY3Rpb24ocGFyYW1ldGVycykgewogICAgICAgICAgICB2YXIgcGFyYW1zID0gcGFyYW1ldGVycy5zcGxpdCgiJiIpOwogICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHBhcmFtcy5sZW5ndGg7IHArKykgewogICAgICAgICAgICAgICAgdmFyIHBhaXIgPSBwYXJhbXNbcF0uc3BsaXQoIj0iKTsKICAgICAgICAgICAgICAgIGlmIChwYWlyWzBdID09ICJsb2NhbGVzIikgewogICAgICAgICAgICAgICAgICAgIGRlc2lyZWRMb2NhbGVzID0gZGVzaXJlZExvY2FsZXMuY29uY2F0KHBhaXJbMV0uc3BsaXQoIiwiKSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhaXJbMF0gPT0gImRlZmF1bHRMb2NhbGUiKSB7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNlcnZlckxvY2FsZSA9IHBhaXJbMV07CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhaXJbMF0gPT0gImJ1bmRsZSIpIHsKICAgICAgICAgICAgICAgICAgICBidW5kbGUgPSBwYWlyWzFdICE9ICJmYWxzZSI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIAogICAgICAgIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBUaW1lbGluZV91cmxQcmVmaXggPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgIFRpbWVsaW5lLnVybFByZWZpeCA9IFRpbWVsaW5lX3VybFByZWZpeDsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgVGltZWxpbmVfcGFyYW1ldGVycyA9PSAic3RyaW5nIikgewogICAgICAgICAgICAgICAgICAgIHBhcnNlVVJMUGFyYW1ldGVycyhUaW1lbGluZV9wYXJhbWV0ZXJzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBoZWFkcyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCBoZWFkcy5sZW5ndGg7IGgrKykgewogICAgICAgICAgICAgICAgICAgIHZhciBzY3JpcHRzID0gaGVhZHNbaF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpOwogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgc2NyaXB0cy5sZW5ndGg7IHMrKykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gc2NyaXB0c1tzXS5zcmM7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gdXJsLmluZGV4T2YoInRpbWVsaW5lLWFwaS5qcyIpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaW1lbGluZS51cmxQcmVmaXggPSB1cmwuc3Vic3RyKDAsIGkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHEgPSB1cmwuaW5kZXhPZigiPyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHEgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VVUkxQYXJhbWV0ZXJzKHVybC5zdWJzdHIocSArIDEpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGRlcml2ZSBVUkwgcHJlZml4IGZvciBUaW1lbGluZSBBUEkgY29kZSBmaWxlcyIpOwogICAgICAgICAgICB9CiAgICAgICAgfSkoKTsKICAgICAgICAKICAgICAgICB2YXIgaW5jbHVkZUphdmFzY3JpcHRGaWxlczsKICAgICAgICB2YXIgaW5jbHVkZUNzc0ZpbGVzOwogICAgICAgIGlmICgiU2ltaWxlQWpheCIgaW4gd2luZG93KSB7CiAgICAgICAgICAgIGluY2x1ZGVKYXZhc2NyaXB0RmlsZXMgPSBmdW5jdGlvbih1cmxQcmVmaXgsIGZpbGVuYW1lcykgewogICAgICAgICAgICAgICAgU2ltaWxlQWpheA==LmluY2x1ZGVKYXZhc2NyaXB0RmlsZXMoZG9jdW1lbnQsIHVybFByZWZpeCwgZmlsZW5hbWVzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpbmNsdWRlQ3NzRmlsZXMgPSBmdW5jdGlvbih1cmxQcmVmaXgsIGZpbGVuYW1lcykgewogICAgICAgICAgICAgICAgU2ltaWxlQWpheC5pbmNsdWRlQ3NzRmlsZXMoZG9jdW1lbnQsIHVybFByZWZpeCwgZmlsZW5hbWVzKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBnZXRIZWFkID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdmFyIGluY2x1ZGVKYXZhc2NyaXB0RmlsZSA9IGZ1bmN0aW9uKHVybCkgewogICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LndyaXRlKCI8c2NyaXB0IHNyYz0nIiArIHVybCArICInIHR5cGU9J3RleHQvamF2YXNjcmlwdCc+PC9zY3JpcHQ+Iik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZhbGwgdGhyb3VnaAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOwogICAgICAgICAgICAgICAgc2NyaXB0LnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKICAgICAgICAgICAgICAgIHNjcmlwdC5sYW5ndWFnZSA9ICJKYXZhU2NyaXB0IjsKICAgICAgICAgICAgICAgIHNjcmlwdC5zcmMgPSB1cmw7CiAgICAgICAgICAgICAgICBnZXRIZWFkKCkuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdmFyIGluY2x1ZGVDc3NGaWxlID0gZnVuY3Rpb24odXJsKSB7CiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYm9keSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQud3JpdGUoIjxsaW5rIHJlbD0nc3R5bGVzaGVldCcgaHJlZj0nIiArIHVybCArICInIHR5cGU9J3RleHQvY3NzJy8+Iik7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZhbGwgdGhyb3VnaAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIik7CiAgICAgICAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgicmVsIiwgInN0eWxlc2hlZXQiKTsKICAgICAgICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCJ0eXBlIiwgInRleHQvY3NzIik7CiAgICAgICAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHVybCk7CiAgICAgICAgICAgICAgICBnZXRIZWFkKCkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGluY2x1ZGVKYXZhc2NyaXB0RmlsZXMgPSBmdW5jdGlvbih1cmxQcmVmaXgsIGZpbGVuYW1lcykgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlbmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpbmNsdWRlSmF2YXNjcmlwdEZpbGUodXJsUHJlZml4ICsgZmlsZW5hbWVzW2ldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgaW5jbHVkZUNzc0ZpbGVzID0gZnVuY3Rpb24odXJsUHJlZml4LCBmaWxlbmFtZXMpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZW5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaW5jbHVkZUNzc0ZpbGUodXJsUHJlZml4ICsgZmlsZW5hbWVzW2ldKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLyoKICAgICAgICAgKiAgSW5jbHVkZSBub24tbG9jYWxpemVkIGZpbGVzCiAgICAgICAgICovCiAgICAgICAgaWYgKGJ1bmRsZSkgewogICAgICAgICAgICBpbmNsdWRlSmF2YXNjcmlwdEZpbGVzKFRpbWVsaW5lLnVybFByZWZpeCwgWyAiYnVuZGxlLmpzIiBdKTsKICAgICAgICAgICAgaW5jbHVkZUNzc0ZpbGVzKFRpbWVsaW5lLnVybFByZWZpeCwgWyAiYnVuZGxlLmNzcyIgXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaW5jbHVkZUphdmFzY3JpcHRGaWxlcyhUaW1lbGluZS51cmxQcmVmaXggKyAic2NyaXB0cy8iLCBqYXZhc2NyaXB0RmlsZXMpOwogICAgICAgICAgICBpbmNsdWRlQ3NzRmlsZXMoVGltZWxpbmUudXJsUHJlZml4ICsgInN0eWxlcy8iLCBjc3NGaWxlcyk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8qCiAgICAgICAgICogIEluY2x1ZGUgbG9jYWxpemVkIGZpbGVzCiAgICAgICAgICovCiAgICAgICAgdmFyIGxvYWRMb2NhbGUgPSBbXTsKICAgICAgICBsb2FkTG9jYWxlW2RlZmF1bHRTZXJ2ZXJMb2NhbGVdID0gdHJ1ZTsKICAgICAgICAKICAgICAgICB2YXIgdHJ5RXhhY3RMb2NhbGUgPSBmdW5jdGlvbihsb2NhbGUpIHsKICAgICAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCBzdXBwb3J0ZWRMb2NhbGVzLmxlbmd0aDsgbCsrKSB7CiAgICAgICAgICAgICAgICBpZiAobG9jYWxlID09IHN1cHBvcnRlZExvY2FsZXNbbF0pIHsKICAgICAgICAgICAgICAgICAgICBsb2FkTG9jYWxlW2xvY2FsZV0gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdmFyIHRyeUxvY2FsZSA9IGZ1bmN0aW9uKGxvY2FsZSkgewogICAgICAgICAgICBpZiAodHJ5RXhhY3RMb2NhbGUobG9jYWxlKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgdmFyIGRhc2ggPSBsb2NhbGUuaW5kZXhPZigiLSIpOwogICAgICAgICAgICBpZiAoZGFzaCA+IDAgJiYgdHJ5RXhhY3RMb2NhbGUobG9jYWxlLnN1YnN0cigwLCBkYXNoKSkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGUuc3Vic3RyKDAsIGRhc2gpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCBkZXNpcmVkTG9jYWxlcy5sZW5ndGg7IGwrKykgewogICAgICAgICAgICB0cnlMb2NhbGUoZGVzaXJlZExvY2FsZXNbbF0pOwogICAgICAgIH0KICAgICAgICAKICAgICAgICB2YXIgZGVmYXVsdENsaWVudExvY2FsZSA9IGRlZmF1bHRTZXJ2ZXJMb2NhbGU7CiAgICAgICAgdmFyIGRlZmF1bHRDbGllbnRMb2NhbGVzID0gKCJsYW5ndWFnZSIgaW4gbmF2aWdhdG9yID8gbmF2aWdhdG9yLmxhbmd1YWdlIDogbmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZSkuc3BsaXQoIjsiKTsKICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IGRlZmF1bHRDbGllbnRMb2NhbGVzLmxlbmd0aDsgbCsrKSB7CiAgICAgICAgICAgIHZhciBsb2NhbGUgPSB0cnlMb2NhbGUoZGVmYXVsdENsaWVudExvY2FsZXNbbF0pOwogICAgICAgICAgICBpZiAobG9jYWxlICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIGRlZmF1bHRDbGllbnRMb2NhbGUgPSBsb2NhbGU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHN1cHBvcnRlZExvY2FsZXMubGVuZ3RoOyBsKyspIHsKICAgICAgICAgICAgdmFyIGxvY2FsZSA9IHN1cHBvcnRlZExvY2FsZXNbbF07CiAgICAgICAgICAgIGlmIChsb2FkTG9jYWxlWw==bG9jYWxlXSkgewogICAgICAgICAgICAgICAgaW5jbHVkZUphdmFzY3JpcHRGaWxlcyhUaW1lbGluZS51cmxQcmVmaXggKyAic2NyaXB0cy9sMTBuLyIgKyBsb2NhbGUgKyAiLyIsIGxvY2FsaXplZEphdmFzY3JpcHRGaWxlcyk7CiAgICAgICAgICAgICAgICBpbmNsdWRlQ3NzRmlsZXMoVGltZWxpbmUudXJsUHJlZml4ICsgInN0eWxlcy9sMTBuLyIgKyBsb2NhbGUgKyAiLyIsIGxvY2FsaXplZENzc0ZpbGVzKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICBUaW1lbGluZS5QbGF0Zm9ybS5zZXJ2ZXJMb2NhbGUgPSBkZWZhdWx0U2VydmVyTG9jYWxlOwogICAgICAgIFRpbWVsaW5lLlBsYXRmb3JtLmNsaWVudExvY2FsZSA9IGRlZmF1bHRDbGllbnRMb2NhbGU7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgYWxlcnQoZSk7CiAgICB9Cn0pKCk7</content>
    <filesize>8630</filesize>
  </attachment>
  <object>
    <name>MailArchiveCode.TimeLineSheet</name>
    <number>0</number>
    <className>XWiki.JavaScriptExtension</className>
    <guid>63d3e3a7-4b00-4e0f-8819-0f16463159a0</guid>
    <class>
      <name>XWiki.JavaScriptExtension</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <cache>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>cache</name>
        <number>5</number>
        <prettyName>Caching policy</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators> ,|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>long|short|default|forbid</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </cache>
      <code>
        <disabled>0</disabled>
        <name>code</name>
        <number>2</number>
        <prettyName>Code</prettyName>
        <rows>20</rows>
        <size>50</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <parse>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>parse</name>
        <number>4</number>
        <prettyName>Parse content</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </parse>
      <use>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>use</name>
        <number>3</number>
        <prettyName>Use this extension</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators> ,|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>currentPage=Always on this page|onDemand=On demand|always=Always on this wiki</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </use>
    </class>
    <property>
      <cache>default</cache>
    </property>
    <property>
      <code>document.write("{{html clean="false" wiki="true"}}&lt;script src='http://simile.mit.edu/timeline/api/timeline-api.js' type='text/javascript'&gt;&lt;/script&gt;{{/html}}" );</code>
    </property>
    <property>
      <name>TimeLine JS inclusion</name>
    </property>
    <property>
      <parse>1</parse>
    </property>
    <property>
      <use>onDemand</use>
    </property>
  </object>
  <object>
    <name>MailArchiveCode.TimeLineSheet</name>
    <number>0</number>
    <className>XWiki.StyleSheetExtension</className>
    <guid>9aff5c37-714e-4ba3-965b-7d8051715d81</guid>
    <class>
      <name>XWiki.StyleSheetExtension</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <cache>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>cache</name>
        <number>5</number>
        <prettyName>Caching policy</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators> ,|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>long|short|default|forbid</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </cache>
      <code>
        <disabled>0</disabled>
        <name>code</name>
        <number>2</number>
        <prettyName>Code</prettyName>
        <rows>20</rows>
        <size>50</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <parse>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>parse</name>
        <number>4</number>
        <prettyName>Parse content</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </parse>
      <use>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>use</name>
        <number>3</number>
        <prettyName>Use this extension</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators> ,|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>currentPage=Always on this page|onDemand=On demand|always=Always on this wiki</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </use>
    </class>
    <property>
      <cache>default</cache>
    </property>
    <property>
      <code>.timeline-default {     
  font-family: Trebuchet MS, Helvetica, Arial, sans serif; 
  font-size: 9pt; 
  border: 1px solid #aaa; 
}
.timeline-event-bubble-body {     
  font-family: Trebuchet MS, Helvetica, Arial, sans serif; 
  font-size: 10pt; 
}
.timeline-band img {   
  width:16px; 
  height:16px; 
}
.timeline-event-bubble-body img {   
  float:left; 
}
.timeline-event-bubble-image {   
  width:64px; 
}
.timeline-event-tape {   
  height:4px; 
}
{{velocity filter="none"}}
#set($xwql = "select list.Tag, list.color from Document doc, doc.object(MailArchiveCode.MailingListClass) as list where doc.name&lt;&gt;'MailArchiveCode.ListsSettingsTemplate'")
#set($lists = $services.query.xwql($xwql).execute())
#foreach($list in $lists)
.tape-${list[0]} {
  background-color:${list[1]} !important;
}
#end
{{/velocity}}</code>
    </property>
    <property>
      <name>Timeline StyleSheet Extension</name>
    </property>
    <property>
      <parse>1</parse>
    </property>
    <property>
      <use>onDemand</use>
    </property>
  </object>
  <object>
    <name>MailArchiveCode.TimeLineSheet</name>
    <number>0</number>
    <className>XWiki.TagClass</className>
    <guid>ea22d685-8b9a-4a45-9e3e-20eb48849851</guid>
    <class>
      <name>XWiki.TagClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <tags>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>input</displayType>
        <multiSelect>1</multiSelect>
        <name>tags</name>
        <number>1</number>
        <prettyName>Tags</prettyName>
        <relationalStorage>1</relationalStorage>
        <separator>|</separator>
        <separators>|,</separators>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <values/>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </tags>
    </class>
    <property>
      <tags/>
    </property>
  </object>
</xwikidoc>
