From - Sun Jun 02 12:45:30 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp213511igb;
        Wed, 18 Apr 2012 07:01:02 -0700 (PDT)
Received: by 10.180.78.40 with SMTP id y8mr17199285wiw.15.1334757658851;
        Wed, 18 Apr 2012 07:00:58 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id fg10si16330618wib.11.2012.04.18.07.00.57;
        Wed, 18 Apr 2012 07:00:58 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id AB76C6A642A0;
	Wed, 18 Apr 2012 14:01:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id R1QRnEZQozrt; Wed, 18 Apr 2012 14:01:45 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 14ABF6A640B1;
	Wed, 18 Apr 2012 14:00:31 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 084A26A600B5
	for <devs@xwiki.org>; Wed, 18 Apr 2012 14:00:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id oOa6GZsWv2xc for <devs@xwiki.org>;
	Wed, 18 Apr 2012 14:00:20 +0000 (UTC)
Received: from mail-qa0-f51.google.com (mail-qa0-f51.google.com
	[209.85.216.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id 095E26A60019
	for <devs@xwiki.org>; Wed, 18 Apr 2012 14:00:19 +0000 (UTC)
Received: by qaea16 with SMTP id a16so479582qae.3
	for <devs@xwiki.org>; Wed, 18 Apr 2012 06:59:28 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=google.com; s=20120113;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type:content-transfer-encoding:x-gm-message-state;
	bh=b11zooG4oA96afGrS/JsbpW8kC0cu8ARsXWNqVGmr5U=;
	b=BvQR1AQEFyusaHDI9H7oUvqEcyTgGcwKE+yLjQnq4PZ+HEU//0orBlaqSY0bB+/ew2
	GMawV3Xpa2bPc7C6ryMLOrS/6ElMTKI36XGGyyD3VF6LcRUseWUymfq7JKv2vyoInI3z
	OaM9aEbMN28NKd6unaopGXaeIs+QpNBToruQ0MIOmDZn7GuL0Dzzd5MKVIcr9zNk/KYJ
	pKOf3qTexnM4oJaB6OeLDAUU5zJbZLFBmuDnXIS83+mru0mUnYEXSsdbVIQnABi1CqqV
	st0MZ4fHoYZWkSM4j7BowH8/cj2txRBVnANjp02HnAdt33dfdYpr6aKEfl3vtM10V5zT
	fXzw==
MIME-Version: 1.0
Received: by 10.224.175.83 with SMTP id w19mr3563454qaz.76.1334757568129; Wed,
	18 Apr 2012 06:59:28 -0700 (PDT)
Received: by 10.229.135.85 with HTTP; Wed, 18 Apr 2012 06:59:28 -0700 (PDT)
In-Reply-To: <CAHt_GbKimjAPimV3NiaaGWmwWx_A8F1vYDUiFfOOQs=DRYfFjQ@mail.gmail.com>
References: <CAHt_GbKimjAPimV3NiaaGWmwWx_A8F1vYDUiFfOOQs=DRYfFjQ@mail.gmail.com>
Date: Wed, 18 Apr 2012 16:59:28 +0300
Message-ID: <CALZcbBab9yOcwXAmjwbw3ssnq96oL5Ksbd99UKHM_A+LrP4Ffg@mail.gmail.com>
From: Marius Dumitru Florea <mariusdumitru.florea@xwiki.com>
To: XWiki Developers <devs@xwiki.org>
X-Gm-Message-State: ALoCoQkVCHCQ7f0fcj04rZURCY6vmlcm0/c0KVB0iRdm3WtxyfnTF9fHkufjbtTUUsY+1UHAMKb+
Subject: Re: [xwiki-devs] An edit problem
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

I can't reproduce with Firefox 11, Chrome 18, IE8 nor Opera 11.62.

Hope this helps,
Marius

On Wed, Apr 18, 2012 at 4:21 AM, jinlong liu <liujinlong5788@gmail.com> wro=
te:
> I use the xwiki 3.5.When I edit a long text(longer than one screen) =A0wi=
th
> the wysiwyg, Every time I press t he enter button or insert a heading,it
> will jump t.o the head of the page which I am editing.Is there any soluti=
on
> to it or it is just a problem only I met
> _______________________________________________
> devs mailing list
> devs@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/devs
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:45:30 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp170004igb;
        Tue, 17 Apr 2012 18:21:32 -0700 (PDT)
Received: by 10.216.139.29 with SMTP id b29mr214497wej.55.1334712088637;
        Tue, 17 Apr 2012 18:21:28 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id u37si23883306weq.25.2012.04.17.18.21.26;
        Tue, 17 Apr 2012 18:21:28 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 62DF46A646AE;
	Wed, 18 Apr 2012 01:22:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lZLu1XUqvHLA; Wed, 18 Apr 2012 01:22:14 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 22C9C6A646A5;
	Wed, 18 Apr 2012 01:22:09 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id C751D6A642A0
	for <devs@xwiki.org>; Wed, 18 Apr 2012 01:22:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id tvyLWBvZL5QP for <devs@xwiki.org>;
	Wed, 18 Apr 2012 01:22:02 +0000 (UTC)
Received: from mail-pz0-f45.google.com (mail-pz0-f45.google.com
	[209.85.210.45])
	by borabora.xwiki.com (Postfix) with ESMTPS id 023256A60002
	for <devs@xwiki.org>; Wed, 18 Apr 2012 01:22:01 +0000 (UTC)
Received: by dacx6 with SMTP id x6so7603206dac.32
	for <devs@xwiki.org>; Tue, 17 Apr 2012 18:21:10 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=mime-version:date:message-id:subject:from:to:content-type;
	bh=WEQhK37/sDAMcR/eQtw/ZbuvFlM2lohBsT367aYg3Z8=;
	b=OJUM76mx8ygDm10WH/Gq1cHrRM4QWT5FkxlzXhsifyYb+2FyOGmB2av7FVEd/87YDK
	UokeiB14t0fmtjQ6Z1pPJpanoeQ1j230jN2w6Gej82YMSTE8xddPEF7awT8gn+tAWsWs
	yXtbi+liZ8bkfnymWq58dAbn1qXmFVsuP0jmoWI1+kEDaBwmsz1ojJVzfDbggznzRw/l
	c2QaXCKtyDRficcWjHge9aBL9ZN5cwaMS/IniXpCxRePBtyxNOhinNlMdFIq9jyEUhXr
	c5PNbTtRpazae10UdANOhaECra0Krng3QaMj7Y81t5xTCZBlGYOeopCwtpUaOcOmx+Kv
	Igsw==
MIME-Version: 1.0
Received: by 10.68.225.104 with SMTP id rj8mr1707514pbc.135.1334712070109;
	Tue, 17 Apr 2012 18:21:10 -0700 (PDT)
Received: by 10.142.79.10 with HTTP; Tue, 17 Apr 2012 18:21:10 -0700 (PDT)
Date: Wed, 18 Apr 2012 09:21:10 +0800
Message-ID: <CAHt_GbKimjAPimV3NiaaGWmwWx_A8F1vYDUiFfOOQs=DRYfFjQ@mail.gmail.com>
From: jinlong liu <liujinlong5788@gmail.com>
To: devs@xwiki.org
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: [xwiki-devs] An edit problem
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

I use the xwiki 3.5.When I edit a long text(longer than one screen)  with
the wysiwyg, Every time I press t he enter button or insert a heading,it
will jump t.o the head of the page which I am editing.Is there any solution
to it or it is just a problem only I met
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:45:30 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp124855igb;
        Tue, 17 Apr 2012 06:14:52 -0700 (PDT)
Received: by 10.213.114.13 with SMTP id c13mr1159177ebq.167.1334668489187;
        Tue, 17 Apr 2012 06:14:49 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id l67si21883496weq.112.2012.04.17.06.14.47;
        Tue, 17 Apr 2012 06:14:49 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 123BB6A642A0;
	Tue, 17 Apr 2012 13:15:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Al4lRpB6QyWV; Tue, 17 Apr 2012 13:15:34 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id B80166A64374;
	Tue, 17 Apr 2012 13:15:28 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 15D5C6A642A0
	for <devs@xwiki.org>; Tue, 17 Apr 2012 13:15:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id 2Z3-cwmkMPZ9 for <devs@xwiki.org>;
	Tue, 17 Apr 2012 13:15:22 +0000 (UTC)
Received: from mail-yw0-f51.google.com (mail-yw0-f51.google.com
	[209.85.213.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id D7CEA6A60010
	for <devs@xwiki.org>; Tue, 17 Apr 2012 13:15:21 +0000 (UTC)
Received: by yhnn12 with SMTP id n12so3617045yhn.24
	for <devs@xwiki.org>; Tue, 17 Apr 2012 06:14:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=mime-version:in-reply-to:references:from:date:message-id:subject:to
	:content-type; bh=OdJi+4qD7vuz8HBYGo73i5q6YjUuPdnPvyD6GpPv3dI=;
	b=ZU1T95pxNMPuY1s4U1y62Xgu22Sycl+1ikTaldc/wWTQiuECC34Lv1np2FTGVH8AE8
	D32p/eGQVNy31Q9vqsxU+J4GGR3OYTnJxs7quxdAL3vnW4C6Yw55IyK8QTskxJdLeb5m
	hCytMcjriYjYNHOg0NESUyxQ+nOcRKZ8+MVx2b4GjKXpL9KmzXGpLnsOrjz92isDP0H2
	BDrqHbdXx8EpPVMvWIg5OFyAAot0JYqWOeXzg9ZNfzHoPzEl/3klCKqPleQoPEaL8Tw7
	oE6SSBGReatY4L6VLAjMLmmmNJWRZg1mMsko7YVMJ+LDigCpal1zQw4AWI/3IziMqN4l
	DC9Q==
Received: by 10.50.157.227 with SMTP id wp3mr9514888igb.27.1334668469691; Tue,
	17 Apr 2012 06:14:29 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.26.213 with HTTP; Tue, 17 Apr 2012 06:14:09 -0700 (PDT)
In-Reply-To: <5812331B-F728-45C7-A8DB-67EB1041324B@massol.net>
References: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
	<CADGDyYLqcLHx2JmCEGfjsP20UbxPDLZyqq=R-TgD5YMPp-qqLg@mail.gmail.com>
	<5812331B-F728-45C7-A8DB-67EB1041324B@massol.net>
From: Eduard Moraru <enygma2002@gmail.com>
Date: Tue, 17 Apr 2012 16:14:09 +0300
Message-ID: <CADGDyYJAQ7Rk177NOyj7H1=FPNP8nWd+epU87mk+5zQTD7pphg@mail.gmail.com>
To: XWiki Developers <devs@xwiki.org>
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

On Sat, Apr 14, 2012 at 10:40 AM, Vincent Massol <vincent@massol.net> wrote:

>
> On Apr 14, 2012, at 12:12 AM, Eduard Moraru wrote:
>
> > Hi,
> >
> > On Fri, Apr 13, 2012 at 6:43 PM, Vincent Massol <vincent@massol.net>
> wrote:
> >
> >> Hi devs,
> >>
> >> We already have ApplicationStartedEvent and ApplicationReadyEvent (when
> DB
> >> is ready). We also need an event when the wiki is ready since in s a
> >> multiwiki environment when you create a new wiki for example, you might
> >> need to init some stuff (like initialize mandatory classes). It's also
> >> needed the first time a request comes in for a given wiki.
> >>
> >> Thus I  propose to add a WikiReadyEvent next to ApplicationStartedEvent
> >> and to send it in XWiki.updateDatabase():
> >>
> >> ...
> >>           synchronized (wikiName) {
> >>               if (!wikiList.contains(wikiName)) {
> >>                   wikiList.add(wikiName);
> >>
> >>                   // Make sure these classes exists
> >>                   if (initClasses) {
> >>                       initializeMandatoryClasses(context);
> >>                       getPluginManager().virtualInit(context);
> >>                       getRenderingEngine().virtualInit(context);
> >>                   }
> >>
> >> --> send WikiReadyEvent here
> >>
> >>               }
> >>           }
> >>
> >> WDYT?
> >>
> >
> > +1. I could have used that on the annotations migrator instead of
> > ApplicationReadyEvent.
>
> Does it mean you're not using a Migrator?
>

A poor choice of words on my side. I was actually talking about this
https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-annotations/xwiki-platform-annotation-io/src/main/java/org/xwiki/annotation/internal/CheckAnnotationClassEventListener.javawhich
targeted the currently configured annotations class.

For the rest, yes, I`ve used a migrator (migration 40001:
https://github.com/xwiki/xwiki-platform/blob/master/xwiki-platform-core/xwiki-platform-annotations/xwiki-platform-annotation-io/src/main/java/org/xwiki/annotation/io/internal/migration/hibernate/R40001XWIKI7540DataMigration.java).


Thanks,
Eduard

>
> Thanks
> -Vincent
>
> > Thanks,
> > Eduard
> >
> >
> >>
> >> Note that I was tempted to have a WikiCreatedEvent event sent when
> >> creating a wiki but that wouldn't fill the use case of initializing the
> >> wiki on the first request to it.
> >>
> >> Thanks
> >> -Vincent
> _______________________________________________
> devs mailing list
> devs@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/devs
>
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:45:30 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp102808igb;
        Tue, 17 Apr 2012 00:37:52 -0700 (PDT)
Received: by 10.180.106.9 with SMTP id gq9mr25746204wib.17.1334648271930;
        Tue, 17 Apr 2012 00:37:51 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id fo9si11085246wib.3.2012.04.17.00.37.50;
        Tue, 17 Apr 2012 00:37:51 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id D1BE46A600AA;
	Tue, 17 Apr 2012 07:38:36 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id auuY5ZP6ux9L; Tue, 17 Apr 2012 07:38:36 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 3D6626A6432A;
	Tue, 17 Apr 2012 07:38:27 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 1DBFC6A600AA
	for <devs@xwiki.org>; Tue, 17 Apr 2012 07:38:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id 2JJcbfRAK0mm for <devs@xwiki.org>;
	Tue, 17 Apr 2012 07:38:16 +0000 (UTC)
Received: from mail-wg0-f43.google.com (mail-wg0-f43.google.com [74.125.82.43])
	by borabora.xwiki.com (Postfix) with ESMTPS id 649396A642E1
	for <devs@xwiki.org>; Tue, 17 Apr 2012 07:38:16 +0000 (UTC)
Received: by wgbdr12 with SMTP id dr12so5035590wgb.24
	for <devs@xwiki.org>; Tue, 17 Apr 2012 00:37:29 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=sender:content-type:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to:x-mailer;
	bh=QWEDSaqgpTgTdynWrFhmDwmyiw6QNeyhvvQ/hqgjFws=;
	b=gpE1fCqoIPLrsMNZ55YpOPVH0pcWBa/cHpdmS0UBoTn8M69qM4KDzS9a9ww7SL2Ipq
	Nb14A2VF1HX/A1G0SlEXP5yAqxWjSzSi5x4OesNaW8AIiQ9UezUKdqrQEttHzFOCDAvl
	UjjLdDut1xqFcLzC6ujOidzj2N31PJPl3k6BpClGXFVC55kt4ga3zHHxQFkzhItIdymi
	6Df2r4gq7O/xMydXXPC3gJOIUK6azFsDkS68nzw0VIpF3WeWji5e94jrqRzDOnDbqxle
	f0AStkfF2/4be60HQBWg6oGrks2KuEL0499FKqWZhvRO3vZG3fn3ijf5h4o4pEAxIZ+4
	VePQ==
Received: by 10.180.97.41 with SMTP id dx9mr4479711wib.9.1334648248845;
	Tue, 17 Apr 2012 00:37:28 -0700 (PDT)
Received: from [192.168.0.10] (lam60-1-82-233-128-14.fbx.proxad.net.
	[82.233.128.14])
	by mx.google.com with ESMTPS id ff9sm25099345wib.2.2012.04.17.00.37.26
	(version=TLSv1/SSLv3 cipher=OTHER);
	Tue, 17 Apr 2012 00:37:27 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v1257)
From: Vincent Massol <vincent@massol.net>
In-Reply-To: <CAJHKGXtt4WcCKKMe9ENtomKaK7LEof4k0J96u2EGu2L90Jt0uA@mail.gmail.com>
Date: Tue, 17 Apr 2012 09:37:24 +0200
Message-Id: <D59FDADA-C39F-4E55-80D0-DE0A5B1C3D94@massol.net>
References: <CAJHKGXtt4WcCKKMe9ENtomKaK7LEof4k0J96u2EGu2L90Jt0uA@mail.gmail.com>
To: XWiki Developers <devs@xwiki.org>
X-Mailer: Apple Mail (2.1257)
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org


On Apr 16, 2012, at 4:52 PM, Richard Hierlmeier wrote:

> Am 13.04.2012 17:43 schrieb "Vincent Massol" <vincent@massol.net>:
>> =

>> Hi devs,
>> =

>> We already have ApplicationStartedEvent and ApplicationReadyEvent (when
> DB is ready). We also need an event when the wiki is ready since in s a
> multiwiki environment when you create a new wiki for example, you might
> need to init some stuff (like initialize mandatory classes). It's also
> needed the first time a request comes in for a given wiki.
>> =

>> Thus I  propose to add a WikiReadyEvent next to ApplicationStartedEvent
> and to send it in XWiki.updateDatabase():
>> =

>> ...
>>           synchronized (wikiName) {
>>               if (!wikiList.contains(wikiName)) {
>>                   wikiList.add(wikiName);
>> =

>>                   // Make sure these classes exists
>>                   if (initClasses) {
>>                       initializeMandatoryClasses(context);
>>                       getPluginManager().virtualInit(context);
>>                       getRenderingEngine().virtualInit(context);
>>                   }
>> =

>> --> send WikiReadyEvent here
>> =

>>               }
>>           }
>> =

> =

> Is it a good practise to call event listeners  in the synchronized block?
> (see Brian G=F6tz, Java Concurrence in Practise, never call alien code fr=
om a
> synchronized block)

Good point. Although it's very unlikely it's going to cause trouble it's be=
tter to move the call just after the synchronized block.

Thanks
-Vincent

> My 2cents
> =

>   Richard
> =

>> WDYT?
>> =

>> Note that I was tempted to have a WikiCreatedEvent event sent when
> creating a wiki but that wouldn't fill the use case of initializing the
> wiki on the first request to it.
>> =

>> Thanks
>> -Vincent
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:45:30 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp124611igb;
        Tue, 17 Apr 2012 06:11:30 -0700 (PDT)
Received: by 10.180.76.240 with SMTP id n16mr28327361wiw.10.1334668287706;
        Tue, 17 Apr 2012 06:11:27 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id u51si21875466wec.103.2012.04.17.06.10.57;
        Tue, 17 Apr 2012 06:11:27 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 4889C6A644AE;
	Tue, 17 Apr 2012 13:11:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kZuLwkp+bzvi; Tue, 17 Apr 2012 13:11:44 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id B981A6A64374;
	Tue, 17 Apr 2012 13:11:27 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id B60DC6A6001A
	for <devs@xwiki.org>; Tue, 17 Apr 2012 13:11:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id zkh+mGyURkn5 for <devs@xwiki.org>;
	Tue, 17 Apr 2012 13:11:13 +0000 (UTC)
Received: from mail-gx0-f179.google.com (mail-gx0-f179.google.com
	[209.85.161.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 7AD226A642A0
	for <devs@xwiki.org>; Tue, 17 Apr 2012 13:11:08 +0000 (UTC)
Received: by ggni2 with SMTP id i2so3623404ggn.24
	for <devs@xwiki.org>; Tue, 17 Apr 2012 06:10:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=mime-version:in-reply-to:references:from:date:message-id:subject:to
	:content-type; bh=b4h3DbrQbyFgp7QdUq1P/jvAI753CPZQbo9G07Tz+EA=;
	b=thp9bChbbPZD4LZJvfLlLPsCS9XdXAyJzMULNkdo+mW8Lbs+aANDpxyrADzWnySgt7
	GzP9EtZ6HdYo+UbAJ9CQYIYwLVVhuLOUtw62t9PFN441D/VhHQgWMeUIygzLeejwi8t5
	AVxuOqzkVEhNTh/pPwYzFz1puEuxBkYROdYyjrEuCboovaYn8S75/7GJemvElY4/CAwR
	LjSuf5v/qoRGIfEcRwPJmBNBeBUk/BxRyB2QEXoJkyOOLGmSRxyIbk/LDkfFhxVacpCy
	ncqrfctisx6M7ircCRdiIIjYT0RpAd4s26y3W7V69hnkDUFA2dJfiuKSm8ar5Gte4JOm
	XHrQ==
Received: by 10.50.36.195 with SMTP id s3mr9497975igj.27.1334668217592; Tue,
	17 Apr 2012 06:10:17 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.26.213 with HTTP; Tue, 17 Apr 2012 06:09:57 -0700 (PDT)
In-Reply-To: <1B7E4F47-6E57-4FFC-8426-113A168789F2@massol.net>
References: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
	<E31FFEF2-DBC4-418D-A8C7-BD24FC9A622D@hoplahup.net>
	<CADGDyYKdaYy6V_VjNefhQHk=kDiTku3Z-1ptrNY7Z3F0-uvc4A@mail.gmail.com>
	<1B7E4F47-6E57-4FFC-8426-113A168789F2@massol.net>
From: Eduard Moraru <enygma2002@gmail.com>
Date: Tue, 17 Apr 2012 16:09:57 +0300
Message-ID: <CADGDyYKhBefOVJOuZuq2Z9DUPQTCRLbt1JFhT3puT_NqsPK8QA@mail.gmail.com>
To: XWiki Developers <devs@xwiki.org>
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

T24gVHVlLCBBcHIgMTcsIDIwMTIgYXQgMTA6NDkgQU0sIFZpbmNlbnQgTWFzc29sIDx2aW5jZW50
QG1hc3NvbC5uZXQ+IHdyb3RlOgoKPgo+IE9uIEFwciAxNCwgMjAxMiwgYXQgMTI6MTMgQU0sIEVk
dWFyZCBNb3JhcnUgd3JvdGU6Cj4KPiA+IE9uIEZyaSwgQXByIDEzLCAyMDEyIGF0IDY6NDcgUE0s
IFBhdWwgTGliYnJlY2h0IDxwYXVsQGhvcGxhaHVwLm5ldD4KPiB3cm90ZToKPiA+Cj4gPj4gVmlu
Y2VudCwKPiA+Pgo+ID4+IG9uIElSQyB5b3UgaGFkIHN1Z2dlc3RlZCBtZSB0byB1c2Ugc3VjaCBh
biBldmVudC4KPiA+PiBJIGNvdWxkbid0IGZpbmQgaXQuCj4gPj4gSXMgdGhlcmUgYW4gb3ZlcnZp
ZXcgb2Ygc3VjaCBldmVudHM/Cj4gPj4KPiA+Cj4gPiBUaGF0IHdvdWxkIGluZGVlZCBiZSBhIHZh
bHVlYWJsZSBwaWVjZSBvZiBsb3JlLCBzcGVjaWFsbHkgZm9yIChidXQgbm90Cj4gPiBsaW1pdGVk
IHRvKSBuZXdjb21lcnMuCj4KPiBFZGR5LCB0aGVyZSdzIGFuIG92ZXJ2aWV3LCBpdCdzIGF0Ogo+
IGh0dHA6Ly9leHRlbnNpb25zLnh3aWtpLm9yZy94d2lraS9iaW4vdmlldy9FeHRlbnNpb24vT2Jz
ZXJ2YXRpb24rTW9kdWxlCj4KCk5vdCB0YWxraW5nIGFib3V0IHRoYXQuCgoKPgo+IFdoYXQncyBt
aXNzaW5nIElNTyBpcyB0aGF0IGVhY2ggTW9kdWxlIG5lZWRzIHRvIGRvY3VtZW50IHdoYXQgRXZl
bnRzIGl0Cj4gY3JlYXRlcyBhbmQgdGh1cyB3aGF0IGV2ZW50IGNhbiBiZSBjb25zdW1lZCBieSBv
dGhlcnMuIEl0J3MgdXAgdG8gZWFjaAo+IG1vZHVsZSB0byBkb2N1bWVudCB0aGF0Lgo+Cj4gRm9y
IGV4YW1wbGUgdGhlIE1vZGVsIG1vZHVsZSBzaG91bGQgZG9jdW1lbnQgYWxsIHRoZSBtb2RlbCBl
dmVudHMKPiAoYWRkL3VwZGF0ZS9kZWxldGUgZm9yIGFsbCBFbnRpdGllcykuIFJpZ2h0IG5vdyB3
ZSBoYXZlIDIgbW9kZWwgbW9kdWxlczoKPiB4d2lraS1wbGF0Zm9ybS1vbGRjb3JlIGFuZCB4d2lr
aS1wbGF0Zm9ybS1tb2RlbC4KPiBSaWdodCBub3cgd2UgaGF2ZQo+IGh0dHA6Ly9leHRlbnNpb25z
Lnh3aWtpLm9yZy94d2lraS9iaW4vdmlldy9FeHRlbnNpb24vTW9kZWwrTW9kdWxlIGFuZCB3ZQo+
IGNvdWxkIGVpdGhlciBhZGQgZG9jIGZvciB0aGUgb2xkY29yZSB0aGVyZSB0b28gb3IgKGJldHRl
cikgY3JlYXRlIGFuCj4gb2xkY29yZSBtb2R1bGUgb24gZS54Lm8uCj4KClRoaXMgaXMgd2hhdCBJ
IHdhcyByZWZlcnJpbmcgdG8gKHNhbWUgYXMgUGF1bCksIHRob3VnaCBpdCB3b3VsZCBiZSBtdWNo
Cm1vcmUgdmFsdWFibGUgaWYgd2UgY291bGQgY29tZSB1cCB3aXRoIGEgZG9jdW1lbnRhdGlvbiBz
Y2hlbWUgdGhhdCBjb3VsZApvZmZlciBhIHNpbmdsZSBlbnRyeSBwb2ludCBmb3IgYWxsIHRoZSB2
ZW50cyAoc29tZWhvdyBhZ2dyZWdhdGVkIGZyb20gYWxsCnRoZSBvdGhlciBtb2R1bGVzKS4KCkkg
a25vdyB0aGF0IGl0YHMgZWFjaCBtb2R1bGUncyB0YXNrIHRvIGRvY3VtZW50IGV2ZW50cyAoYW5k
IG90aGVyIEFQSQppdGVtcyksIGJ1dCBhbiBhZ2dyZWdhdGVkIGV2ZW50cyBkb2N1bWVudGF0aW9u
IChvciBhdCBsZWFzdCBsaXN0IHdpdGgKImV2ZW50IC0+IG1vZHVsZSIgaXRlbXMgd2hlcmUgdG8g
Z28gZm9yIG1vcmUgZGV0YWlscykgd291bGQgYmUgZ3JlYXQuIFlvdQpjYW4gbm90IGFzc3VtZSBl
dmVyeWJvZHkga25vd3MgdGhlIGNvZGUgYnkgaGVhcnQuCgpUaGFua3MsCkVkdWFyZAoKPgo+IFRo
YW5rcwo+IC1WaW5jZW50Cj4KPiA+IFRoYW5rcywKPiA+IEVkdWFyZAo+ID4KPiA+Pgo+ID4+IHRo
YW5rcyBpbiBhZHZhbmNlCj4gPj4KPiA+PiBQYXVsCj4gPj4KPiA+Pgo+ID4+IExlIDEzIGF2ci4g
MjAxMiDDoCAxNzo0MywgVmluY2VudCBNYXNzb2wgYSDDqWNyaXQgOgo+ID4+Cj4gPj4+IEhpIGRl
dnMsCj4gPj4+Cj4gPj4+IFdlIGFscmVhZHkgaGF2ZSBBcHBsaWNhdGlvblN0YXJ0ZWRFdmVudCBh
bmQgQXBwbGljYXRpb25SZWFkeUV2ZW50ICh3aGVuCj4gPj4gREIgaXMgcmVhZHkpLiBXZSBhbHNv
IG5lZWQgYW4gZXZlbnQgd2hlbiB0aGUgd2lraSBpcyByZWFkeSBzaW5jZSBpbiBzIGEKPiA+PiBt
dWx0aXdpa2kgZW52aXJvbm1lbnQgd2hlbiB5b3UgY3JlYXRlIGEgbmV3IHdpa2kgZm9yIGV4YW1w
bGUsIHlvdSBtaWdodAo+ID4+IG5lZWQgdG8gaW5pdCBzb21lIHN0dWZmIChsaWtlIGluaXRpYWxp
emUgbWFuZGF0b3J5IGNsYXNzZXMpLiBJdCdzIGFsc28KPiA+PiBuZWVkZWQgdGhlIGZpcnN0IHRp
bWUgYSByZXF1ZXN0IGNvbWVzIGluIGZvciBhIGdpdmVuIHdpa2kuCj4gPj4+Cj4gPj4+IFRodXMg
SSAgcHJvcG9zZSB0byBhZGQgYSBXaWtpUmVhZHlFdmVudCBuZXh0IHRvIEFwcGxpY2F0aW9uU3Rh
cnRlZEV2ZW50Cj4gPj4gYW5kIHRvIHNlbmQgaXQgaW4gWFdpa2kudXBkYXRlRGF0YWJhc2UoKToK
PiA+Pj4KPiA+Pj4gLi4uCj4gPj4+ICAgICAgICAgICBzeW5jaHJvbml6ZWQgKHdpa2lOYW1lKSB7
Cj4gPj4+ICAgICAgICAgICAgICAgaWYgKCF3aWtpTGlzdC5jb250YWlucyh3aWtpTmFtZSkpIHsK
PiA+Pj4gICAgICAgICAgICAgICAgICAgd2lraUxpc3QuYWRkKHdpa2lOYW1lKTsKPiA+Pj4KPiA+
Pj4gICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZXNlIGNsYXNzZXMgZXhpc3RzCj4g
Pj4+ICAgICAgICAgICAgICAgICAgIGlmIChpbml0Q2xhc3Nlcykgewo+ID4+PiAgICAgICAgICAg
ICAgICAgICAgICAgaW5pdGlhbGl6ZU1hbmRhdG9yeUNsYXNzZXMoY29udGV4dCk7Cj4gPj4+ICAg
ICAgICAgICAgICAgICAgICAgICBnZXRQbHVnaW5NYW5hZ2VyKCkudmlydHVhbEluaXQoY29udGV4
dCk7Cj4gPj4+ICAgICAgICAgICAgICAgICAgICAgICBnZXRSZW5kZXJpbmdFbmdpbmUoKS52aXJ0
dWFsSW5pdChjb250ZXh0KTsKPiA+Pj4gICAgICAgICAgICAgICAgICAgfQo+ID4+Pgo+ID4+PiAt
LT4gc2VuZCBXaWtpUmVhZHlFdmVudCBoZXJlCj4gPj4+Cj4gPj4+ICAgICAgICAgICAgICAgfQo+
ID4+PiAgICAgICAgICAgfQo+ID4+Pgo+ID4+PiBXRFlUPwo+ID4+Pgo+ID4+PiBOb3RlIHRoYXQg
SSB3YXMgdGVtcHRlZCB0byBoYXZlIGEgV2lraUNyZWF0ZWRFdmVudCBldmVudCBzZW50IHdoZW4K
PiA+PiBjcmVhdGluZyBhIHdpa2kgYnV0IHRoYXQgd291bGRuJ3QgZmlsbCB0aGUgdXNlIGNhc2Ug
b2YgaW5pdGlhbGl6aW5nIHRoZQo+ID4+IHdpa2kgb24gdGhlIGZpcnN0IHJlcXVlc3QgdG8gaXQu
Cj4gPj4+Cj4gPj4+IFRoYW5rcwo+ID4+PiAtVmluY2VudAo+IF9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gZGV2cyBtYWlsaW5nIGxpc3QKPiBkZXZzQHh3
aWtpLm9yZwo+IGh0dHA6Ly9saXN0cy54d2lraS5vcmcvbWFpbG1hbi9saXN0aW5mby9kZXZzCj4K
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KZGV2cyBtYWls
aW5nIGxpc3QKZGV2c0B4d2lraS5vcmcKaHR0cDovL2xpc3RzLnh3aWtpLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2RldnMK
From - Sun Jun 02 12:45:30 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp192451igb;
        Wed, 18 Apr 2012 01:39:39 -0700 (PDT)
Received: by 10.180.92.71 with SMTP id ck7mr4151176wib.2.1334738375056;
        Wed, 18 Apr 2012 01:39:35 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id o50si1056591wee.59.2012.04.18.01.39.34;
        Wed, 18 Apr 2012 01:39:35 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E7EBB6A642A0;
	Wed, 18 Apr 2012 08:40:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NdAJaSEAxBCF; Wed, 18 Apr 2012 08:40:22 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E71046A646AE;
	Wed, 18 Apr 2012 08:40:17 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id C0AD76A642A0
	for <devs@xwiki.org>; Wed, 18 Apr 2012 08:40:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id 4ufL1wQeWlBC for <devs@xwiki.org>;
	Wed, 18 Apr 2012 08:40:10 +0000 (UTC)
Received: from mail-iy0-f179.google.com (mail-iy0-f179.google.com
	[209.85.210.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 042026A6007C
	for <devs@xwiki.org>; Wed, 18 Apr 2012 08:40:09 +0000 (UTC)
Received: by iakh37 with SMTP id h37so13221202iak.24
	for <devs@xwiki.org>; Wed, 18 Apr 2012 01:39:18 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=google.com; s=20120113;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type:content-transfer-encoding:x-gm-message-state;
	bh=+V+zCR8r2ZdocGOoLLzAHt3mHlVvOAfgcf+x13x4T0M=;
	b=X4V4sZ+jgF6EhpZB6dKl3jhdJVQZtogpRsMKcPh4xq7fJuhwuMsMc+VRs8i64heqCH
	aefHGrSnSQ4GrnfCS0Pal/D0BIV7io/+f9o4GZgjXYe+sJQ49OgdBUPA+VzeHIHNl9/d
	V/hZaGR7kb6li8o27FeAKmB5m9FU13vQTWJRDOuLYDSRLICX5H+2xRVQQC3U5Biqgq2A
	dzqEbjXXFWOHpVzm39YeSF8OvdReG0yxK/FKmm6t46+iT1TSywW2TQPwiGq3OlSmFbiL
	R05IOHb/SuXLLKDMA7lo/rSrK5ZE8NiOpW3zbc9heUPJw7L5BpPYn/HVKoGqynBSgMRq
	4yrA==
MIME-Version: 1.0
Received: by 10.50.89.197 with SMTP id bq5mr12318349igb.13.1334738358256; Wed,
	18 Apr 2012 01:39:18 -0700 (PDT)
Received: by 10.42.142.69 with HTTP; Wed, 18 Apr 2012 01:39:18 -0700 (PDT)
In-Reply-To: <A10FF1D4-B926-43FA-9B5A-A18FA15419CB@massol.net>
References: <E1D984D2-AFA6-4BAB-8982-03383BDC01F5@massol.net>
	<CADb+PMrz7WU10836=wdtkbJGM-Rhh27+TqFBRS89ZJwF+N+n0g@mail.gmail.com>
	<A10FF1D4-B926-43FA-9B5A-A18FA15419CB@massol.net>
Date: Wed, 18 Apr 2012 10:39:18 +0200
Message-ID: <CAPnKnLF8_2bu_VCqXBQ86GvK=mcN88n4CUx9V8LiGxBN0Ld8qQ@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Developers <devs@xwiki.org>
X-Gm-Message-State: ALoCoQnZ24i6VRE6O7/Ymcw6Umv4thygPs5nywT3kFjnAgAMxS2KhFR116ZiOpEa9iI3CGCCRX9G
Subject: Re: [xwiki-devs] [VOTE] Legacy Module Rules
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="windows-1252"
Content-Transfer-Encoding: quoted-printable
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

On Thu, Apr 12, 2012 at 1:59 PM, Vincent Massol <vincent@massol.net> wrote:
>
> On Apr 12, 2012, at 1:51 PM, Denis Gervalle wrote:
>
>> On Thu, Apr 12, 2012 at 09:57, Vincent Massol <vincent@massol.net> wrote:
>>
>>> Hi devs,
>>>
>>> In preparation of our Deprecation Day and continuing our vote on the
>>> Deprecation strategy I'd like to propose several rules we need to clari=
fy
>>> since we need them and I'd like to finish documenting our full deprecat=
ion
>>> strategy.
>>>
>>> Rule 1: Where are Legacy modules located?
>>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>>>
>>> * Proposal:
>>> - Each Git repository needing legacy modules provides a *-legacy module
>>> for holding legacy modules. For example:
>>> -- For Commons, xwiki-commons-core/xwiki-commons-legacy/
>>> -- For Platform, xwiki-platform-core/xwiki-platform-legacy/
>>> -- For Rendering, xwiki-rendering-legacy/
>>>
>>
>> +1
>>
>>
>>> * Explanation:
>>> - It's better to locate them in a specific module (*-legacy) than inside
>>> their own module (for ex in
>>> xwiki-commons-core/xwiki-commons-component/xwiki-commons-component-lega=
cy/)
>>> because legacy modules are something we don't want to see as much as
>>> possible since we're must not use them in our code, thus it's logical to
>>> park them all together somewhere.
>>>
>>> * Notes:
>>> - This is our current rule but it's never been explicitly defined
>>>
>>> Rule 2: What do Legacy modules contain?
>>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>>>
>>> * Proposal:
>>> - Each Legacy module should replace the non-legacy module it corresponds
>>> to. This means that the user must have only 1 JAR for a given module:
>>> either its legacy version or it's non-legacy version but should never h=
ave
>>> both.
>>>
>>
>> This make me think that this could cause some difficulties for the EM to
>> install legacy modules, since it would require the non-legacy one to be
>> unloaded, or used an override mechanism by ClassLoader, which could lead=
 to
>> other issues like memory consumption, singleton classloader issue=85
>
> Thomas has introduced a notion of 'alias' in the EM but not sure if it so=
lves this. I'll let him answer when he's back.
>
> FYI we're already using it in our pom.xml. For ex for oldcore we have (do=
n't ask me what the comment means because I don't really understand it ;)):
>
> =A0 =A0<!-- The features provided by this module so that it's found when =
resolving extension that pretty much never depend on this one -->
> =A0 =A0<xwiki.extension.features>org.xwiki.platform:xwiki-platform-oldcor=
e,com.xpn.xwiki.platform:xwiki-core</xwiki.extension.features>
>
> I think this means that org.xwiki.platform:xwiki-platform-oldcore and com=
.xpn.xwiki.platform:xwiki-core are aliases of xwiki-platform-legacy-oldcore=
. But I'm not sure how this is used by the EM.

The issue is not here. No extension depends on legacy module so when
you install some extension it's usually not going to install the
legacy module. If you have a more recent version of this dependency
and moved some API used by the extension the result will be that your
extension will not work anymore.

Another issue is with core extension, if you have the proper module as
core extension (like oldcore for example) you can't replace it with
the legacy module using Extension Manager since EM cannot remove a
core extension so at best you would have both module in the
classloader which would only lead to issues.

So I agree with Denis that releasing a XE without any legacy module by
default is not that simple.

>
>> I am not really experienced with Aspects, but isn't there a better way to
>> manager this ?
>
> No
>
>> IMO we are loosing in flexibility. Is the benefit of
>> Aspect outweigh this constrain ?
>
> Yes definitely by far.
>
> IMO it's perfectly fine to not support installing legacy modules using th=
e EM since it's a very special use case. If we can support it then all the =
best, if we cannot then so be it.
>
> Thanks
> -Vincent
>
>>> * Explanation:
>>> - We need consistency. Right now we have oldcore which acts like this b=
ut
>>> others don't and it's complex to explain to users that for some they ha=
ve
>>> to swap them and for others they have to keep both side by side
>>> - In the very close future, we'll use a lot of Aspects in modules others
>>> than legacy-oldcore, and thus we'll need to apply this strategy anyway.
>>>
>>> * Notes:
>>> - Currently, only oldcore acts like this.
>>> - The consequence is that we'll have one legacy module per non legacy
>>> modules. Right now we sometimes have one legacy module for several non
>>> legacy modules which we'll need to fix
>>>
>>> Here's my +1 to both.
>>>
>>> Thanks
>>> -Vincent
> _______________________________________________
> devs mailing list
> devs@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/devs



-- =

Thomas Mortagne
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:45:31 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp103625igb;
        Tue, 17 Apr 2012 00:49:38 -0700 (PDT)
Received: by 10.180.95.74 with SMTP id di10mr25198897wib.1.1334648977599;
        Tue, 17 Apr 2012 00:49:37 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id u38si20994029weq.62.2012.04.17.00.49.36;
        Tue, 17 Apr 2012 00:49:37 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id BADF46A6447B;
	Tue, 17 Apr 2012 07:50:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 6hn-nw9eqAGp; Tue, 17 Apr 2012 07:50:23 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 838F46A64374;
	Tue, 17 Apr 2012 07:50:18 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id BA8BF6A642E1
	for <devs@xwiki.org>; Tue, 17 Apr 2012 07:50:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id 6aYwoZd-IhRC for <devs@xwiki.org>;
	Tue, 17 Apr 2012 07:50:10 +0000 (UTC)
Received: from mail-wg0-f43.google.com (mail-wg0-f43.google.com [74.125.82.43])
	by borabora.xwiki.com (Postfix) with ESMTPS id 871896A60079
	for <devs@xwiki.org>; Tue, 17 Apr 2012 07:50:10 +0000 (UTC)
Received: by wgbdr12 with SMTP id dr12so5043947wgb.24
	for <devs@xwiki.org>; Tue, 17 Apr 2012 00:49:22 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=sender:content-type:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to:x-mailer;
	bh=2DmcYV12MItHwO359HrQVB0IFwkyMWe63OezHlOLA/E=;
	b=Ie0dBuUAOkWdYERLjqeINYWWh+l+1oy5alCIGomfMS+h4D8XPcVF7N/sKOlkgDrRjp
	hOmSvPsYqMEyJHYUgK+fnqOFHHi+Q6BuVjYG5TkgmePF3hy0R19CBUYxNfNCY7TFthXC
	P71+RdgCdW+dLD3kpm1OJyV/SZTEKWwcSoc0W09Vp7UTMGVq1SRnEoq3Aitm22O+Q5St
	A5gW4/pgIiNN/ncm3mXLC+r9RIz2DQ2jeP9FZoK9zksKb4qYxEKTBPkzc5Cf6fS/5O3j
	8HaH64XUwxhyfeBlabUgjtBrw8HJekT/eu/vRDNYXsZESh1tRmX5A2x6LXzKIsUrSyT1
	ek4w==
Received: by 10.180.98.8 with SMTP id ee8mr9823549wib.14.1334648962606;
	Tue, 17 Apr 2012 00:49:22 -0700 (PDT)
Received: from [192.168.0.10] (lam60-1-82-233-128-14.fbx.proxad.net.
	[82.233.128.14])
	by mx.google.com with ESMTPS id b3sm25167508wib.4.2012.04.17.00.49.21
	(version=TLSv1/SSLv3 cipher=OTHER);
	Tue, 17 Apr 2012 00:49:21 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v1257)
From: Vincent Massol <vincent@massol.net>
In-Reply-To: <CADGDyYKdaYy6V_VjNefhQHk=kDiTku3Z-1ptrNY7Z3F0-uvc4A@mail.gmail.com>
Date: Tue, 17 Apr 2012 09:49:19 +0200
Message-Id: <1B7E4F47-6E57-4FFC-8426-113A168789F2@massol.net>
References: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
	<E31FFEF2-DBC4-418D-A8C7-BD24FC9A622D@hoplahup.net>
	<CADGDyYKdaYy6V_VjNefhQHk=kDiTku3Z-1ptrNY7Z3F0-uvc4A@mail.gmail.com>
To: XWiki Developers <devs@xwiki.org>
X-Mailer: Apple Mail (2.1257)
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org


On Apr 14, 2012, at 12:13 AM, Eduard Moraru wrote:

> On Fri, Apr 13, 2012 at 6:47 PM, Paul Libbrecht <paul@hoplahup.net> wrote:
> =

>> Vincent,
>> =

>> on IRC you had suggested me to use such an event.
>> I couldn't find it.
>> Is there an overview of such events?
>> =

> =

> That would indeed be a valueable piece of lore, specially for (but not
> limited to) newcomers.

Eddy, there's an overview, it's at:
http://extensions.xwiki.org/xwiki/bin/view/Extension/Observation+Module

What's missing IMO is that each Module needs to document what Events it cre=
ates and thus what event can be consumed by others. It's up to each module =
to document that.

For example the Model module should document all the model events (add/upda=
te/delete for all Entities). Right now we have 2 model modules: xwiki-platf=
orm-oldcore and xwiki-platform-model.
Right now we have http://extensions.xwiki.org/xwiki/bin/view/Extension/Mode=
l+Module and we could either add doc for the oldcore there too or (better) =
create an oldcore module on e.x.o.

Thanks
-Vincent

> Thanks,
> Eduard
> =

>> =

>> thanks in advance
>> =

>> Paul
>> =

>> =

>> Le 13 avr. 2012 =E0 17:43, Vincent Massol a =E9crit :
>> =

>>> Hi devs,
>>> =

>>> We already have ApplicationStartedEvent and ApplicationReadyEvent (when
>> DB is ready). We also need an event when the wiki is ready since in s a
>> multiwiki environment when you create a new wiki for example, you might
>> need to init some stuff (like initialize mandatory classes). It's also
>> needed the first time a request comes in for a given wiki.
>>> =

>>> Thus I  propose to add a WikiReadyEvent next to ApplicationStartedEvent
>> and to send it in XWiki.updateDatabase():
>>> =

>>> ...
>>>           synchronized (wikiName) {
>>>               if (!wikiList.contains(wikiName)) {
>>>                   wikiList.add(wikiName);
>>> =

>>>                   // Make sure these classes exists
>>>                   if (initClasses) {
>>>                       initializeMandatoryClasses(context);
>>>                       getPluginManager().virtualInit(context);
>>>                       getRenderingEngine().virtualInit(context);
>>>                   }
>>> =

>>> --> send WikiReadyEvent here
>>> =

>>>               }
>>>           }
>>> =

>>> WDYT?
>>> =

>>> Note that I was tempted to have a WikiCreatedEvent event sent when
>> creating a wiki but that wouldn't fill the use case of initializing the
>> wiki on the first request to it.
>>> =

>>> Thanks
>>> -Vincent
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:45:49 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp75315igc;
        Tue, 28 Feb 2012 12:31:01 -0800 (PST)
Received: by 10.14.127.5 with SMTP id c5mr9306079eei.17.1330461053983;
        Tue, 28 Feb 2012 12:30:53 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id b42si1789031eec.196.2012.02.28.12.30.51;
        Tue, 28 Feb 2012 12:30:52 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id BD53B6A646F8;
	Tue, 28 Feb 2012 20:27:16 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330460836; bh=csDEyhmPHLgc/PpTIvrkJBCmMe1LVL5+4G0kNVrywyo=;
	h=MIME-Version:Date:Message-ID:From:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=nAJDTQC8OOTnHttRkYlkPd8wKVybujm4/S2MC1YLgqljPelVLMnDF1h6aUi4Afzhu
	 YDr1bcVROgGiDAN+3ZRNDJUmAtqwaVGftvSnmduciSX3Bz0y5uobOrPkQhIsOt+vfW
	 cyvMbu8TZEewBhPb4CTVVSxLzEhpwbDGfe77k3LY=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hkZv8wuogZua; Tue, 28 Feb 2012 20:27:16 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 2FB326A64700;
	Tue, 28 Feb 2012 20:27:15 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330460835; bh=csDEyhmPHLgc/PpTIvrkJBCmMe1LVL5+4G0kNVrywyo=;
	h=MIME-Version:Date:Message-ID:From:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=KfNxg2qnuqM1oMUi/Hy5anf5pbgAb719n1lpGDzAPmHiXFPXzPoEXZl0eu566GuUN
	 dgHbmL0P3eWnqsW8eHJeJfINArZwdqp+67uUbgr5ymH35Y4VK135ZYAp41EQ/Ce2Yj
	 LXHryd6Slj4FLoG/+UCSMXE1OcO45pSeXylBQTcY=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 6872C6A646F8
	for <users@xwiki.org>; Tue, 28 Feb 2012 20:27:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id gPvLPEM+rC4T for <users@xwiki.org>;
	Tue, 28 Feb 2012 20:27:11 +0000 (UTC)
Received: from mail-qw0-f44.google.com (mail-qw0-f44.google.com
	[209.85.216.44])
	by borabora.xwiki.com (Postfix) with ESMTPS id 435B36A646F3
	for <users@xwiki.org>; Tue, 28 Feb 2012 20:27:11 +0000 (UTC)
Received: by qadc14 with SMTP id c14so965193qad.3
	for <users@xwiki.org>; Tue, 28 Feb 2012 12:30:42 -0800 (PST)
Received-SPF: pass (google.com: domain of pgmjsd@gmail.com designates
	10.229.106.221 as permitted sender) client-ip=10.229.106.221;
Received: from mr.google.com ([10.229.106.221])
	by 10.229.106.221 with SMTP id y29mr8436491qco.88.1330461042665
	(num_hops = 1); Tue, 28 Feb 2012 12:30:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=mime-version:date:message-id:subject:from:to:content-type;
	bh=+g7wKoWACN9kUlg24KcXkPDPlGZzfvJQ+sohqfGBDEM=;
	b=xuUJ0cqx9/bDyMKpqiLzRiIpofiHdXZgsujndBWZdjsVYPedw7sZVV0MTzdJIql2fH
	qmVhI1k61pZ0ob28M/NjnJvWtoKC3ZZosOimUuSy3wPzlZtBHSkKYoLQNHrvLo76DnX9
	SJhKgv/wo/cCPEMH0Mrt3Dw4cLk559f32Afms=
MIME-Version: 1.0
Received: by 10.229.106.221 with SMTP id y29mr6973784qco.88.1330461042558;
	Tue, 28 Feb 2012 12:30:42 -0800 (PST)
Received: by 10.229.29.1 with HTTP; Tue, 28 Feb 2012 12:30:42 -0800 (PST)
Date: Tue, 28 Feb 2012 15:30:42 -0500
Message-ID: <CABZYKhb0hKoEbXiKH2v2b8cOmzVfSTkHikqNVR_i2PAE2H5y=Q@mail.gmail.com>
From: Joshua Davis <pgmjsd@gmail.com>
To: users@xwiki.org
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: [xwiki-users] Lucene re-index problem
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

After upgrading to XWiki 3.5 (from 2.6) I noticed that the Lucene search
index was not working properly.   On advice I got in the #xwiki IRC chat, I
shut down the server (Tomcat), deleted the Lucene index directory, and
restarted the server.   Only about 300 of the thousands of pages were
indexed at that point.    I tried re-indexing using the Admin->Search page,
but every time I do that the Admin->Search page gets 'stuck' (won't render).

I saw no errors in the catalina.out log file, and I configured
WEB-INF/classes/logback.xml to enable some more logging to a separate
file... still nothing very informative.

Any ideas what I can do to troubleshoot this?   I'm guessing there's some
page in my wiki database that is causing the re-index process to get stuck.

Thanks in advance,

- Josh
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:27 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp61329igb;
        Mon, 16 Apr 2012 07:52:47 -0700 (PDT)
Received: by 10.180.98.8 with SMTP id ee8mr3406872wib.14.1334587966114;
        Mon, 16 Apr 2012 07:52:46 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id j10si18576144wed.143.2012.04.16.07.52.43;
        Mon, 16 Apr 2012 07:52:46 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@googlemail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E34976A640B6;
	Mon, 16 Apr 2012 14:53:28 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id JV3bRWlOr25C; Mon, 16 Apr 2012 14:53:28 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 8F5B86A640B8;
	Mon, 16 Apr 2012 14:53:24 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E77026A640B6
	for <devs@xwiki.org>; Mon, 16 Apr 2012 14:53:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id JHkxhesOjipU for <devs@xwiki.org>;
	Mon, 16 Apr 2012 14:53:15 +0000 (UTC)
Received: from mail-lpp01m010-f51.google.com (mail-lpp01m010-f51.google.com
	[209.85.215.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id 063B16A6000A
	for <devs@xwiki.org>; Mon, 16 Apr 2012 14:53:14 +0000 (UTC)
Received: by laap9 with SMTP id p9so4670508laa.24
	for <devs@xwiki.org>; Mon, 16 Apr 2012 07:52:26 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=googlemail.com; s=20120113;
	h=mime-version:date:message-id:subject:from:to:content-type;
	bh=3XJTdDaNQ3WkB9nJmvjB4yXHuqUS4BTYlrMFWl2kN20=;
	b=tHptXcIjwDQPtkZXm1WdvFe6eWAWVbA7GtD+7MsIYZmJYe0p9sunoD94X2l1wcAnnd
	eigvoiklEfBO4+UHo78dLrdmxMJuzGyuWEA8FjViC941oTVHmRfBYvlVXzxE6EOSvDUv
	1PZtrWBwVd2s/0YeAye3E6iF4p200di5huGbD62jl+ccmm6LzTOD/aFONjC5ZxO+e+tm
	BngKIEn+Sb0UzWUN65Amu6LV3qdVybPXC+dWBmVz7sJ/ZcpnciCjl3ZyKb4fVdVVgPM5
	OiRy+hStkKu3zoWQQ+ZzW24bWGrwB78o+Ajcl+adnyIBIozXV5AXlExx1yI3GDEu1+ii
	a1eg==
MIME-Version: 1.0
Received: by 10.152.105.19 with SMTP id gi19mr10677921lab.11.1334587946287;
	Mon, 16 Apr 2012 07:52:26 -0700 (PDT)
Received: by 10.152.19.98 with HTTP; Mon, 16 Apr 2012 07:52:26 -0700 (PDT)
Received: by 10.152.19.98 with HTTP; Mon, 16 Apr 2012 07:52:26 -0700 (PDT)
Date: Mon, 16 Apr 2012 16:52:26 +0200
Message-ID: <CAJHKGXtt4WcCKKMe9ENtomKaK7LEof4k0J96u2EGu2L90Jt0uA@mail.gmail.com>
From: Richard Hierlmeier <rhierlmeier@googlemail.com>
To: XWiki Developers <devs@xwiki.org>
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

Am 13.04.2012 17:43 schrieb "Vincent Massol" <vincent@massol.net>:
>
> Hi devs,
>
> We already have ApplicationStartedEvent and ApplicationReadyEvent (when
DB is ready). We also need an event when the wiki is ready since in s a
multiwiki environment when you create a new wiki for example, you might
need to init some stuff (like initialize mandatory classes). It's also
needed the first time a request comes in for a given wiki.
>
> Thus I  propose to add a WikiReadyEvent next to ApplicationStartedEvent
and to send it in XWiki.updateDatabase():
>
> ...
>            synchronized (wikiName) {
>                if (!wikiList.contains(wikiName)) {
>                    wikiList.add(wikiName);
>
>                    // Make sure these classes exists
>                    if (initClasses) {
>                        initializeMandatoryClasses(context);
>                        getPluginManager().virtualInit(context);
>                        getRenderingEngine().virtualInit(context);
>                    }
>
> --> send WikiReadyEvent here
>
>                }
>            }
>

Is it a good practise to call event listeners  in the synchronized block?
(see Brian G=F6tz, Java Concurrence in Practise, never call alien code from=
 a
synchronized block)

My 2cents

   Richard

> WDYT?
>
> Note that I was tempted to have a WikiCreatedEvent event sent when
creating a wiki but that wouldn't fill the use case of initializing the
wiki on the first request to it.
>
> Thanks
> -Vincent
> _______________________________________________
> devs mailing list
> devs@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/devs
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:27 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp42397igb;
        Fri, 13 Apr 2012 15:12:59 -0700 (PDT)
Received: by 10.216.132.30 with SMTP id n30mr1877538wei.52.1334355176713;
        Fri, 13 Apr 2012 15:12:56 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id t45si10902979wec.100.2012.04.13.15.12.30;
        Fri, 13 Apr 2012 15:12:56 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 46D5F6A64706;
	Fri, 13 Apr 2012 22:09:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id d8NQx1Oz3sEm; Fri, 13 Apr 2012 22:09:10 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 1EA2E6A646FA;
	Fri, 13 Apr 2012 22:09:09 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 46C796A646F6
	for <devs@xwiki.org>; Fri, 13 Apr 2012 22:09:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id QcX75UdLnL4k for <devs@xwiki.org>;
	Fri, 13 Apr 2012 22:09:06 +0000 (UTC)
Received: from mail-iy0-f179.google.com (mail-iy0-f179.google.com
	[209.85.210.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 4422D6A60010
	for <devs@xwiki.org>; Fri, 13 Apr 2012 22:09:06 +0000 (UTC)
Received: by iakh37 with SMTP id h37so6218577iak.24
	for <devs@xwiki.org>; Fri, 13 Apr 2012 15:12:24 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=mime-version:in-reply-to:references:from:date:message-id:subject:to
	:content-type; bh=/+Qv7RWjGrU4AKp+vA7tdBhjyulZdbALvW3n/Uqw5VQ=;
	b=ObuMQK/gAeqGslXuT6a9l2BrmvxgrCTUyFJ565r4iS5vg6oqhKOjmtK6TY+w45ZVSP
	Yg7UEus0t5Qrbqqc1flkTQFDYyyX5nOlFh0a39VIIC4CeI1XpWIjFW1/gF7wuvHChkyG
	RFuZQun4eo/G7cTqBREd8ePncdWkuByJSzhCfkdhWhv9lAphGar2MAB4XJ9UevTASlry
	7cLPkLaS6OAiw4pv2me+WmZy87Zj8dtBteQS174ufmKKiP7lEsaXNHmBNOhWzDgM/n1H
	ga8GWsGNDrB2jvSQZ9/C5SgD6cRyN4m/Jq2K5nD0NZLvbBzwC6hu1V2NGOuIFmW6w15W
	xUuQ==
Received: by 10.50.190.197 with SMTP id gs5mr3001031igc.37.1334355143937; Fri,
	13 Apr 2012 15:12:23 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.26.213 with HTTP; Fri, 13 Apr 2012 15:12:03 -0700 (PDT)
In-Reply-To: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
References: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
From: Eduard Moraru <enygma2002@gmail.com>
Date: Sat, 14 Apr 2012 01:12:03 +0300
Message-ID: <CADGDyYLqcLHx2JmCEGfjsP20UbxPDLZyqq=R-TgD5YMPp-qqLg@mail.gmail.com>
To: XWiki Developers <devs@xwiki.org>
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

Hi,

On Fri, Apr 13, 2012 at 6:43 PM, Vincent Massol <vincent@massol.net> wrote:

> Hi devs,
>
> We already have ApplicationStartedEvent and ApplicationReadyEvent (when DB
> is ready). We also need an event when the wiki is ready since in s a
> multiwiki environment when you create a new wiki for example, you might
> need to init some stuff (like initialize mandatory classes). It's also
> needed the first time a request comes in for a given wiki.
>
> Thus I  propose to add a WikiReadyEvent next to ApplicationStartedEvent
> and to send it in XWiki.updateDatabase():
>
> ...
>            synchronized (wikiName) {
>                if (!wikiList.contains(wikiName)) {
>                    wikiList.add(wikiName);
>
>                    // Make sure these classes exists
>                    if (initClasses) {
>                        initializeMandatoryClasses(context);
>                        getPluginManager().virtualInit(context);
>                        getRenderingEngine().virtualInit(context);
>                    }
>
> --> send WikiReadyEvent here
>
>                }
>            }
>
> WDYT?
>

+1. I could have used that on the annotations migrator instead of
ApplicationReadyEvent.

Thanks,
Eduard


>
> Note that I was tempted to have a WikiCreatedEvent event sent when
> creating a wiki but that wouldn't fill the use case of initializing the
> wiki on the first request to it.
>
> Thanks
> -Vincent
> _______________________________________________
> devs mailing list
> devs@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/devs
>
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:27 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp28750igb;
        Fri, 13 Apr 2012 08:55:02 -0700 (PDT)
Received: by 10.216.214.84 with SMTP id b62mr876942wep.20.1334332497189;
        Fri, 13 Apr 2012 08:54:57 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id b62si9907384wed.47.2012.04.13.08.54.56;
        Fri, 13 Apr 2012 08:54:57 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 410E36A646EF;
	Fri, 13 Apr 2012 15:51:37 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id FfpbEe6DqYWQ; Fri, 13 Apr 2012 15:51:37 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id CD39D6A646F4;
	Fri, 13 Apr 2012 15:51:27 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id DB0A16A646EF
	for <devs@xwiki.org>; Fri, 13 Apr 2012 15:51:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id n5VFOz-vuvsd for <devs@xwiki.org>;
	Fri, 13 Apr 2012 15:51:07 +0000 (UTC)
Received: from mail-we0-f179.google.com (mail-we0-f179.google.com
	[74.125.82.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 4261B6A6451B
	for <devs@xwiki.org>; Fri, 13 Apr 2012 15:51:07 +0000 (UTC)
Received: by werg1 with SMTP id g1so2596042wer.24
	for <devs@xwiki.org>; Fri, 13 Apr 2012 08:54:23 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=sender:content-type:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to:x-mailer;
	bh=OfhEkkXvdoaO7pR5m8uJxy1zDPnPfgmQdBUCwfTNfhc=;
	b=V3tZDIWaeDE4mOLaOgtINHAou/stFB5EsxF2ZNhLsrpgLn+iTRzJ30y5sPwPSUMN60
	+YkeglwAD5+ZEkpd5FhpjMLd413A9tB1BTMJ7GAgew1YYAg+3Ec9b7t3j/NaZhj73kvL
	2EbU6qAdmxUqnRu8XdzvVdTnWw2fB76TD1Ryg7JfWa/1DT+EVF6qPr41abWlVE/60LNd
	g7mZIYAwxQXC6CyXhp5CdczfzxhTmo23d+/yMLy/1TXgmJ6Vhw77tET2/aD/037QF7+l
	Gthy5Qilgv1mM/LKm/RH+uAweBlpk2uNx3CNZRtoAVG/g6fa9ikjnRN5alI34U81+HC2
	ZALg==
Received: by 10.216.150.199 with SMTP id z49mr1284166wej.59.1334332463638;
	Fri, 13 Apr 2012 08:54:23 -0700 (PDT)
Received: from [192.168.0.10] (lam60-1-82-233-128-14.fbx.proxad.net.
	[82.233.128.14])
	by mx.google.com with ESMTPS id n20sm9243314wiw.5.2012.04.13.08.54.22
	(version=TLSv1/SSLv3 cipher=OTHER);
	Fri, 13 Apr 2012 08:54:22 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v1257)
From: Vincent Massol <vincent@massol.net>
In-Reply-To: <E31FFEF2-DBC4-418D-A8C7-BD24FC9A622D@hoplahup.net>
Date: Fri, 13 Apr 2012 17:54:20 +0200
Message-Id: <CECFDD4B-C038-4BEB-9E05-E2DAC909442F@massol.net>
References: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
	<E31FFEF2-DBC4-418D-A8C7-BD24FC9A622D@hoplahup.net>
To: XWiki Developers <devs@xwiki.org>
X-Mailer: Apple Mail (2.1257)
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org


On Apr 13, 2012, at 5:47 PM, Paul Libbrecht wrote:

> Vincent,
> =

> on IRC you had suggested me to use such an event.
> I couldn't find it.

Each module can create events. For AppStarted/ReadyEvent they're currently =
in commons-observation-api

> Is there an overview of such events?

* Observation module: http://extensions.xwiki.org/xwiki/bin/view/Extension/=
Observation+Module
* For events you need to check the javadoc for each module since each modul=
e can provides its own events. There's no centralized place where all event=
s are listed ATM.

Thanks
-Vincent

> thanks in advance
> =

> Paul
> =

> =

> Le 13 avr. 2012 =E0 17:43, Vincent Massol a =E9crit :
> =

>> Hi devs,
>> =

>> We already have ApplicationStartedEvent and ApplicationReadyEvent (when =
DB is ready). We also need an event when the wiki is ready since in s a mul=
tiwiki environment when you create a new wiki for example, you might need t=
o init some stuff (like initialize mandatory classes). It's also needed the=
 first time a request comes in for a given wiki.
>> =

>> Thus I  propose to add a WikiReadyEvent next to ApplicationStartedEvent =
and to send it in XWiki.updateDatabase():
>> =

>> ...
>>           synchronized (wikiName) {
>>               if (!wikiList.contains(wikiName)) {
>>                   wikiList.add(wikiName);
>> =

>>                   // Make sure these classes exists
>>                   if (initClasses) {
>>                       initializeMandatoryClasses(context);
>>                       getPluginManager().virtualInit(context);
>>                       getRenderingEngine().virtualInit(context);
>>                   }
>> =

>> --> send WikiReadyEvent here
>> =

>>               }
>>           }
>> =

>> WDYT?
>> =

>> Note that I was tempted to have a WikiCreatedEvent event sent when creat=
ing a wiki but that wouldn't fill the use case of initializing the wiki on =
the first request to it.
>> =

>> Thanks
>> -Vincent
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:27 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp54380igb;
        Sat, 14 Apr 2012 00:40:14 -0700 (PDT)
Received: by 10.180.78.164 with SMTP id c4mr2499502wix.10.1334389213508;
        Sat, 14 Apr 2012 00:40:13 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id j10si11919267wed.69.2012.04.14.00.40.11;
        Sat, 14 Apr 2012 00:40:13 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 408696A64708;
	Sat, 14 Apr 2012 07:36:48 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ckuZP+mZhZ6j; Sat, 14 Apr 2012 07:36:47 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 0218B6A646F6;
	Sat, 14 Apr 2012 07:36:47 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 356ED6A646EF
	for <devs@xwiki.org>; Sat, 14 Apr 2012 07:36:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id 3KWZRzK+OHO4 for <devs@xwiki.org>;
	Sat, 14 Apr 2012 07:36:43 +0000 (UTC)
Received: from mail-wi0-f169.google.com (mail-wi0-f169.google.com
	[209.85.212.169])
	by borabora.xwiki.com (Postfix) with ESMTPS id B9BD46A6000B
	for <devs@xwiki.org>; Sat, 14 Apr 2012 07:36:43 +0000 (UTC)
Received: by wibhm17 with SMTP id hm17so6031531wib.0
	for <devs@xwiki.org>; Sat, 14 Apr 2012 00:40:05 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=sender:content-type:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to:x-mailer;
	bh=alj8wc3HQoFEvDIX9zHTQ+yn2P882ezRDVuzM5XKLIc=;
	b=LpS2fH+Y3dG0QC9stY5PHAPbutHevPUX1+7bRWwa+tq7C19SYb+t/Y7fiztQ+g+Zma
	8rLMgcSeXomGOUCHfDmqQys2fzmW7/i9kW4Z2zAkkMZLI0w8g76ZioUuvyrRwpcTtLht
	tTnTFIkIxQ7N9v5ZK5f0TzwdbxfTXvOO/rU5hwnsFEehg6XbPzFX+CR6GCy4LYUJRGkd
	YGJk+WLLPC2cFidIYFywPfIdi3ExeoRlMgkhi/xWDF5FmzHwZOT+r+GpTjqjooHQ2yXz
	aEqgH6D0mMnxdiW2HpHqiVmZ+y3yh1gtPYFLM22z9msa5FCNZCenvmtiXK0HiDRz2/bt
	Q/Qw==
Received: by 10.180.102.101 with SMTP id fn5mr2486600wib.6.1334389205877;
	Sat, 14 Apr 2012 00:40:05 -0700 (PDT)
Received: from [192.168.0.10] (lam60-1-82-233-128-14.fbx.proxad.net.
	[82.233.128.14])
	by mx.google.com with ESMTPS id fn2sm4223872wib.0.2012.04.14.00.40.03
	(version=TLSv1/SSLv3 cipher=OTHER);
	Sat, 14 Apr 2012 00:40:04 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v1257)
From: Vincent Massol <vincent@massol.net>
In-Reply-To: <CADGDyYLqcLHx2JmCEGfjsP20UbxPDLZyqq=R-TgD5YMPp-qqLg@mail.gmail.com>
Date: Sat, 14 Apr 2012 09:40:03 +0200
Message-Id: <5812331B-F728-45C7-A8DB-67EB1041324B@massol.net>
References: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
	<CADGDyYLqcLHx2JmCEGfjsP20UbxPDLZyqq=R-TgD5YMPp-qqLg@mail.gmail.com>
To: XWiki Developers <devs@xwiki.org>
X-Mailer: Apple Mail (2.1257)
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org


On Apr 14, 2012, at 12:12 AM, Eduard Moraru wrote:

> Hi,
> 
> On Fri, Apr 13, 2012 at 6:43 PM, Vincent Massol <vincent@massol.net> wrote:
> 
>> Hi devs,
>> 
>> We already have ApplicationStartedEvent and ApplicationReadyEvent (when DB
>> is ready). We also need an event when the wiki is ready since in s a
>> multiwiki environment when you create a new wiki for example, you might
>> need to init some stuff (like initialize mandatory classes). It's also
>> needed the first time a request comes in for a given wiki.
>> 
>> Thus I  propose to add a WikiReadyEvent next to ApplicationStartedEvent
>> and to send it in XWiki.updateDatabase():
>> 
>> ...
>>           synchronized (wikiName) {
>>               if (!wikiList.contains(wikiName)) {
>>                   wikiList.add(wikiName);
>> 
>>                   // Make sure these classes exists
>>                   if (initClasses) {
>>                       initializeMandatoryClasses(context);
>>                       getPluginManager().virtualInit(context);
>>                       getRenderingEngine().virtualInit(context);
>>                   }
>> 
>> --> send WikiReadyEvent here
>> 
>>               }
>>           }
>> 
>> WDYT?
>> 
> 
> +1. I could have used that on the annotations migrator instead of
> ApplicationReadyEvent.

Does it mean you're not using a Migrator?

Thanks
-Vincent

> Thanks,
> Eduard
> 
> 
>> 
>> Note that I was tempted to have a WikiCreatedEvent event sent when
>> creating a wiki but that wouldn't fill the use case of initializing the
>> wiki on the first request to it.
>> 
>> Thanks
>> -Vincent
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:27 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp42433igb;
        Fri, 13 Apr 2012 15:14:04 -0700 (PDT)
Received: by 10.180.107.234 with SMTP id hf10mr9689204wib.0.1334355243586;
        Fri, 13 Apr 2012 15:14:03 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id m9si3898239wim.37.2012.04.13.15.14.02;
        Fri, 13 Apr 2012 15:14:03 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id B9E2E6A646FA;
	Fri, 13 Apr 2012 22:10:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CHieQh1v6vvW; Fri, 13 Apr 2012 22:10:41 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id C1E166A646FD;
	Fri, 13 Apr 2012 22:10:39 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id CE0436A646F6
	for <devs@xwiki.org>; Fri, 13 Apr 2012 22:10:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id OlzUJmib2XPy for <devs@xwiki.org>;
	Fri, 13 Apr 2012 22:10:25 +0000 (UTC)
Received: from mail-iy0-f179.google.com (mail-iy0-f179.google.com
	[209.85.210.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id ED6FC6A63059
	for <devs@xwiki.org>; Fri, 13 Apr 2012 22:10:22 +0000 (UTC)
Received: by iakh37 with SMTP id h37so6220368iak.24
	for <devs@xwiki.org>; Fri, 13 Apr 2012 15:13:39 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=mime-version:in-reply-to:references:from:date:message-id:subject:to
	:content-type; bh=bSQcgQc05ApLtGG1AjRjeSyyvEDAgflsQ/ArUTNakOo=;
	b=ri6yh54Q2SnUEe98k6LA2uc2H9mQyLj4v7v4Up5LTNheYycxG6xAym+Y7uxSwBSu3O
	JHo99TcJO9KI2LG76Kwwaob7L8tWnJaLlziXRousuvdLvgpdpjEZfofwCuEnUcCZ+ca9
	ZPTI0dtwMvCp7m5xcQ59p4Oe7rX2jRcxTV5I7EjjYRES8C86B4E22R6jXDzKtrYDT/Kh
	aIqE+9LXOuAniij7vRlf/samla8Y+YBGI6Lenq3ze8IZBgpgDooiblxOGvWVUkoTX4YA
	U29xz8L6rnC+xsI6YBHCbvqnStuwieGkqqPxFiDq2ATFVOt8vUOYOK/zmecW5g2ugux9
	1PmQ==
Received: by 10.50.168.8 with SMTP id zs8mr2928012igb.37.1334355219220; Fri,
	13 Apr 2012 15:13:39 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.231.26.213 with HTTP; Fri, 13 Apr 2012 15:13:19 -0700 (PDT)
In-Reply-To: <E31FFEF2-DBC4-418D-A8C7-BD24FC9A622D@hoplahup.net>
References: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
	<E31FFEF2-DBC4-418D-A8C7-BD24FC9A622D@hoplahup.net>
From: Eduard Moraru <enygma2002@gmail.com>
Date: Sat, 14 Apr 2012 01:13:19 +0300
Message-ID: <CADGDyYKdaYy6V_VjNefhQHk=kDiTku3Z-1ptrNY7Z3F0-uvc4A@mail.gmail.com>
To: XWiki Developers <devs@xwiki.org>
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

T24gRnJpLCBBcHIgMTMsIDIwMTIgYXQgNjo0NyBQTSwgUGF1bCBMaWJicmVjaHQgPHBhdWxAaG9w
bGFodXAubmV0PiB3cm90ZToKCj4gVmluY2VudCwKPgo+IG9uIElSQyB5b3UgaGFkIHN1Z2dlc3Rl
ZCBtZSB0byB1c2Ugc3VjaCBhbiBldmVudC4KPiBJIGNvdWxkbid0IGZpbmQgaXQuCj4gSXMgdGhl
cmUgYW4gb3ZlcnZpZXcgb2Ygc3VjaCBldmVudHM/Cj4KClRoYXQgd291bGQgaW5kZWVkIGJlIGEg
dmFsdWVhYmxlIHBpZWNlIG9mIGxvcmUsIHNwZWNpYWxseSBmb3IgKGJ1dCBub3QKbGltaXRlZCB0
bykgbmV3Y29tZXJzLgoKVGhhbmtzLApFZHVhcmQKCj4KPiB0aGFua3MgaW4gYWR2YW5jZQo+Cj4g
UGF1bAo+Cj4KPiBMZSAxMyBhdnIuIDIwMTIgw6AgMTc6NDMsIFZpbmNlbnQgTWFzc29sIGEgw6lj
cml0IDoKPgo+ID4gSGkgZGV2cywKPiA+Cj4gPiBXZSBhbHJlYWR5IGhhdmUgQXBwbGljYXRpb25T
dGFydGVkRXZlbnQgYW5kIEFwcGxpY2F0aW9uUmVhZHlFdmVudCAod2hlbgo+IERCIGlzIHJlYWR5
KS4gV2UgYWxzbyBuZWVkIGFuIGV2ZW50IHdoZW4gdGhlIHdpa2kgaXMgcmVhZHkgc2luY2UgaW4g
cyBhCj4gbXVsdGl3aWtpIGVudmlyb25tZW50IHdoZW4geW91IGNyZWF0ZSBhIG5ldyB3aWtpIGZv
ciBleGFtcGxlLCB5b3UgbWlnaHQKPiBuZWVkIHRvIGluaXQgc29tZSBzdHVmZiAobGlrZSBpbml0
aWFsaXplIG1hbmRhdG9yeSBjbGFzc2VzKS4gSXQncyBhbHNvCj4gbmVlZGVkIHRoZSBmaXJzdCB0
aW1lIGEgcmVxdWVzdCBjb21lcyBpbiBmb3IgYSBnaXZlbiB3aWtpLgo+ID4KPiA+IFRodXMgSSAg
cHJvcG9zZSB0byBhZGQgYSBXaWtpUmVhZHlFdmVudCBuZXh0IHRvIEFwcGxpY2F0aW9uU3RhcnRl
ZEV2ZW50Cj4gYW5kIHRvIHNlbmQgaXQgaW4gWFdpa2kudXBkYXRlRGF0YWJhc2UoKToKPiA+Cj4g
PiAuLi4KPiA+ICAgICAgICAgICAgc3luY2hyb25pemVkICh3aWtpTmFtZSkgewo+ID4gICAgICAg
ICAgICAgICAgaWYgKCF3aWtpTGlzdC5jb250YWlucyh3aWtpTmFtZSkpIHsKPiA+ICAgICAgICAg
ICAgICAgICAgICB3aWtpTGlzdC5hZGQod2lraU5hbWUpOwo+ID4KPiA+ICAgICAgICAgICAgICAg
ICAgICAvLyBNYWtlIHN1cmUgdGhlc2UgY2xhc3NlcyBleGlzdHMKPiA+ICAgICAgICAgICAgICAg
ICAgICBpZiAoaW5pdENsYXNzZXMpIHsKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlh
bGl6ZU1hbmRhdG9yeUNsYXNzZXMoY29udGV4dCk7Cj4gPiAgICAgICAgICAgICAgICAgICAgICAg
IGdldFBsdWdpbk1hbmFnZXIoKS52aXJ0dWFsSW5pdChjb250ZXh0KTsKPiA+ICAgICAgICAgICAg
ICAgICAgICAgICAgZ2V0UmVuZGVyaW5nRW5naW5lKCkudmlydHVhbEluaXQoY29udGV4dCk7Cj4g
PiAgICAgICAgICAgICAgICAgICAgfQo+ID4KPiA+IC0tPiBzZW5kIFdpa2lSZWFkeUV2ZW50IGhl
cmUKPiA+Cj4gPiAgICAgICAgICAgICAgICB9Cj4gPiAgICAgICAgICAgIH0KPiA+Cj4gPiBXRFlU
Pwo+ID4KPiA+IE5vdGUgdGhhdCBJIHdhcyB0ZW1wdGVkIHRvIGhhdmUgYSBXaWtpQ3JlYXRlZEV2
ZW50IGV2ZW50IHNlbnQgd2hlbgo+IGNyZWF0aW5nIGEgd2lraSBidXQgdGhhdCB3b3VsZG4ndCBm
aWxsIHRoZSB1c2UgY2FzZSBvZiBpbml0aWFsaXppbmcgdGhlCj4gd2lraSBvbiB0aGUgZmlyc3Qg
cmVxdWVzdCB0byBpdC4KPiA+Cj4gPiBUaGFua3MKPiA+IC1WaW5jZW50Cj4gPiBfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+ID4gZGV2cyBtYWlsaW5nIGxp
c3QKPiA+IGRldnNAeHdpa2kub3JnCj4gPiBodHRwOi8vbGlzdHMueHdpa2kub3JnL21haWxtYW4v
bGlzdGluZm8vZGV2cwo+Cj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KPiBkZXZzIG1haWxpbmcgbGlzdAo+IGRldnNAeHdpa2kub3JnCj4gaHR0cDovL2xp
c3RzLnh3aWtpLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2RldnMKPgpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkZXZzIG1haWxpbmcgbGlzdApkZXZzQHh3aWtp
Lm9yZwpodHRwOi8vbGlzdHMueHdpa2kub3JnL21haWxtYW4vbGlzdGluZm8vZGV2cwo=
From - Sun Jun 02 12:48:27 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp43477igb;
        Sun, 15 Apr 2012 23:42:28 -0700 (PDT)
Received: by 10.180.83.198 with SMTP id s6mr15778771wiy.8.1334558545029;
        Sun, 15 Apr 2012 23:42:25 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id dn7si6966841wib.25.2012.04.15.23.42.24;
        Sun, 15 Apr 2012 23:42:25 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 204126A640AC;
	Mon, 16 Apr 2012 06:43:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id CynI6TtAv+jZ; Mon, 16 Apr 2012 06:43:08 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id BA4AC6A6304C;
	Mon, 16 Apr 2012 06:43:07 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E26F56A600B5
	for <devs@xwiki.org>; Mon, 16 Apr 2012 06:43:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id PXFpuoNdwDtF for <devs@xwiki.org>;
	Mon, 16 Apr 2012 06:43:04 +0000 (UTC)
Received: from moutng.kundenserver.de (moutng.kundenserver.de [212.227.17.10])
	by borabora.xwiki.com (Postfix) with ESMTP id 4A0586A60098
	for <devs@xwiki.org>; Mon, 16 Apr 2012 06:43:04 +0000 (UTC)
Received: from brouwer.fritz.box (p5DDEC3B8.dip0.t-ipconnect.de
	[93.222.195.184])
	by mrelayeu.kundenserver.de (node=mreu0) with ESMTP (Nemesis)
	id 0MaX6b-1SYqyc34or-00KJdJ; Mon, 16 Apr 2012 08:42:15 +0200
From: Paul Libbrecht <paul@hoplahup.net>
Mime-Version: 1.0 (Apple Message framework v1084)
Date: Mon, 16 Apr 2012 08:42:13 +0200
In-Reply-To: <CADGDyYKdaYy6V_VjNefhQHk=kDiTku3Z-1ptrNY7Z3F0-uvc4A@mail.gmail.com>
To: XWiki Developers <devs@xwiki.org>
References: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
	<E31FFEF2-DBC4-418D-A8C7-BD24FC9A622D@hoplahup.net>
	<CADGDyYKdaYy6V_VjNefhQHk=kDiTku3Z-1ptrNY7Z3F0-uvc4A@mail.gmail.com>
Message-Id: <3C657028-C558-4629-9F9B-6D1695A6918E@hoplahup.net>
X-Mailer: Apple Mail (2.1084)
X-Provags-ID: V02:K0:beXNKKOy1ZFK4RFQ4em+DtntdcwfvXzHuBLVTz9KHuq
	YUwvpJPJdrnmXUpMUmBjmwlxocuDYzo27EV2PHBPx6jeHBC6LO
	5YjNNC+0n392mRlzHlls1oy558O2hw/g9PpGYTCDnpd+5dur80
	T6sQ40dUFx9Y1Sizkuii9EmSG1uRhRxErIYXfOqCUsVS0kyiN1
	FQMgmvoZmTNuZM2y+OWc48ALEjPOrCwFJ7KXtr8WugFTKData+
	S9ivgPknUPNutwg7rObW03AEDqR1v9Hx0KZ9zmzDt4K1l80oZ3
	mAHxRelNBZGbb+WhRnNrZmMxCgscrLxeP5dt8IaD7Ni/wH99E5
	owNHVFCzrMLxW7sm4aK2wVeppnqady7cpR4lWusvK4dslIgq+5
	3rZUlGnJxFBpw==
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

The whole initialization listening business is quite tricky so I am:

+1 for WikiReadyEvent

but again I could be more informed with an overview
Can't this be created by collecting the relevant pointers to a javadoc?

paul


Le 14 avr. 2012 =E0 00:13, Eduard Moraru a =E9crit :

>> on IRC you had suggested me to use such an event.
>> I couldn't find it.
>> Is there an overview of such events?
>> =

> =

> That would indeed be a valueable piece of lore, specially for (but not
> limited to) newcomers.


_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:27 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp29126igb;
        Sun, 15 Apr 2012 12:53:06 -0700 (PDT)
Received: by 10.216.139.229 with SMTP id c79mr6146028wej.16.1334519582553;
        Sun, 15 Apr 2012 12:53:02 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id do7si5699520wib.38.2012.04.15.12.53.01;
        Sun, 15 Apr 2012 12:53:02 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 594196A6432A;
	Sun, 15 Apr 2012 19:53:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 0s4IleoR4jlN; Sun, 15 Apr 2012 19:53:45 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 56BE26A641EE;
	Sun, 15 Apr 2012 19:53:44 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E62B06A640C8
	for <devs@xwiki.org>; Sun, 15 Apr 2012 19:53:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id X3JasqZkVbrF for <devs@xwiki.org>;
	Sun, 15 Apr 2012 19:53:40 +0000 (UTC)
Received: from mail-iy0-f179.google.com (mail-iy0-f179.google.com
	[209.85.210.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id A22336A60083
	for <devs@xwiki.org>; Sun, 15 Apr 2012 19:53:39 +0000 (UTC)
Received: by iakh37 with SMTP id h37so8527114iak.24
	for <devs@xwiki.org>; Sun, 15 Apr 2012 12:52:52 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=google.com; s=20120113;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type:content-transfer-encoding:x-gm-message-state;
	bh=qjLhnnZtPmiaDYQrpQ/nRwQWECD4X7nt9wKl52ceENc=;
	b=ER2csu/2hXZEOgQak2PO8pfmKaDDAYcQi06voKg4GEGurD2FM/WoJPp1VZpY7Ie02R
	Da1QB+gqh9mCxas6Fxbt0P94E7cBaMMZ10A8Alu3UyrF941P25MfLuOYykYXD5faMEpj
	ZQ5M9k3cw7sjpUFq+ChN6amHSk1HMdGljY+delqcMLO4jAbeYfuq+JwQYAAD0SSDWfy4
	rhJd9eMomgrmYMUcgIgPkwJOStdXJa6pk8R/DpKuO6/ZpZFbJo1um5PK+w0T0qUewLHU
	0anCgzgcsKKODRbELBbDCTnKVJiXSZKc3qfpw9Q3fGOZlXCq/W2RC1roWvPVbDKqWG6g
	hJ4A==
MIME-Version: 1.0
Received: by 10.50.217.164 with SMTP id oz4mr3577482igc.70.1334519572781; Sun,
	15 Apr 2012 12:52:52 -0700 (PDT)
Received: by 10.42.142.69 with HTTP; Sun, 15 Apr 2012 12:52:52 -0700 (PDT)
In-Reply-To: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
References: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
Date: Sun, 15 Apr 2012 21:52:52 +0200
Message-ID: <CAPnKnLHu=jvb_vZQCkA4swyK97L7bsyE5O9qkd2sEVqNy_3PPw@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Developers <devs@xwiki.org>
X-Gm-Message-State: ALoCoQk5MZA0M/+sICA6UqkflWtdnEUnLZ7Sz16aFMblliVhETH4Q6FlmQz2xg5m8etQ9Zq/uQrw
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

On Fri, Apr 13, 2012 at 5:43 PM, Vincent Massol <vincent@massol.net> wrote:
> Hi devs,
>
> We already have ApplicationStartedEvent and ApplicationReadyEvent (when D=
B is ready). We also need an event when the wiki is ready since in s a mult=
iwiki environment when you create a new wiki for example, you might need to=
 init some stuff (like initialize mandatory classes). It's also needed the =
first time a request comes in for a given wiki.
>
> Thus I =A0propose to add a WikiReadyEvent next to ApplicationStartedEvent=
 and to send it in XWiki.updateDatabase():
>
> ...
> =A0 =A0 =A0 =A0 =A0 =A0synchronized (wikiName) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if (!wikiList.contains(wikiName)) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0wikiList.add(wikiName);
>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0// Make sure these classes exists
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if (initClasses) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0initializeMandatoryClasses=
(context);
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0getPluginManager().virtual=
Init(context);
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0getRenderingEngine().virtu=
alInit(context);
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
>
> --> send WikiReadyEvent here
>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0 =A0 =A0}
>
> WDYT?

+1

>
> Note that I was tempted to have a WikiCreatedEvent event sent when creati=
ng a wiki but that wouldn't fill the use case of initializing the wiki on t=
he first request to it.

There is a WikiCreatedEvent event already.

>
> Thanks
> -Vincent
> _______________________________________________
> devs mailing list
> devs@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/devs



-- =

Thomas Mortagne
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:27 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp55243igb;
        Sat, 14 Apr 2012 01:12:15 -0700 (PDT)
Received: by 10.180.107.234 with SMTP id hf10mr375836wib.0.1334391134703;
        Sat, 14 Apr 2012 01:12:14 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id s65si11985098weq.63.2012.04.14.01.12.07;
        Sat, 14 Apr 2012 01:12:14 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 316C76A646F6;
	Sat, 14 Apr 2012 08:08:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id gNKqNpeBAhJl; Sat, 14 Apr 2012 08:08:44 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id C082B6A646FA;
	Sat, 14 Apr 2012 08:08:42 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 761026A646F6
	for <devs@xwiki.org>; Sat, 14 Apr 2012 08:08:40 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id cKgchwocSwNV for <devs@xwiki.org>;
	Sat, 14 Apr 2012 08:08:39 +0000 (UTC)
Received: from mail-qc0-f179.google.com (mail-qc0-f179.google.com
	[209.85.216.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 230AC6A600A7
	for <devs@xwiki.org>; Sat, 14 Apr 2012 08:08:39 +0000 (UTC)
Received: by qcha6 with SMTP id a6so3102933qch.24
	for <devs@xwiki.org>; Sat, 14 Apr 2012 01:11:59 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=google.com; s=20120113;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type:content-transfer-encoding:x-gm-message-state;
	bh=vIyQ2+9kJvfi2K7cspWg8/yaC6GtpLP+VjiuV5a6ZsU=;
	b=LJbWLRShV0nu+Zn59VMmsyfg87iI9cFqBH8uKEyAg2cG8wt27Y9LV4R6GeckPD++0K
	90tn9jPxBqeC+h4EwFHVxrF6TkPSUlC40cJJ5DsiUCP7xzk5PXgjTPGq+8dxMzPCB8/m
	7gCH7AlNFd7Q8uzIsrO+OVW5ltTRFIgkrhq8Ycdk5uZ5VhK6XduMbgBkZ6ayZHpAKzXl
	SxrYzhbCwT9oh5jRXxLN5iS4T8pse/TnRrcOpqFwTxt7+e0413reD4bemph8gOC5pytI
	mop6EW8rdLqnnALjb6Nb80X6Kv8xwzgLBDeS13w/t8oTycaEXwV13EwyF9Ni5YoMJt6Z
	pfvg==
MIME-Version: 1.0
Received: by 10.224.221.146 with SMTP id ic18mr6188602qab.71.1334391119720;
	Sat, 14 Apr 2012 01:11:59 -0700 (PDT)
Received: by 10.229.164.8 with HTTP; Sat, 14 Apr 2012 01:11:59 -0700 (PDT)
In-Reply-To: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
References: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
Date: Sat, 14 Apr 2012 11:11:59 +0300
Message-ID: <CALZcbBZUKunK=MO0eg=GZooi_9Nk1cRRTmex8cOaXKwLJKPESA@mail.gmail.com>
From: Marius Dumitru Florea <mariusdumitru.florea@xwiki.com>
To: XWiki Developers <devs@xwiki.org>
X-Gm-Message-State: ALoCoQmpWvtI6WzDXq9Q65GFMhG3/v20k++qEllVC+TyIkG+oUfek9VCUo0PnOXQjTnXSVn3hK/W
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

+0

Thanks,
Marius

On Fri, Apr 13, 2012 at 6:43 PM, Vincent Massol <vincent@massol.net> wrote:
> Hi devs,
>
> We already have ApplicationStartedEvent and ApplicationReadyEvent (when D=
B is ready). We also need an event when the wiki is ready since in s a mult=
iwiki environment when you create a new wiki for example, you might need to=
 init some stuff (like initialize mandatory classes). It's also needed the =
first time a request comes in for a given wiki.
>
> Thus I =A0propose to add a WikiReadyEvent next to ApplicationStartedEvent=
 and to send it in XWiki.updateDatabase():
>
> ...
> =A0 =A0 =A0 =A0 =A0 =A0synchronized (wikiName) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if (!wikiList.contains(wikiName)) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0wikiList.add(wikiName);
>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0// Make sure these classes exists
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0if (initClasses) {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0initializeMandatoryClasses=
(context);
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0getPluginManager().virtual=
Init(context);
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0getRenderingEngine().virtu=
alInit(context);
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
>
> --> send WikiReadyEvent here
>
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0}
> =A0 =A0 =A0 =A0 =A0 =A0}
>
> WDYT?
>
> Note that I was tempted to have a WikiCreatedEvent event sent when creati=
ng a wiki but that wouldn't fill the use case of initializing the wiki on t=
he first request to it.
>
> Thanks
> -Vincent
> _______________________________________________
> devs mailing list
> devs@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/devs
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:34 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp50280igb;
        Thu, 12 Apr 2012 05:15:30 -0700 (PDT)
Received: by 10.216.135.206 with SMTP id u56mr1414902wei.29.1334232926935;
        Thu, 12 Apr 2012 05:15:26 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id eg4si6588712wib.29.2012.04.12.05.15.25;
        Thu, 12 Apr 2012 05:15:26 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 276FB6A640AB;
	Thu, 12 Apr 2012 12:12:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id a0pEjbRwMumo; Thu, 12 Apr 2012 12:12:13 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id B44926A640AC;
	Thu, 12 Apr 2012 12:12:12 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 3A7976A640AB
	for <devs@xwiki.org>; Thu, 12 Apr 2012 12:12:10 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id XN5qAmAUfgAx for <devs@xwiki.org>;
	Thu, 12 Apr 2012 12:12:08 +0000 (UTC)
Received: from mail-we0-f179.google.com (mail-we0-f179.google.com
	[74.125.82.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 08CF86A63059
	for <devs@xwiki.org>; Thu, 12 Apr 2012 12:12:08 +0000 (UTC)
Received: by werg1 with SMTP id g1so1556508wer.24
	for <devs@xwiki.org>; Thu, 12 Apr 2012 05:15:16 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=sender:content-type:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to:x-mailer;
	bh=sWlpLxz496+XxpFEch5JYSMGI9o3nq+1u9hNekxRjKs=;
	b=DoxusXooxeMAsqIhGPHfxCUj0o6CNyBq2Y+toWxqrs8OPOZAe6tRlKFlhsEKdPEln/
	6NkFPUiH8I57OtKiyfbmRq5Ye5TT9SN3FzwC2prSB9bxhHmIOdTZdnRnmoP1+8pLa5lW
	/IKZGzosXU1M/9P5H9rDvYX6PiOdZ2qjRso9b6nFc3Je/iHTf6EvML47CJ2aFi3syO3t
	SclL+p6LglIRmAMncfEBCBluEgGKZ+9MtUEnN4KYUODlp/QByzdW07n2SKRDRPWA259H
	lmd623QwNVc4qT/FUHydPGbMyfuBONXFuQlZrWWORrwAZMM2mIqx30sYxrjIdeObkH55
	EA+A==
Received: by 10.216.134.155 with SMTP id s27mr1557582wei.80.1334232916864;
	Thu, 12 Apr 2012 05:15:16 -0700 (PDT)
Received: from [192.168.0.10] (lam60-1-82-233-128-14.fbx.proxad.net.
	[82.233.128.14])
	by mx.google.com with ESMTPS id ex2sm20995341wib.8.2012.04.12.05.15.14
	(version=TLSv1/SSLv3 cipher=OTHER);
	Thu, 12 Apr 2012 05:15:15 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v1257)
From: Vincent Massol <vincent@massol.net>
In-Reply-To: <E1D984D2-AFA6-4BAB-8982-03383BDC01F5@massol.net>
Date: Thu, 12 Apr 2012 14:15:12 +0200
Message-Id: <B69184AE-17C1-40B4-8CA5-D40A2DCFEA56@massol.net>
References: <E1D984D2-AFA6-4BAB-8982-03383BDC01F5@massol.net>
To: XWiki Developers <devs@xwiki.org>
X-Mailer: Apple Mail (2.1257)
Subject: Re: [xwiki-devs] [VOTE] Legacy Module Rules
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org


On Apr 12, 2012, at 9:57 AM, Vincent Massol wrote:

> Hi devs,
> 
> In preparation of our Deprecation Day and continuing our vote on the Deprecation strategy I'd like to propose several rules we need to clarify since we need them and I'd like to finish documenting our full deprecation strategy.
> 
> Rule 1: Where are Legacy modules located?
> ===================================
> 
> * Proposal: 
> - Each Git repository needing legacy modules provides a *-legacy module for holding legacy modules. For example:
> -- For Commons, xwiki-commons-core/xwiki-commons-legacy/
> -- For Platform, xwiki-platform-core/xwiki-platform-legacy/
> -- For Rendering, xwiki-rendering-legacy/
> 
> * Explanation:
> - It's better to locate them in a specific module (*-legacy) than inside their own module (for ex in xwiki-commons-core/xwiki-commons-component/xwiki-commons-component-legacy/) because legacy modules are something we don't want to see as much as possible since we're must not use them in our code, thus it's logical to park them all together somewhere.
> 
> * Notes:
> - This is our current rule but it's never been explicitly defined
> 
> Rule 2: What do Legacy modules contain?
> =================================
> 
> * Proposal: 
> - Each Legacy module should replace the non-legacy module it corresponds to. This means that the user must have only 1 JAR for a given module: either its legacy version or it's non-legacy version but should never have both.
> 
> * Explanation:
> - We need consistency. Right now we have oldcore which acts like this but others don't and it's complex to explain to users that for some they have to swap them and for others they have to keep both side by side
> - In the very close future, we'll use a lot of Aspects in modules others than legacy-oldcore, and thus we'll need to apply this strategy anyway.
> 
> * Notes: 
> - Currently, only oldcore acts like this.
> - The consequence is that we'll have one legacy module per non legacy modules. Right now we sometimes have one legacy module for several non legacy modules which we'll need to fix
> 
> Here's my +1 to both.

We also need some way to know that the move of some deprecated API to legacy works. So I think we need Rule 3.

Rule 3: Ensure that the moved out code works
====================================

* Proposal:
- Add a unit test in the legacy module to prove that the moved code still works

* Notes:
- Usually this simply means moving the existing unit tests to the legacy module too or duplicating it and use the deprecated classes in the legacy version

Here's my +1

Thanks
-Vincent

> Thanks
> -Vincent
> 

_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:34 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp41988igb;
        Thu, 12 Apr 2012 00:57:59 -0700 (PDT)
Received: by 10.180.95.74 with SMTP id di10mr7032403wib.1.1334217478715;
        Thu, 12 Apr 2012 00:57:58 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id cg5si21308323wib.35.2012.04.12.00.57.57;
        Thu, 12 Apr 2012 00:57:58 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id A8A456A64708;
	Thu, 12 Apr 2012 07:54:45 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 2rLSc2wpv0gK; Thu, 12 Apr 2012 07:54:45 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 2865D6A646F9;
	Thu, 12 Apr 2012 07:54:39 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id D2A726A6438E
	for <devs@xwiki.org>; Thu, 12 Apr 2012 07:54:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id qJofTd1LdS96 for <devs@xwiki.org>;
	Thu, 12 Apr 2012 07:54:33 +0000 (UTC)
Received: from mail-wg0-f43.google.com (mail-wg0-f43.google.com [74.125.82.43])
	by borabora.xwiki.com (Postfix) with ESMTPS id 44F926A60006
	for <devs@xwiki.org>; Thu, 12 Apr 2012 07:54:32 +0000 (UTC)
Received: by wgbdr12 with SMTP id dr12so1403625wgb.24
	for <devs@xwiki.org>; Thu, 12 Apr 2012 00:57:42 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=sender:from:content-type:content-transfer-encoding:subject:date
	:message-id:to:mime-version:x-mailer;
	bh=iIyp05uFKUBoroQ12BG8wpcIPfGu6MFWeL02bqZ+Cm0=;
	b=VyQPRKXuQ1QSFjYOb7dgx4s+BCjpMpuQZntD0SUnueW+vrHuqX5zZtfOuf6SyHwZFw
	ZRgQOy/2Nx305zjm7SQyeGb7SfApaGmN/YogHv9JYNgM1KlfAUxJq+hiplT426FXw3lv
	uN+6L/xF3rCA7ehGudVGtEVuVxuL1LQovugUyhG1HEcsVAlTdaYn1v9t8Ajf3xmMLQP3
	iqBIp+Ng5jIkKg8+UZDYGxdRU5qyMERmAePoi4vql+V1vupUenqzHj86t1wPCvzT7WeX
	yJ9Ihcxrx6jFJWOiaHh26G+AaZqcJLkcuIeTDni0OKYZGvDDCyGQe6qDmjmiip9HDRS3
	RR8w==
Received: by 10.180.76.240 with SMTP id n16mr3447256wiw.10.1334217462196;
	Thu, 12 Apr 2012 00:57:42 -0700 (PDT)
Received: from [192.168.0.10] (lam60-1-82-233-128-14.fbx.proxad.net.
	[82.233.128.14])
	by mx.google.com with ESMTPS id ca3sm41850553wib.6.2012.04.12.00.57.40
	(version=TLSv1/SSLv3 cipher=OTHER);
	Thu, 12 Apr 2012 00:57:41 -0700 (PDT)
From: Vincent Massol <vincent@massol.net>
Date: Thu, 12 Apr 2012 09:57:39 +0200
Message-Id: <E1D984D2-AFA6-4BAB-8982-03383BDC01F5@massol.net>
To: XWiki Developers <devs@xwiki.org>
Mime-Version: 1.0 (Apple Message framework v1257)
X-Mailer: Apple Mail (2.1257)
Subject: [xwiki-devs] [VOTE] Legacy Module Rules
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

Hi devs,

In preparation of our Deprecation Day and continuing our vote on the Deprecation strategy I'd like to propose several rules we need to clarify since we need them and I'd like to finish documenting our full deprecation strategy.

Rule 1: Where are Legacy modules located?
===================================

* Proposal: 
- Each Git repository needing legacy modules provides a *-legacy module for holding legacy modules. For example:
-- For Commons, xwiki-commons-core/xwiki-commons-legacy/
-- For Platform, xwiki-platform-core/xwiki-platform-legacy/
-- For Rendering, xwiki-rendering-legacy/

* Explanation:
- It's better to locate them in a specific module (*-legacy) than inside their own module (for ex in xwiki-commons-core/xwiki-commons-component/xwiki-commons-component-legacy/) because legacy modules are something we don't want to see as much as possible since we're must not use them in our code, thus it's logical to park them all together somewhere.

* Notes:
- This is our current rule but it's never been explicitly defined

Rule 2: What do Legacy modules contain?
=================================

* Proposal: 
- Each Legacy module should replace the non-legacy module it corresponds to. This means that the user must have only 1 JAR for a given module: either its legacy version or it's non-legacy version but should never have both.

* Explanation:
- We need consistency. Right now we have oldcore which acts like this but others don't and it's complex to explain to users that for some they have to swap them and for others they have to keep both side by side
- In the very close future, we'll use a lot of Aspects in modules others than legacy-oldcore, and thus we'll need to apply this strategy anyway.

* Notes: 
- Currently, only oldcore acts like this.
- The consequence is that we'll have one legacy module per non legacy modules. Right now we sometimes have one legacy module for several non legacy modules which we'll need to fix

Here's my +1 to both.

Thanks
-Vincent

_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:34 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp28437igb;
        Fri, 13 Apr 2012 08:47:32 -0700 (PDT)
Received: by 10.216.135.141 with SMTP id u13mr1252872wei.79.1334332049032;
        Fri, 13 Apr 2012 08:47:29 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id u38si9877943weq.62.2012.04.13.08.47.27;
        Fri, 13 Apr 2012 08:47:29 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id AEAB26A646FA;
	Fri, 13 Apr 2012 15:44:08 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id XIxuSsq-NZfn; Fri, 13 Apr 2012 15:44:08 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 90B0A6A640B4;
	Fri, 13 Apr 2012 15:44:07 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 5AEA56A60082
	for <devs@xwiki.org>; Fri, 13 Apr 2012 15:44:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id WBntVB+TfwC7 for <devs@xwiki.org>;
	Fri, 13 Apr 2012 15:44:05 +0000 (UTC)
Received: from moutng.kundenserver.de (moutng.kundenserver.de
	[212.227.126.171])
	by borabora.xwiki.com (Postfix) with ESMTP id 4322C6A6007D
	for <devs@xwiki.org>; Fri, 13 Apr 2012 15:44:05 +0000 (UTC)
Received: from brouwer.fritz.box (p5DDEC3BC.dip0.t-ipconnect.de
	[93.222.195.188])
	by mrelayeu.kundenserver.de (node=mreu2) with ESMTP (Nemesis)
	id 0MJodE-1SJpB41NVk-001Efv; Fri, 13 Apr 2012 17:47:18 +0200
Mime-Version: 1.0 (Apple Message framework v1084)
From: Paul Libbrecht <paul@hoplahup.net>
In-Reply-To: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
Date: Fri, 13 Apr 2012 17:47:17 +0200
Message-Id: <E31FFEF2-DBC4-418D-A8C7-BD24FC9A622D@hoplahup.net>
References: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
To: XWiki Developers <devs@xwiki.org>
X-Mailer: Apple Mail (2.1084)
X-Provags-ID: V02:K0:Zrcav0Tbe4I1sA1lOEwCdapmuV2HecPXlQOLk8CfMfi
	Bpy8PS6tY82LZ0clF6MQsUYM0SOlA6Qx65qrAu++VcyRii6K5T
	+yw9vMkldPg5MP0H4LtjdDLlGyNv9argXQ4KQRiQ2gJHVoZ3Rs
	9BmoiFFpq2gFNZwK2aoac9gM7wNJS+lYjTO4ApkrNwpco0tZEG
	JauHitSnW6RCBk2h0zaRDf3pHhVFspj15nilNWl0OFV6rfojhW
	vy4TgCGxfJI26zkkmP0JhRpf3kqKejyHLEVF5NwBiTGcfRzfkI
	dK+ijhiPaxW1e2/26xWPso2Qh3OEOH9UUZnWY8nivb44X41pVe
	29T8nXjrGqONTWv0Wk2ET/cTGcW95JmZmK6ZJycGeiu9LftQtr
	6vdB85/t3KBeg==
Subject: Re: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

Vincent,

on IRC you had suggested me to use such an event.
I couldn't find it.
Is there an overview of such events?

thanks in advance

Paul


Le 13 avr. 2012 =E0 17:43, Vincent Massol a =E9crit :

> Hi devs,
> =

> We already have ApplicationStartedEvent and ApplicationReadyEvent (when D=
B is ready). We also need an event when the wiki is ready since in s a mult=
iwiki environment when you create a new wiki for example, you might need to=
 init some stuff (like initialize mandatory classes). It's also needed the =
first time a request comes in for a given wiki.
> =

> Thus I  propose to add a WikiReadyEvent next to ApplicationStartedEvent a=
nd to send it in XWiki.updateDatabase():
> =

> ...
>            synchronized (wikiName) {
>                if (!wikiList.contains(wikiName)) {
>                    wikiList.add(wikiName);
> =

>                    // Make sure these classes exists
>                    if (initClasses) {
>                        initializeMandatoryClasses(context);
>                        getPluginManager().virtualInit(context);
>                        getRenderingEngine().virtualInit(context);
>                    }
> =

> --> send WikiReadyEvent here
> =

>                }
>            }
> =

> WDYT?
> =

> Note that I was tempted to have a WikiCreatedEvent event sent when creati=
ng a wiki but that wouldn't fill the use case of initializing the wiki on t=
he first request to it.
> =

> Thanks
> -Vincent
> _______________________________________________
> devs mailing list
> devs@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/devs

_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp49403igb;
        Thu, 12 Apr 2012 04:51:31 -0700 (PDT)
Received: by 10.180.102.129 with SMTP id fo1mr5261276wib.6.1334231490459;
        Thu, 12 Apr 2012 04:51:30 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id m34si5829977weq.86.2012.04.12.04.51.28;
        Thu, 12 Apr 2012 04:51:30 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 1D32A6A646F9;
	Thu, 12 Apr 2012 11:48:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id NFRrz+Gcblkc; Thu, 12 Apr 2012 11:48:16 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 09FEB6A60083;
	Thu, 12 Apr 2012 11:48:15 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id BBA5D6A6007C
	for <devs@xwiki.org>; Thu, 12 Apr 2012 11:48:13 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id MN7lxB80O0la for <devs@xwiki.org>;
	Thu, 12 Apr 2012 11:48:12 +0000 (UTC)
Received: from smtp.softec.lu (smtp.softec.lu [188.165.83.179])
	by borabora.xwiki.com (Postfix) with ESMTP id 43BA86A6000B
	for <devs@xwiki.org>; Thu, 12 Apr 2012 11:48:12 +0000 (UTC)
Received: from mail-qa0-f41.google.com (mail-qa0-f41.google.com
	[209.85.216.41])
	by smtp.softec.lu (Postfix) with ESMTPSA id CF1712128F0
	for <devs@xwiki.org>; Thu, 12 Apr 2012 13:51:21 +0200 (CEST)
Received: by qafl39 with SMTP id l39so4852966qaf.7
	for <devs@xwiki.org>; Thu, 12 Apr 2012 04:51:21 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=google.com; s=20120113;
	h=mime-version:x-originating-ip:in-reply-to:references:from:date
	:message-id:subject:to:content-type:x-gm-message-state;
	bh=QWm1ibUXM+n2/uIVXizKW36ee1bR9c2lWbIuQnyoAVA=;
	b=OyEgH1/872dzwOHHtQ8hvkL7InoXwwEWLS9M+7qAK9VrK5abNmRWBWwu31rohGhwQ5
	c+gc7RCKtWQh/MjoEEApFOXtQwpQIWAuBI8PXylK+2omPpAYuhQAftPjje5GtiZEp1Xb
	Jm6VtX3THGwImKB5hIQV0rv9t1rxFMAhgPSrpsNvQSL5hC6ml7DqL8kBOKJ2PY2sEm9O
	+Vq6Y8bGI7UbPKvh+44wGJ5m5ZjFjOsr8jTqJh22kGJN5VD/xyTE7DeADeped1h4dLjz
	oCEzw/xcPETkgRKiioyII32M7JXA8Ww9ncDn374nlpLWIjp+hsNaF89evlbsUhs22rkE
	HMDA==
Received: by 10.224.211.198 with SMTP id gp6mr3357248qab.44.1334231480931;
	Thu, 12 Apr 2012 04:51:20 -0700 (PDT)
MIME-Version: 1.0
Received: by 10.229.112.134 with HTTP; Thu, 12 Apr 2012 04:51:00 -0700 (PDT)
X-Originating-IP: [88.207.134.242]
In-Reply-To: <E1D984D2-AFA6-4BAB-8982-03383BDC01F5@massol.net>
References: <E1D984D2-AFA6-4BAB-8982-03383BDC01F5@massol.net>
From: Denis Gervalle <dgl@softec.lu>
Date: Thu, 12 Apr 2012 13:51:00 +0200
Message-ID: <CADb+PMrz7WU10836=wdtkbJGM-Rhh27+TqFBRS89ZJwF+N+n0g@mail.gmail.com>
To: XWiki Developers <devs@xwiki.org>
X-Gm-Message-State: ALoCoQn3JhDrIRe29XqYshxZxfC35Zd+HI6Z+15xzq/YwA8MkVuiVpcYBn8An/Z78R3SoBFVH8Ls
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-devs] [VOTE] Legacy Module Rules
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

On Thu, Apr 12, 2012 at 09:57, Vincent Massol <vincent@massol.net> wrote:

> Hi devs,
>
> In preparation of our Deprecation Day and continuing our vote on the
> Deprecation strategy I'd like to propose several rules we need to clarify
> since we need them and I'd like to finish documenting our full deprecation
> strategy.
>
> Rule 1: Where are Legacy modules located?
> ===================================
>
> * Proposal:
> - Each Git repository needing legacy modules provides a *-legacy module
> for holding legacy modules. For example:
> -- For Commons, xwiki-commons-core/xwiki-commons-legacy/
> -- For Platform, xwiki-platform-core/xwiki-platform-legacy/
> -- For Rendering, xwiki-rendering-legacy/
>

+1


> * Explanation:
> - It's better to locate them in a specific module (*-legacy) than inside
> their own module (for ex in
> xwiki-commons-core/xwiki-commons-component/xwiki-commons-component-legacy/)
> because legacy modules are something we don't want to see as much as
> possible since we're must not use them in our code, thus it's logical to
> park them all together somewhere.
>
> * Notes:
> - This is our current rule but it's never been explicitly defined
>
> Rule 2: What do Legacy modules contain?
> =================================
>
> * Proposal:
> - Each Legacy module should replace the non-legacy module it corresponds
> to. This means that the user must have only 1 JAR for a given module:
> either its legacy version or it's non-legacy version but should never have
> both.
>

This make me think that this could cause some difficulties for the EM to
install legacy modules, since it would require the non-legacy one to be
unloaded, or used an override mechanism by ClassLoader, which could lead to
other issues like memory consumption, singleton classloader issue...
I am not really experienced with Aspects, but isn't there a better way to
manager this ? IMO we are loosing in flexibility. Is the benefit of
Aspect outweigh this constrain ?


>
> * Explanation:
> - We need consistency. Right now we have oldcore which acts like this but
> others don't and it's complex to explain to users that for some they have
> to swap them and for others they have to keep both side by side
> - In the very close future, we'll use a lot of Aspects in modules others
> than legacy-oldcore, and thus we'll need to apply this strategy anyway.
>
> * Notes:
> - Currently, only oldcore acts like this.
> - The consequence is that we'll have one legacy module per non legacy
> modules. Right now we sometimes have one legacy module for several non
> legacy modules which we'll need to fix
>
> Here's my +1 to both.
>
> Thanks
> -Vincent
>
> _______________________________________________
> devs mailing list
> devs@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/devs
>



-- 
Denis Gervalle
SOFTEC sa - CEO
eGuilde sarl - CTO
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp49681igb;
        Thu, 12 Apr 2012 05:00:00 -0700 (PDT)
Received: by 10.180.85.70 with SMTP id f6mr15377427wiz.5.1334231999792;
        Thu, 12 Apr 2012 04:59:59 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id cm8si6554168wib.6.2012.04.12.04.59.58;
        Thu, 12 Apr 2012 04:59:59 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 167D76A640AB;
	Thu, 12 Apr 2012 11:56:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AtkpaUAJxw0h; Thu, 12 Apr 2012 11:56:46 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id B4E566A640AC;
	Thu, 12 Apr 2012 11:56:37 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id A08066A640AC
	for <devs@xwiki.org>; Thu, 12 Apr 2012 11:56:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id kGBz+m2wMVS1 for <devs@xwiki.org>;
	Thu, 12 Apr 2012 11:56:22 +0000 (UTC)
Received: from mail-wi0-f171.google.com (mail-wi0-f171.google.com
	[209.85.212.171])
	by borabora.xwiki.com (Postfix) with ESMTPS id 8329F6A640AB
	for <devs@xwiki.org>; Thu, 12 Apr 2012 11:56:22 +0000 (UTC)
Received: by wibhj13 with SMTP id hj13so4687046wib.6
	for <devs@xwiki.org>; Thu, 12 Apr 2012 04:59:31 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=sender:content-type:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to:x-mailer;
	bh=urEfrPgEgMVh7eoUIuXYCxK+8mWvJ7jbe3thFDxWiqo=;
	b=g6VDGJ7X5DGBUTe63ojOxzck1y/gk+sH+xbjpcmKRkTHp79hLsQPMc3FriXNMt/8+l
	AlHhBuztGByMBqqFnqUxrTnsbyI2/dDbSjc1Tudk6nItCp55Ke2RS0OZFFpzh2DAZnx2
	jEm0+3dckS05sz50tFyPm+pvE0e7uQHhkwoNtdcLJ5gGC707TtdjrUgx7zp7MpURCV7s
	LG7ivkKG5QN3RZxZFMIz5pTO7ZwQcRKnYzqyRtnWLsVGBt2WH4fYs4lYww3TseL0U1jp
	tJOReWuY6PRHTz4XEvJrEI3C7jjoa417J/NyGDE89txfQhbo0laTWQnatHm0mtRlmz1C
	rj/g==
Received: by 10.216.135.196 with SMTP id u46mr1286629wei.114.1334231971522;
	Thu, 12 Apr 2012 04:59:31 -0700 (PDT)
Received: from [192.168.0.10] (lam60-1-82-233-128-14.fbx.proxad.net.
	[82.233.128.14])
	by mx.google.com with ESMTPS id u9sm51824650wix.0.2012.04.12.04.59.30
	(version=TLSv1/SSLv3 cipher=OTHER);
	Thu, 12 Apr 2012 04:59:30 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v1257)
From: Vincent Massol <vincent@massol.net>
In-Reply-To: <CADb+PMrz7WU10836=wdtkbJGM-Rhh27+TqFBRS89ZJwF+N+n0g@mail.gmail.com>
Date: Thu, 12 Apr 2012 13:59:28 +0200
Message-Id: <A10FF1D4-B926-43FA-9B5A-A18FA15419CB@massol.net>
References: <E1D984D2-AFA6-4BAB-8982-03383BDC01F5@massol.net>
	<CADb+PMrz7WU10836=wdtkbJGM-Rhh27+TqFBRS89ZJwF+N+n0g@mail.gmail.com>
To: XWiki Developers <devs@xwiki.org>
X-Mailer: Apple Mail (2.1257)
Subject: Re: [xwiki-devs] [VOTE] Legacy Module Rules
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="windows-1252"
Content-Transfer-Encoding: quoted-printable
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org


On Apr 12, 2012, at 1:51 PM, Denis Gervalle wrote:

> On Thu, Apr 12, 2012 at 09:57, Vincent Massol <vincent@massol.net> wrote:
> =

>> Hi devs,
>> =

>> In preparation of our Deprecation Day and continuing our vote on the
>> Deprecation strategy I'd like to propose several rules we need to clarify
>> since we need them and I'd like to finish documenting our full deprecati=
on
>> strategy.
>> =

>> Rule 1: Where are Legacy modules located?
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> =

>> * Proposal:
>> - Each Git repository needing legacy modules provides a *-legacy module
>> for holding legacy modules. For example:
>> -- For Commons, xwiki-commons-core/xwiki-commons-legacy/
>> -- For Platform, xwiki-platform-core/xwiki-platform-legacy/
>> -- For Rendering, xwiki-rendering-legacy/
>> =

> =

> +1
> =

> =

>> * Explanation:
>> - It's better to locate them in a specific module (*-legacy) than inside
>> their own module (for ex in
>> xwiki-commons-core/xwiki-commons-component/xwiki-commons-component-legac=
y/)
>> because legacy modules are something we don't want to see as much as
>> possible since we're must not use them in our code, thus it's logical to
>> park them all together somewhere.
>> =

>> * Notes:
>> - This is our current rule but it's never been explicitly defined
>> =

>> Rule 2: What do Legacy modules contain?
>> =3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D
>> =

>> * Proposal:
>> - Each Legacy module should replace the non-legacy module it corresponds
>> to. This means that the user must have only 1 JAR for a given module:
>> either its legacy version or it's non-legacy version but should never ha=
ve
>> both.
>> =

> =

> This make me think that this could cause some difficulties for the EM to
> install legacy modules, since it would require the non-legacy one to be
> unloaded, or used an override mechanism by ClassLoader, which could lead =
to
> other issues like memory consumption, singleton classloader issue=85

Thomas has introduced a notion of 'alias' in the EM but not sure if it solv=
es this. I'll let him answer when he's back.

FYI we're already using it in our pom.xml. For ex for oldcore we have (don'=
t ask me what the comment means because I don't really understand it ;)):

    <!-- The features provided by this module so that it's found when resol=
ving extension that pretty much never depend on this one -->
    <xwiki.extension.features>org.xwiki.platform:xwiki-platform-oldcore,com=
.xpn.xwiki.platform:xwiki-core</xwiki.extension.features>

I think this means that org.xwiki.platform:xwiki-platform-oldcore and com.x=
pn.xwiki.platform:xwiki-core are aliases of xwiki-platform-legacy-oldcore. =
But I'm not sure how this is used by the EM.

> I am not really experienced with Aspects, but isn't there a better way to
> manager this ?

No

> IMO we are loosing in flexibility. Is the benefit of
> Aspect outweigh this constrain ?

Yes definitely by far. =


IMO it's perfectly fine to not support installing legacy modules using the =
EM since it's a very special use case. If we can support it then all the be=
st, if we cannot then so be it.

Thanks
-Vincent

>> * Explanation:
>> - We need consistency. Right now we have oldcore which acts like this but
>> others don't and it's complex to explain to users that for some they have
>> to swap them and for others they have to keep both side by side
>> - In the very close future, we'll use a lot of Aspects in modules others
>> than legacy-oldcore, and thus we'll need to apply this strategy anyway.
>> =

>> * Notes:
>> - Currently, only oldcore acts like this.
>> - The consequence is that we'll have one legacy module per non legacy
>> modules. Right now we sometimes have one legacy module for several non
>> legacy modules which we'll need to fix
>> =

>> Here's my +1 to both.
>> =

>> Thanks
>> -Vincent
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp16475igb;
        Fri, 13 Apr 2012 04:02:12 -0700 (PDT)
Received: by 10.180.80.70 with SMTP id p6mr3556835wix.21.1334314930950;
        Fri, 13 Apr 2012 04:02:10 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id v2si9033120weq.113.2012.04.13.04.02.10;
        Fri, 13 Apr 2012 04:02:10 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 514646A6451B;
	Fri, 13 Apr 2012 10:58:52 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PHLEYsL2Av1v; Fri, 13 Apr 2012 10:58:52 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id EBCA86A646EF;
	Fri, 13 Apr 2012 10:58:45 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E3CEB6A6451B
	for <devs@xwiki.org>; Fri, 13 Apr 2012 10:58:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id ss0PAq-xFgpE for <devs@xwiki.org>;
	Fri, 13 Apr 2012 10:58:38 +0000 (UTC)
Received: from mail-wg0-f43.google.com (mail-wg0-f43.google.com [74.125.82.43])
	by borabora.xwiki.com (Postfix) with ESMTPS id C8BA46A63047
	for <devs@xwiki.org>; Fri, 13 Apr 2012 10:58:37 +0000 (UTC)
Received: by wgbdr12 with SMTP id dr12so2445850wgb.24
	for <devs@xwiki.org>; Fri, 13 Apr 2012 04:01:54 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=sender:content-type:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to:x-mailer;
	bh=s/xEAq66051DW3jNEzgE+6ejIg1+Tzu76xcwnV2LO+A=;
	b=gP1dbXalqOx6rX/h9HOQuehmKRjvzyXIRWTLV51NvypOw7Ogd04BDfEmF5LZJzljQW
	RnfrVdRPu+2lHsBK8+pYkj/9pST4OWfxwUITgsNsYCYcj9enYNb1uci6d+Rl9/FHIYTB
	WJdRda2Ded6I1PyeVEc7qlLKkx5uElBBSY1k9oprnqIwjbF8kQKvEXX9fqiw1ACM06eZ
	NyqiOqLAwZw+yIiQ0FTIcfa2ksIyceQ1kNCBMWxKi+z3SG7F7Jomkmlk6pDqRNN0OSVC
	qjo+L2g3XEYbkza1h2sVvObxiHbsQsLXungefEJdUBufsb/YukcslkK6pD9YbJWgN9dq
	B6uw==
Received: by 10.216.137.226 with SMTP id y76mr639854wei.96.1334314914558;
	Fri, 13 Apr 2012 04:01:54 -0700 (PDT)
Received: from [192.168.0.10] (lam60-1-82-233-128-14.fbx.proxad.net.
	[82.233.128.14])
	by mx.google.com with ESMTPS id n20sm6793195wiw.5.2012.04.13.04.01.52
	(version=TLSv1/SSLv3 cipher=OTHER);
	Fri, 13 Apr 2012 04:01:53 -0700 (PDT)
Mime-Version: 1.0 (Apple Message framework v1257)
From: Vincent Massol <vincent@massol.net>
In-Reply-To: <B69184AE-17C1-40B4-8CA5-D40A2DCFEA56@massol.net>
Date: Fri, 13 Apr 2012 13:01:50 +0200
Message-Id: <C44CB460-798F-4835-A3D9-1B8085DA644C@massol.net>
References: <E1D984D2-AFA6-4BAB-8982-03383BDC01F5@massol.net>
	<B69184AE-17C1-40B4-8CA5-D40A2DCFEA56@massol.net>
To: XWiki Developers <devs@xwiki.org>
X-Mailer: Apple Mail (2.1257)
Subject: Re: [xwiki-devs] [VOTE] Legacy Module Rules
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

FYI I've now validated those 3 rules by moving out the deprecated methods from ComponentManager into legacy modules (http://jira.xwiki.org/jira/browse/XCOMMONS-150)

If you wish to see what's involved:
* https://github.com/xwiki/xwiki-commons/tree/master/xwiki-commons-core/xwiki-commons-legacy/xwiki-commons-legacy-component
* https://github.com/xwiki/xwiki-enterprise/blob/master/xwiki-enterprise-web/pom.xml

If we agree with those 3 rules we're ready for the Deprecation day :)

Please vote.

Thanks
-Vincent

On Apr 12, 2012, at 2:15 PM, Vincent Massol wrote:

> 
> On Apr 12, 2012, at 9:57 AM, Vincent Massol wrote:
> 
>> Hi devs,
>> 
>> In preparation of our Deprecation Day and continuing our vote on the Deprecation strategy I'd like to propose several rules we need to clarify since we need them and I'd like to finish documenting our full deprecation strategy.
>> 
>> Rule 1: Where are Legacy modules located?
>> ===================================
>> 
>> * Proposal: 
>> - Each Git repository needing legacy modules provides a *-legacy module for holding legacy modules. For example:
>> -- For Commons, xwiki-commons-core/xwiki-commons-legacy/
>> -- For Platform, xwiki-platform-core/xwiki-platform-legacy/
>> -- For Rendering, xwiki-rendering-legacy/
>> 
>> * Explanation:
>> - It's better to locate them in a specific module (*-legacy) than inside their own module (for ex in xwiki-commons-core/xwiki-commons-component/xwiki-commons-component-legacy/) because legacy modules are something we don't want to see as much as possible since we're must not use them in our code, thus it's logical to park them all together somewhere.
>> 
>> * Notes:
>> - This is our current rule but it's never been explicitly defined
>> 
>> Rule 2: What do Legacy modules contain?
>> =================================
>> 
>> * Proposal: 
>> - Each Legacy module should replace the non-legacy module it corresponds to. This means that the user must have only 1 JAR for a given module: either its legacy version or it's non-legacy version but should never have both.
>> 
>> * Explanation:
>> - We need consistency. Right now we have oldcore which acts like this but others don't and it's complex to explain to users that for some they have to swap them and for others they have to keep both side by side
>> - In the very close future, we'll use a lot of Aspects in modules others than legacy-oldcore, and thus we'll need to apply this strategy anyway.
>> 
>> * Notes: 
>> - Currently, only oldcore acts like this.
>> - The consequence is that we'll have one legacy module per non legacy modules. Right now we sometimes have one legacy module for several non legacy modules which we'll need to fix
>> 
>> Here's my +1 to both.
> 
> We also need some way to know that the move of some deprecated API to legacy works. So I think we need Rule 3.
> 
> Rule 3: Ensure that the moved out code works
> ====================================
> 
> * Proposal:
> - Add a unit test in the legacy module to prove that the moved code still works
> 
> * Notes:
> - Usually this simply means moving the existing unit tests to the legacy module too or duplicating it and use the deprecated classes in the legacy version
> 
> Here's my +1
> 
> Thanks
> -Vincent
> 
>> Thanks
>> -Vincent
>> 
> 

_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp28250igb;
        Fri, 13 Apr 2012 08:43:11 -0700 (PDT)
Received: by 10.180.105.69 with SMTP id gk5mr6713998wib.3.1334331789691;
        Fri, 13 Apr 2012 08:43:09 -0700 (PDT)
Return-Path: <devs-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id fi1si2712969wib.43.2012.04.13.08.43.08;
        Fri, 13 Apr 2012 08:43:09 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of devs-bounces@xwiki.org) smtp.mail=devs-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 1FCA66A646FD;
	Fri, 13 Apr 2012 15:39:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ED-u3AX4vD8N; Fri, 13 Apr 2012 15:39:49 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 107776A646EF;
	Fri, 13 Apr 2012 15:39:49 +0000 (UTC)
X-Original-To: devs@xwiki.org
Delivered-To: devs@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 9833E6A646EF
	for <devs@xwiki.org>; Fri, 13 Apr 2012 15:39:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id NTIbCEn28R7F for <devs@xwiki.org>;
	Fri, 13 Apr 2012 15:39:46 +0000 (UTC)
Received: from mail-we0-f179.google.com (mail-we0-f179.google.com
	[74.125.82.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 6CE636A6451B
	for <devs@xwiki.org>; Fri, 13 Apr 2012 15:39:46 +0000 (UTC)
Received: by werg1 with SMTP id g1so2586549wer.24
	for <devs@xwiki.org>; Fri, 13 Apr 2012 08:43:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=sender:from:content-type:content-transfer-encoding:subject:date
	:message-id:to:mime-version:x-mailer;
	bh=yryIVowmN6y+yk+89YYr5cZ1Q7qKQAJT/Qb+fLAW49A=;
	b=ei9rWNwuHEhVhPUthwNd335Vy+YEce7F5wyY5cJGebtMkZ3UC74odKDhPSUd97jNuL
	anvRcJuxyxsXilu+vC5fLEw9z59u+pk0kmIxda/rLfnhnJ6HiAtRxjzpPnuHNSWjc6kl
	XX29vofSA0rEKcrCeGN16C12qS5ZlxKgsBbfi1s75vHjhLIJdqbia9OmEX62TyBhOso2
	9Fhr+U2lWOI6jZx9a93VjuNp37i2+5hlVW8tMm/QYSjyhgApE3pd8+4pZGPV/OcMh3PB
	LY25ebK4DkTk5ea0d5oqBDuPZyg7qZe0n26Sq5plr1VQlq1HndSmRw76FjW6mOI4W4wf
	cElw==
Received: by 10.216.137.156 with SMTP id y28mr1269992wei.61.1334331784439;
	Fri, 13 Apr 2012 08:43:04 -0700 (PDT)
Received: from [192.168.0.10] (lam60-1-82-233-128-14.fbx.proxad.net.
	[82.233.128.14])
	by mx.google.com with ESMTPS id k6sm5514990wiy.7.2012.04.13.08.43.02
	(version=TLSv1/SSLv3 cipher=OTHER);
	Fri, 13 Apr 2012 08:43:02 -0700 (PDT)
From: Vincent Massol <vincent@massol.net>
Date: Fri, 13 Apr 2012 17:43:00 +0200
Message-Id: <EFDB49E4-6CA8-4465-93C8-311AF470C9EB@massol.net>
To: XWiki Developers <devs@xwiki.org>
Mime-Version: 1.0 (Apple Message framework v1257)
X-Mailer: Apple Mail (2.1257)
Subject: [xwiki-devs] [Proposal] Add a WikiReadyEvent?
X-BeenThere: devs@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Developers <devs@xwiki.org>
List-Id: XWiki Developers <devs.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/devs>,
	<mailto:devs-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/devs>
List-Post: <mailto:devs@xwiki.org>
List-Help: <mailto:devs-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/devs>,
	<mailto:devs-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: devs-bounces@xwiki.org
Errors-To: devs-bounces@xwiki.org

Hi devs,

We already have ApplicationStartedEvent and ApplicationReadyEvent (when DB is ready). We also need an event when the wiki is ready since in s a multiwiki environment when you create a new wiki for example, you might need to init some stuff (like initialize mandatory classes). It's also needed the first time a request comes in for a given wiki.

Thus I  propose to add a WikiReadyEvent next to ApplicationStartedEvent and to send it in XWiki.updateDatabase():

...
            synchronized (wikiName) {
                if (!wikiList.contains(wikiName)) {
                    wikiList.add(wikiName);

                    // Make sure these classes exists
                    if (initClasses) {
                        initializeMandatoryClasses(context);
                        getPluginManager().virtualInit(context);
                        getRenderingEngine().virtualInit(context);
                    }

--> send WikiReadyEvent here

                }
            }

WDYT?

Note that I was tempted to have a WikiCreatedEvent event sent when creating a wiki but that wouldn't fill the use case of initializing the wiki on the first request to it.

Thanks
-Vincent
_______________________________________________
devs mailing list
devs@xwiki.org
http://lists.xwiki.org/mailman/listinfo/devs
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp14106igc;
        Mon, 5 Mar 2012 07:24:27 -0800 (PST)
Received: by 10.213.108.147 with SMTP id f19mr1734303ebp.162.1330961059126;
        Mon, 05 Mar 2012 07:24:19 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id f41si13080279eeo.146.2012.03.05.07.24.18;
        Mon, 05 Mar 2012 07:24:19 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 95ED46A64A2E;
	Mon,  5 Mar 2012 15:20:06 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330960806; bh=F3ftHpTErTAV4pLF0v0l0Ig5OLdidadYa1+DVcQIGNw=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=Fa05ZoqJnjreouczcC0Yv6B/qgbv1aYK3zhcAkOmt124Ru9jjGKc8sghXKotUsTcA
	 PbAkx7B6jlCbdJTZQ1i/lNZe3joJXWGCQzzRJAoXXvZVmqF/fWgA45kvfKJWHbT+HA
	 G3QwOaZIS6BLvDZ+XHjwUTbddbZce5ZzpFX4IxHo=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id SZ-Lcj5lDrK8; Mon,  5 Mar 2012 15:20:02 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 647D66A64A2A;
	Mon,  5 Mar 2012 15:20:01 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330960801; bh=F3ftHpTErTAV4pLF0v0l0Ig5OLdidadYa1+DVcQIGNw=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=B4PmlruEwLJcWgxOeYWdxx3HI3exUtIDBNErOJI8/bkzmHKuEsvSy4MjKUPfNsdus
	 WdoapOj9ZSElsCZV2EKbLQvl766MCF6y67qdTCeKcsw8yAl8/1UXTFhJ70KtG70Do0
	 /m56q/L4AcuO8FNOeTBQ1g8cufjE0N3/xp7Bdgbw=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 5EB8E6A64722
	for <users@xwiki.org>; Mon,  5 Mar 2012 15:19:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id MJA1qe8t45p9 for <users@xwiki.org>;
	Mon,  5 Mar 2012 15:19:54 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id B950E6A64685
	for <users@xwiki.org>; Mon,  5 Mar 2012 15:19:53 +0000 (UTC)
Received: by obbup3 with SMTP id up3so7792404obb.24
	for <users@xwiki.org>; Mon, 05 Mar 2012 07:24:01 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.41.6 as permitted sender) client-ip=10.182.41.6;
Received: from mr.google.com ([10.182.41.6])
	by 10.182.41.6 with SMTP id b6mr8509413obl.10.1330961041113 (num_hops =
	1); Mon, 05 Mar 2012 07:24:01 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.41.6 with SMTP id b6mr7468385obl.10.1330961040980; Mon, 05
	Mar 2012 07:24:00 -0800 (PST)
Received: by 10.182.172.66 with HTTP; Mon, 5 Mar 2012 07:24:00 -0800 (PST)
In-Reply-To: <E1S4Ylj-0000jI-UU.dafedin-mail-ru@f71.mail.ru>
References: <E1S4Ylj-0000jI-UU.dafedin-mail-ru@f71.mail.ru>
Date: Mon, 5 Mar 2012 16:24:00 +0100
Message-ID: <CAPnKnLFNvMdYEUaogG7CRnxkhLFg6KY9y2C6NvnK-uiAykyoBQ@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: =?KOI8-R?B?5M3J1NLJyiDmxcTJzg==?= <dafedin@mail.ru>, 
	XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQlbk3Mb2LMHsOTKCUqTHVdF0z9sW2pJe1yq2v1tymLVGA+s34dj/Bqe6QgzrIbfoM+cQPkM
Subject: Re: [xwiki-users] [myxwiki] new wiki request
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="koi8-r"
Content-Transfer-Encoding: base64
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

WW91IGNhbiBhY2Nlc3MgeW91ciBuZXcgd2lraSBvbiBodHRwOi8vZGFmZWRpbi5teXh3aWtpLm9y
ZwoKRW5qb3kgIQoKMjAxMi8zLzUg5M3J1NLJyiDmxcTJziA8ZGFmZWRpbkBtYWlsLnJ1PjoKPiBI
ZWxsbywgeHdpa2kgdGVhbSEKPgo+IEknbSB2ZXJ5IGludGVyZXN0ZWQgaW4gaGF2aW5nIGEgd2lr
aSBob3N0ZWQgb24gdGhpcyBmYXJtLiBUaGUgZ29lbCBvZiBteSB3aWtpIGlzIHRvIGNyZWF0ZSB0
aGUgZWR1Y2F0aW9uYWwgbm9uLWNvbW1lcmNpYWwgcG9ydGFsIGZvciBzdHVkZW50cyBvZiBvdXIg
ZGVwYXJ0bWVudC4gVGhpcyB3aWtpIHdpbGwgaGF2ZSBlbGVjdHJvbmljIGJvb2tzLCBlZHVjYXRp
b25hbCBwcm9ncmFtcyBldGMuCj4KPiBJIGhvcGUgb24gYSBjb2xsYWJvcmF0aW9uISEKPgo+IE15
IHVzZXIgbmFtZTogRG1pdHJ5IEZlZGluCj4KPiBOYW1lIG9mIHdpa2k6IGRhZmVkaW4ubXl4d2lr
aS5vcmcKPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+
IHVzZXJzIG1haWxpbmcgbGlzdAo+IHVzZXJzQHh3aWtpLm9yZwo+IGh0dHA6Ly9saXN0cy54d2lr
aS5vcmcvbWFpbG1hbi9saXN0aW5mby91c2VycwoKCgotLSAKVGhvbWFzIE1vcnRhZ25lCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCnVzZXJzIG1haWxpbmcg
bGlzdAp1c2Vyc0B4d2lraS5vcmcKaHR0cDovL2xpc3RzLnh3aWtpLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL3VzZXJzCg==
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.131.199 with SMTP id oo7csp15929igb;
        Tue, 10 Apr 2012 08:09:22 -0700 (PDT)
Received: by 10.180.98.8 with SMTP id ee8mr7911819wib.14.1334070560689;
        Tue, 10 Apr 2012 08:09:20 -0700 (PDT)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id r56si18608079weq.33.2012.04.10.08.09.18;
        Tue, 10 Apr 2012 08:09:20 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=neutral (body hash did not verify) header.i=@gmail.com
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id B5A1D6A646F4;
	Tue, 10 Apr 2012 15:06:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id mVLOYOQ3kM1w; Tue, 10 Apr 2012 15:06:17 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 931316A6438E;
	Tue, 10 Apr 2012 15:06:13 +0000 (UTC)
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 82B7B6A63047
	for <users@xwiki.org>; Tue, 10 Apr 2012 15:06:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id Tq0hyza+PgxM for <users@xwiki.org>;
	Tue, 10 Apr 2012 15:06:08 +0000 (UTC)
Received: from mail-vb0-f51.google.com (mail-vb0-f51.google.com
	[209.85.212.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id 375116A60076
	for <users@xwiki.org>; Tue, 10 Apr 2012 15:06:04 +0000 (UTC)
Received: by vbip1 with SMTP id p1so4289096vbi.24
	for <users@xwiki.org>; Tue, 10 Apr 2012 08:08:58 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type:content-transfer-encoding;
	bh=LO1hV2pO7oLA+y9MFMUWOIFCcxDxuXm/lqfKNUCH60k=;
	b=JUAbcRHfTOhIR+00Sz/kOO5k+fOd3ya2wV5Wl6/0VG5lBKAuoxrsQUyONemObZN3/I
	MdsxGZfl86x6kIFmPFFC5JOwsiDGgOBdyl9EdB+FVS6PbcMailWxnA7q1fNx4xlCEMtl
	+qEWHrJrAVAuu5inok8v8Hyx9Y4Lstc3+1fhGJJv3mQhU1I5Pi06DmSzu9IywfNULUIc
	fxOHz8dVC/N/q7p0Gdg1TZBZD4KDZdsM0NkEkcCgOhUqbMKVwPqREtrhBNx9r9KKE+lZ
	hYYQPWnJZ3wQEHzWeP2LQjmYFMWaQhGQcLdSfaoOVcFptyxR6ndsUQoP9hztbm5LLGLw
	Ky+w==
MIME-Version: 1.0
Received: by 10.52.30.9 with SMTP id o9mr4764182vdh.52.1334070537976; Tue, 10
	Apr 2012 08:08:57 -0700 (PDT)
Received: by 10.220.9.9 with HTTP; Tue, 10 Apr 2012 08:08:57 -0700 (PDT)
In-Reply-To: <CALZcbBZD9WN_EscG_rviHE8J9Z9CWPiMidUXZPc_Vq67Juea+A@mail.gmail.com>
References: <1327075425008-7208056.post@n2.nabble.com>
	<CALZcbBa=zrE8WDke10m56vHThAOUWD57cmz5iDP_sRU_nWPSUA@mail.gmail.com>
	<1333982652012-7449893.post@n2.nabble.com>
	<CALZcbBb3cf2Qv9iifo6NYLsyjLhZ=Uu4gtQNWT-E2UB=Om54sA@mail.gmail.com>
	<1334064294608-7452865.post@n2.nabble.com>
	<CAPnKnLEaME8HdWnufv5v1x=fEA0x-0JWOt1ivgK53jdYSrMw2Q@mail.gmail.com>
	<CALZcbBZD9WN_EscG_rviHE8J9Z9CWPiMidUXZPc_Vq67Juea+A@mail.gmail.com>
Date: Tue, 10 Apr 2012 16:08:57 +0100
Message-ID: <CAHJpsevBBq-wcF4LDmuppMzQaqSey7OXLEfkzqqBGj4Eh55DGQ@mail.gmail.com>
From: Diego Jesus <diego.a.r.jz@gmail.com>
To: XWiki Users <users@xwiki.org>
Subject: Re: [xwiki-users] Components : Bridge to old core and objects ?
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Ok, got it to work. The small test component is running just fine in
XWiki. However, if I try to run unit tests with maven I get the
following error:

Results :

Failed tests:
=A0 testGetDocument(com.aims.DocumentScriptTest): unexpected invocation:
context.getContext()
no expectations specified: did you...
=A0- forget to start an expectation with a cardinality clause?
=A0- call a mocked method to specify the parameter of an expectation?
what happened before this: nothing!

This are the relevant parts of my code:

@Component
@Named("documentScript")
@Singleton
public class DocumentScript implements ScriptService
{
	@Inject
	Execution context;
    ....

    public Document GetDocument(int id){
    	try {
    		ExecutionContext context =3D this.context.getContext();
// The exception trace points here
        	XWikiContext wikiContext =3D
(XWikiContext)context.getProperty("xwikicontext");
        	XWiki wiki =3D wikiContext.getWiki();
         ....



No dia 10 de Abril de 2012 14:37, Marius Dumitru Florea
<mariusdumitru.florea@xwiki.com> escreveu:
>
> On Tue, Apr 10, 2012 at 4:34 PM, Thomas Mortagne
> <thomas.mortagne@xwiki.com> wrote:
> > Probably mean you don't have the right configuration in your
> > .m2/settings.xml. See
> > http://dev.xwiki.org/xwiki/bin/view/Community/Building#HInstallingMaven
>
> Yes, I can see the 4.0-SNAPSHOT version of xwiki-platform-oldcore in
> the maven repo http://maven.xwiki.org/snapshots/org/xwiki/platform/xwiki-=
platform-oldcore/4.0-SNAPSHOT/
> .
>
> Hope this helps,
> Marius
>
> >
> > On Tue, Apr 10, 2012 at 3:24 PM, _diego <diego.a.r.jz@gmail.com> wrote:
> >> Well, I've been trying, but maven doesn't find that dependency.
> >>
> >> I've tried with several versions of the following:
> >>
> >> <dependency>
> >> =A0 =A0<groupId>org.xwiki.platform</groupId>
> >> =A0 =A0<artifactId>xwiki-platform-oldcore</artifactId>
> >> =A0 =A0<version>4.0-SNAPSHOT</version>
> >> </dependency>
> >>
> >> I also search in maven repository but there is no reference there to t=
he old
> >> core. Should I build the source from git and include the jar in my pro=
ject?
> >>
> >> --
> >> View this message in context: http://xwiki.475771.n2.nabble.com/Compon=
ents-Bridge-to-old-core-and-objects-tp7208056p7452865.html
> >> Sent from the XWiki- Users mailing list archive at Nabble.com.
> >> _______________________________________________
> >> users mailing list
> >> users@xwiki.org
> >> http://lists.xwiki.org/mailman/listinfo/users
> >
> >
> >
> > --
> > Thomas Mortagne
> > _______________________________________________
> > users mailing list
> > users@xwiki.org
> > http://lists.xwiki.org/mailman/listinfo/users
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.131.199 with SMTP id oo7csp11157igb;
        Tue, 10 Apr 2012 06:25:34 -0700 (PDT)
Received: by 10.180.80.104 with SMTP id q8mr7037441wix.14.1334064311514;
        Tue, 10 Apr 2012 06:25:11 -0700 (PDT)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id em16si14576630wid.16.2012.04.10.06.25.05;
        Tue, 10 Apr 2012 06:25:11 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E33CB6A646F5;
	Tue, 10 Apr 2012 13:22:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HnZvKR7witCR; Tue, 10 Apr 2012 13:22:05 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id B3E046A6451B;
	Tue, 10 Apr 2012 13:22:03 +0000 (UTC)
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 2ED416A6001B
	for <users@xwiki.org>; Tue, 10 Apr 2012 13:21:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id 1uOXe1cJuZkz for <users@xwiki.org>;
	Tue, 10 Apr 2012 13:21:58 +0000 (UTC)
Received: from sam.nabble.com (sam.nabble.com [216.139.236.26])
	by borabora.xwiki.com (Postfix) with ESMTPS id E7CF16A60011
	for <users@xwiki.org>; Tue, 10 Apr 2012 13:21:57 +0000 (UTC)
Received: from jim.nabble.com ([192.168.236.80])
	by sam.nabble.com with esmtp (Exim 4.72)
	(envelope-from <diego.a.r.jz@gmail.com>) id 1SHb42-0007rH-Jz
	for users@xwiki.org; Tue, 10 Apr 2012 06:24:54 -0700
Date: Tue, 10 Apr 2012 06:24:54 -0700 (PDT)
From: _diego <diego.a.r.jz@gmail.com>
To: users@xwiki.org
Message-ID: <1334064294608-7452865.post@n2.nabble.com>
In-Reply-To: <CALZcbBb3cf2Qv9iifo6NYLsyjLhZ=Uu4gtQNWT-E2UB=Om54sA@mail.gmail.com>
References: <1327075425008-7208056.post@n2.nabble.com>
	<CALZcbBa=zrE8WDke10m56vHThAOUWD57cmz5iDP_sRU_nWPSUA@mail.gmail.com>
	<1333982652012-7449893.post@n2.nabble.com>
	<CALZcbBb3cf2Qv9iifo6NYLsyjLhZ=Uu4gtQNWT-E2UB=Om54sA@mail.gmail.com>
MIME-Version: 1.0
Subject: Re: [xwiki-users] Components : Bridge to old core and objects ?
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Well, I've been trying, but maven doesn't find that dependency.

I've tried with several versions of the following:

<dependency>
    <groupId>org.xwiki.platform</groupId>
    <artifactId>xwiki-platform-oldcore</artifactId>
    <version>4.0-SNAPSHOT</version>
</dependency>

I also search in maven repository but there is no reference there to the old
core. Should I build the source from git and include the jar in my project?

--
View this message in context: http://xwiki.475771.n2.nabble.com/Components-Bridge-to-old-core-and-objects-tp7208056p7452865.html
Sent from the XWiki- Users mailing list archive at Nabble.com.
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.131.199 with SMTP id oo7csp11690igb;
        Tue, 10 Apr 2012 06:35:40 -0700 (PDT)
Received: by 10.180.80.9 with SMTP id n9mr7194930wix.4.1334064939331;
        Tue, 10 Apr 2012 06:35:39 -0700 (PDT)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id ct5si14619747wib.30.2012.04.10.06.35.38;
        Tue, 10 Apr 2012 06:35:39 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E32156A64701;
	Tue, 10 Apr 2012 13:32:38 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id K6czsGmQ18ZW; Tue, 10 Apr 2012 13:32:38 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 9E2396A600B4;
	Tue, 10 Apr 2012 13:32:16 +0000 (UTC)
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id DD93F6A640AE
	for <users@xwiki.org>; Tue, 10 Apr 2012 13:32:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id FqLOv11SF7nH for <users@xwiki.org>;
	Tue, 10 Apr 2012 13:32:00 +0000 (UTC)
Received: from mail-gy0-f179.google.com (mail-gy0-f179.google.com
	[209.85.160.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id CC7486A646EC
	for <users@xwiki.org>; Tue, 10 Apr 2012 13:31:46 +0000 (UTC)
Received: by ghbg19 with SMTP id g19so2815954ghb.24
	for <users@xwiki.org>; Tue, 10 Apr 2012 06:34:42 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=google.com; s=20120113;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type:content-transfer-encoding:x-gm-message-state;
	bh=cXlhfTBEHE4l9U9SrN+Sq1oSHshtiEwOL+oLK2hhj+Q=;
	b=M5jcHOw3GufCc7ua7iSU/o+D+Kw0uf5qV3jrYJTedjmqhu2BjCR1EPlNWXsXDg+5Ww
	+Wu0bMSbtT8RKZpEMSXAtkvkYLi5xJqscMxEv9fQmXuUhFCGqFUvIGN6LMjNNOec2L6X
	bpZHYKWYq+P5n0HvrAPR5zqdoHSyhCJ/Ci/hYMcoFXuRDjSAw8jrlyuKUR7bLMT1P78O
	09qmw0feFJIGIUMRif9Y8MRaa7KHtVxIvzRjHbMAWY9WCqM27gC3PUNmC4Oo3yWN6pPZ
	JFAOjY4AfhB1Q1P47fRYAuEWKU60kaYMJPzZE5ewPJMBFXRj/J38jAj44wYlum4e3YGP
	iZWQ==
MIME-Version: 1.0
Received: by 10.50.185.230 with SMTP id ff6mr2302506igc.70.1334064882203; Tue,
	10 Apr 2012 06:34:42 -0700 (PDT)
Received: by 10.42.142.69 with HTTP; Tue, 10 Apr 2012 06:34:42 -0700 (PDT)
In-Reply-To: <1334064294608-7452865.post@n2.nabble.com>
References: <1327075425008-7208056.post@n2.nabble.com>
	<CALZcbBa=zrE8WDke10m56vHThAOUWD57cmz5iDP_sRU_nWPSUA@mail.gmail.com>
	<1333982652012-7449893.post@n2.nabble.com>
	<CALZcbBb3cf2Qv9iifo6NYLsyjLhZ=Uu4gtQNWT-E2UB=Om54sA@mail.gmail.com>
	<1334064294608-7452865.post@n2.nabble.com>
Date: Tue, 10 Apr 2012 15:34:42 +0200
Message-ID: <CAPnKnLEaME8HdWnufv5v1x=fEA0x-0JWOt1ivgK53jdYSrMw2Q@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQkRxiFhL/D5H6AkloFIvUfSbk+NQZG9xh8c8jTVFlAhCDUWfDBSmPFviAOt62JuCFOZRSwe
Subject: Re: [xwiki-users] Components : Bridge to old core and objects ?
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Probably mean you don't have the right configuration in your
.m2/settings.xml. See
http://dev.xwiki.org/xwiki/bin/view/Community/Building#HInstallingMaven

On Tue, Apr 10, 2012 at 3:24 PM, _diego <diego.a.r.jz@gmail.com> wrote:
> Well, I've been trying, but maven doesn't find that dependency.
>
> I've tried with several versions of the following:
>
> <dependency>
> =A0 =A0<groupId>org.xwiki.platform</groupId>
> =A0 =A0<artifactId>xwiki-platform-oldcore</artifactId>
> =A0 =A0<version>4.0-SNAPSHOT</version>
> </dependency>
>
> I also search in maven repository but there is no reference there to the =
old
> core. Should I build the source from git and include the jar in my projec=
t?
>
> --
> View this message in context: http://xwiki.475771.n2.nabble.com/Component=
s-Bridge-to-old-core-and-objects-tp7208056p7452865.html
> Sent from the XWiki- Users mailing list archive at Nabble.com.
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.131.199 with SMTP id oo7csp11825igb;
        Tue, 10 Apr 2012 06:38:06 -0700 (PDT)
Received: by 10.180.20.47 with SMTP id k15mr7115048wie.19.1334065085283;
        Tue, 10 Apr 2012 06:38:05 -0700 (PDT)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id j9si14624641wia.32.2012.04.10.06.38.04;
        Tue, 10 Apr 2012 06:38:05 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id AE6EB6A6304E;
	Tue, 10 Apr 2012 13:35:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kiFcxxc5y4An; Tue, 10 Apr 2012 13:35:04 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id EFDED6A640AE;
	Tue, 10 Apr 2012 13:35:02 +0000 (UTC)
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 3E7B06A6304E
	for <users@xwiki.org>; Tue, 10 Apr 2012 13:35:00 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id K4lFMJBfVcRx for <users@xwiki.org>;
	Tue, 10 Apr 2012 13:35:00 +0000 (UTC)
Received: from mail-qc0-f179.google.com (mail-qc0-f179.google.com
	[209.85.216.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 6D7176A60098
	for <users@xwiki.org>; Tue, 10 Apr 2012 13:34:59 +0000 (UTC)
Received: by qcha6 with SMTP id a6so4120878qch.24
	for <users@xwiki.org>; Tue, 10 Apr 2012 06:37:56 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=google.com; s=20120113;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type:content-transfer-encoding:x-gm-message-state;
	bh=TQZzykSM7HNEZvwAmKvPo0GZ7hPvA2BXmptzRa7XM3U=;
	b=glk6M73bU5dHuArxa2zlh8bRCPeS00EspbXbzmfh3OcEeP4hnUykLw9rYxvoAdUfqC
	1nM+M/PpxOlDldFqT8JxO/Dqdf1JjRAeInyB+A+8bQIjNXBB7K0LUUi3uHRfT2OP/9kC
	TOlPfyXTGVHR4qDuIK7yKprqLFNxZKwUJTgLqtsNxIq1NUAqgyH79dU2ljZ+6g2lo8wC
	GwCf5HCvBJWy3dUTvHZVY8uh4VqXQavTG2et6DtUNUMZF5MvBvlTx80DF7uhzEpSTe8b
	iAF5OB7BYTm93a7akWef+2i/OeEqUZY1EiM72C2nv07nnabKtUCTCziCIlv24nYDf+hI
	8zpA==
MIME-Version: 1.0
Received: by 10.229.107.9 with SMTP id z9mr4471547qco.80.1334065076482; Tue,
	10 Apr 2012 06:37:56 -0700 (PDT)
Received: by 10.229.165.211 with HTTP; Tue, 10 Apr 2012 06:37:56 -0700 (PDT)
In-Reply-To: <CAPnKnLEaME8HdWnufv5v1x=fEA0x-0JWOt1ivgK53jdYSrMw2Q@mail.gmail.com>
References: <1327075425008-7208056.post@n2.nabble.com>
	<CALZcbBa=zrE8WDke10m56vHThAOUWD57cmz5iDP_sRU_nWPSUA@mail.gmail.com>
	<1333982652012-7449893.post@n2.nabble.com>
	<CALZcbBb3cf2Qv9iifo6NYLsyjLhZ=Uu4gtQNWT-E2UB=Om54sA@mail.gmail.com>
	<1334064294608-7452865.post@n2.nabble.com>
	<CAPnKnLEaME8HdWnufv5v1x=fEA0x-0JWOt1ivgK53jdYSrMw2Q@mail.gmail.com>
Date: Tue, 10 Apr 2012 16:37:56 +0300
Message-ID: <CALZcbBZD9WN_EscG_rviHE8J9Z9CWPiMidUXZPc_Vq67Juea+A@mail.gmail.com>
From: Marius Dumitru Florea <mariusdumitru.florea@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQmBzAH4lodI5FRgOCqYHq24P1v8L0p5dhrOMfA/tczl/P3lBG5lxxoWDE6/lbB8FJgb0a0a
Subject: Re: [xwiki-users] Components : Bridge to old core and objects ?
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Tue, Apr 10, 2012 at 4:34 PM, Thomas Mortagne
<thomas.mortagne@xwiki.com> wrote:
> Probably mean you don't have the right configuration in your
> .m2/settings.xml. See
> http://dev.xwiki.org/xwiki/bin/view/Community/Building#HInstallingMaven

Yes, I can see the 4.0-SNAPSHOT version of xwiki-platform-oldcore in
the maven repo http://maven.xwiki.org/snapshots/org/xwiki/platform/xwiki-pl=
atform-oldcore/4.0-SNAPSHOT/
.

Hope this helps,
Marius

>
> On Tue, Apr 10, 2012 at 3:24 PM, _diego <diego.a.r.jz@gmail.com> wrote:
>> Well, I've been trying, but maven doesn't find that dependency.
>>
>> I've tried with several versions of the following:
>>
>> <dependency>
>> =A0 =A0<groupId>org.xwiki.platform</groupId>
>> =A0 =A0<artifactId>xwiki-platform-oldcore</artifactId>
>> =A0 =A0<version>4.0-SNAPSHOT</version>
>> </dependency>
>>
>> I also search in maven repository but there is no reference there to the=
 old
>> core. Should I build the source from git and include the jar in my proje=
ct?
>>
>> --
>> View this message in context: http://xwiki.475771.n2.nabble.com/Componen=
ts-Bridge-to-old-core-and-objects-tp7208056p7452865.html
>> Sent from the XWiki- Users mailing list archive at Nabble.com.
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
>
>
>
> --
> Thomas Mortagne
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.131.199 with SMTP id oo7csp13980igb;
        Mon, 9 Apr 2012 10:28:20 -0700 (PDT)
Received: by 10.180.97.41 with SMTP id dx9mr17513354wib.9.1333992498702;
        Mon, 09 Apr 2012 10:28:18 -0700 (PDT)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id l48si15418433wed.3.2012.04.09.10.28.17;
        Mon, 09 Apr 2012 10:28:18 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 6C5A36A646F4;
	Mon,  9 Apr 2012 17:25:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id hxAe-dSVnX+l; Mon,  9 Apr 2012 17:25:22 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id CBE1E6A640B3;
	Mon,  9 Apr 2012 17:25:18 +0000 (UTC)
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id A74276A640AE
	for <users@xwiki.org>; Mon,  9 Apr 2012 17:25:15 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id d1MWZd6GSdg1 for <users@xwiki.org>;
	Mon,  9 Apr 2012 17:25:15 +0000 (UTC)
Received: from mail-qc0-f179.google.com (mail-qc0-f179.google.com
	[209.85.216.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id F08AA6A60006
	for <users@xwiki.org>; Mon,  9 Apr 2012 17:25:14 +0000 (UTC)
Received: by qcha6 with SMTP id a6so3464143qch.24
	for <users@xwiki.org>; Mon, 09 Apr 2012 10:28:07 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=google.com; s=20120113;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type:x-gm-message-state;
	bh=Yc14mQrFHjrFNokD1lmYMvLGuehv578IZmjcewJadDg=;
	b=pDDmIxm8mlvJhg8ylsXYK/Gz+N2KZRgGOqGD8PlwLz5gzIIkWIYlhQM69vBZzQ0ku6
	FKNYBygr9fzrKChD/jLX0uRC1ISe9JOP9K0JskGN9wmUxvevmPweofGtS98Bhva+0hrW
	j/52vqvUTmZqxHJNoiLe8ayDPMsFLNj+EuS3/WyVicpwTvJh2rr3gwOKQWqmAUFbW8Ld
	VM96SKNtzuV90ngvryoJ2zWjalvrWqOUovr2X/h+sKtRqwx0QYT0pJiYc5vOFzDEAK6W
	6QXT3gbDigWUXPxqeydQydxW1HDpQM8zrZ5C3MNdWMGFWrJIqo/c9ECOVZ0zIZWx04sd
	35ug==
MIME-Version: 1.0
Received: by 10.229.107.9 with SMTP id z9mr3190561qco.80.1333992486879; Mon,
	09 Apr 2012 10:28:06 -0700 (PDT)
Received: by 10.229.165.211 with HTTP; Mon, 9 Apr 2012 10:28:06 -0700 (PDT)
In-Reply-To: <1333982652012-7449893.post@n2.nabble.com>
References: <1327075425008-7208056.post@n2.nabble.com>
	<CALZcbBa=zrE8WDke10m56vHThAOUWD57cmz5iDP_sRU_nWPSUA@mail.gmail.com>
	<1333982652012-7449893.post@n2.nabble.com>
Date: Mon, 9 Apr 2012 20:28:06 +0300
Message-ID: <CALZcbBb3cf2Qv9iifo6NYLsyjLhZ=Uu4gtQNWT-E2UB=Om54sA@mail.gmail.com>
From: Marius Dumitru Florea <mariusdumitru.florea@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQkagmNs5qDHYayFKGoxSkSErnYwEMT7ncfGjTq9gcvwW3aCWR3Fi2AVjov7cZ+Sr1C2lVyT
Subject: Re: [xwiki-users] Components : Bridge to old core and objects ?
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Mon, Apr 9, 2012 at 5:44 PM, _diego <diego.a.r.jz@gmail.com> wrote:
> Hi,
>
> I'm also trying to do something similar and I have already followed that
> guide. However, I still can't use the API, since I can't find the
> XWikiContext class in my classpath, or any other class from com.xpn.xwiki in
> eclipse. Am I missing some maven dependency? I also can't find anything on
> google to solve this.

Did you add a dependency to old core (
https://github.com/xwiki/xwiki-platform/tree/master/xwiki-platform-core/xwiki-platform-oldcore
) as I suggested?

Hope this helps,
Marius

>
> Thanks in advance
>
> --
> View this message in context: http://xwiki.475771.n2.nabble.com/Components-Bridge-to-old-core-and-objects-tp7208056p7449893.html
> Sent from the XWiki- Users mailing list archive at Nabble.com.
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.131.199 with SMTP id oo7csp7155igb;
        Mon, 9 Apr 2012 07:44:22 -0700 (PDT)
Received: by 10.216.135.219 with SMTP id u69mr4067393wei.89.1333982660362;
        Mon, 09 Apr 2012 07:44:20 -0700 (PDT)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id t12si14959325weq.110.2012.04.09.07.44.19;
        Mon, 09 Apr 2012 07:44:20 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 3873F6A640B3;
	Mon,  9 Apr 2012 14:41:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Py+K9aCGPyrC; Mon,  9 Apr 2012 14:41:25 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 6820E6A640B4;
	Mon,  9 Apr 2012 14:41:24 +0000 (UTC)
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 069056A640B3
	for <users@xwiki.org>; Mon,  9 Apr 2012 14:41:21 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id U1Qny5vPkLWY for <users@xwiki.org>;
	Mon,  9 Apr 2012 14:41:20 +0000 (UTC)
Received: from sam.nabble.com (sam.nabble.com [216.139.236.26])
	by borabora.xwiki.com (Postfix) with ESMTPS id 580D06A6304C
	for <users@xwiki.org>; Mon,  9 Apr 2012 14:41:20 +0000 (UTC)
Received: from jim.nabble.com ([192.168.236.80])
	by sam.nabble.com with esmtp (Exim 4.72)
	(envelope-from <diego.a.r.jz@gmail.com>) id 1SHFpE-0005oA-0q
	for users@xwiki.org; Mon, 09 Apr 2012 07:44:12 -0700
Date: Mon, 9 Apr 2012 07:44:12 -0700 (PDT)
From: _diego <diego.a.r.jz@gmail.com>
To: users@xwiki.org
Message-ID: <1333982652012-7449893.post@n2.nabble.com>
In-Reply-To: <CALZcbBa=zrE8WDke10m56vHThAOUWD57cmz5iDP_sRU_nWPSUA@mail.gmail.com>
References: <1327075425008-7208056.post@n2.nabble.com>
	<CALZcbBa=zrE8WDke10m56vHThAOUWD57cmz5iDP_sRU_nWPSUA@mail.gmail.com>
MIME-Version: 1.0
Subject: Re: [xwiki-users] Components : Bridge to old core and objects ?
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi,

I'm also trying to do something similar and I have already followed that
guide. However, I still can't use the API, since I can't find the
XWikiContext class in my classpath, or any other class from com.xpn.xwiki in
eclipse. Am I missing some maven dependency? I also can't find anything on
google to solve this.

Thanks in advance

--
View this message in context: http://xwiki.475771.n2.nabble.com/Components-Bridge-to-old-core-and-objects-tp7208056p7449893.html
Sent from the XWiki- Users mailing list archive at Nabble.com.
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.132.33 with SMTP id or1csp2027igb;
        Wed, 11 Apr 2012 02:07:07 -0700 (PDT)
Received: by 10.180.95.34 with SMTP id dh2mr14291807wib.15.1334135225846;
        Wed, 11 Apr 2012 02:07:05 -0700 (PDT)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id u38si1896716weq.62.2012.04.11.02.07.04;
        Wed, 11 Apr 2012 02:07:05 -0700 (PDT)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 8E0F36A646F9;
	Wed, 11 Apr 2012 09:03:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id bH6cXyvE83se; Wed, 11 Apr 2012 09:03:59 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 51B596A6306C;
	Wed, 11 Apr 2012 09:03:55 +0000 (UTC)
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id A419E6A63047
	for <users@xwiki.org>; Wed, 11 Apr 2012 09:03:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id Xe3q+w9xNiPv for <users@xwiki.org>;
	Wed, 11 Apr 2012 09:03:53 +0000 (UTC)
Received: from mail-qc0-f179.google.com (mail-qc0-f179.google.com
	[209.85.216.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id DB34F6A600AB
	for <users@xwiki.org>; Wed, 11 Apr 2012 09:03:52 +0000 (UTC)
Received: by qcha6 with SMTP id a6so553455qch.24
	for <users@xwiki.org>; Wed, 11 Apr 2012 02:06:54 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=google.com; s=20120113;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type:content-transfer-encoding:x-gm-message-state;
	bh=kLcsPCuW5MWzVP7z2YO+I50OfWw1UyWQKhMzcljL65k=;
	b=Y+jif644gkH5GAVhYYjJNRl4RJztCw7ee5kcLQIRYBI0WUJMXdZyiY75fzXvFnltRO
	/jtHeltzXGcO2Nl3uGdbKjBLvd4Mcg06uS56ZlILWziPoFZHcRytB/zBJ4VI8poNDPuA
	aWzc5MsSvOwpm8o6NxfBHH0bmRUI52vCPlF5bMXJ7RN+VwociCDfYzNnfJI9mMki47+l
	rgfxPJxkY5/NQKF+x5SwgngO7MYUT9RnW9BtO/fnZ2qYCNAuX320O5Nw3V2G/dmkp1HW
	5DIfFJPuu2nVw3dWGrruuOPvACD4cPeXEzqohEzF1S9UoLA9EQWIPnF8Izd9iO7BbIGS
	Dn+g==
MIME-Version: 1.0
Received: by 10.224.185.82 with SMTP id cn18mr18278032qab.97.1334135214615;
	Wed, 11 Apr 2012 02:06:54 -0700 (PDT)
Received: by 10.229.165.211 with HTTP; Wed, 11 Apr 2012 02:06:54 -0700 (PDT)
In-Reply-To: <CAHJpsevBBq-wcF4LDmuppMzQaqSey7OXLEfkzqqBGj4Eh55DGQ@mail.gmail.com>
References: <1327075425008-7208056.post@n2.nabble.com>
	<CALZcbBa=zrE8WDke10m56vHThAOUWD57cmz5iDP_sRU_nWPSUA@mail.gmail.com>
	<1333982652012-7449893.post@n2.nabble.com>
	<CALZcbBb3cf2Qv9iifo6NYLsyjLhZ=Uu4gtQNWT-E2UB=Om54sA@mail.gmail.com>
	<1334064294608-7452865.post@n2.nabble.com>
	<CAPnKnLEaME8HdWnufv5v1x=fEA0x-0JWOt1ivgK53jdYSrMw2Q@mail.gmail.com>
	<CALZcbBZD9WN_EscG_rviHE8J9Z9CWPiMidUXZPc_Vq67Juea+A@mail.gmail.com>
	<CAHJpsevBBq-wcF4LDmuppMzQaqSey7OXLEfkzqqBGj4Eh55DGQ@mail.gmail.com>
Date: Wed, 11 Apr 2012 12:06:54 +0300
Message-ID: <CALZcbBZRV9aZ0jL0pKcV-Pt+wwpSoT5=+4QYjRPBLPkBmaj60Q@mail.gmail.com>
From: Marius Dumitru Florea <mariusdumitru.florea@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQlBgXuhJHbWhgZ74YxTYnPy77UWXeHpEtHqgVlAPVx4nzK91ZfNC+iEAOWxkLER1dXe4HE4
Subject: Re: [xwiki-users] Components : Bridge to old core and objects ?
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Tue, Apr 10, 2012 at 6:08 PM, Diego Jesus <diego.a.r.jz@gmail.com> wrote:
> Ok, got it to work. The small test component is running just fine in
> XWiki. However, if I try to run unit tests with maven I get the
> following error:
>
> Results :
>
> Failed tests:
> =A0 testGetDocument(com.aims.DocumentScriptTest): unexpected invocation:
> context.getContext()
> no expectations specified: did you...
> =A0- forget to start an expectation with a cardinality clause?
> =A0- call a mocked method to specify the parameter of an expectation?
> what happened before this: nothing!
>
> This are the relevant parts of my code:
>
> @Component
> @Named("documentScript")
> @Singleton
> public class DocumentScript implements ScriptService
> {
> =A0 =A0 =A0 =A0@Inject
> =A0 =A0 =A0 =A0Execution context;

You get a mock Execution injected when the test is run, most probably,
so you have to specify the behaviour of getContext() method before
calling GetDocument(int). It should probably return a mock
ExecutionContext which in turn should return a mock XWikiContext when
calling getProperty("xwikicontext").

You need to specify these expectations at the beginning of your test,
or in the setUp (@Before) if more tests share the same expectations.

Hope this helps,
Marius

> =A0 =A0....
>
> =A0 =A0public Document GetDocument(int id){
> =A0 =A0 =A0 =A0try {
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0ExecutionContext context =3D this.context.=
getContext();
> // The exception trace points here
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0XWikiContext wikiContext =3D
> (XWikiContext)context.getProperty("xwikicontext");
> =A0 =A0 =A0 =A0 =A0 =A0 =A0 =A0XWiki wiki =3D wikiContext.getWiki();
> =A0 =A0 =A0 =A0 ....
>
>
>
> No dia 10 de Abril de 2012 14:37, Marius Dumitru Florea
> <mariusdumitru.florea@xwiki.com> escreveu:
>>
>> On Tue, Apr 10, 2012 at 4:34 PM, Thomas Mortagne
>> <thomas.mortagne@xwiki.com> wrote:
>> > Probably mean you don't have the right configuration in your
>> > .m2/settings.xml. See
>> > http://dev.xwiki.org/xwiki/bin/view/Community/Building#HInstallingMaven
>>
>> Yes, I can see the 4.0-SNAPSHOT version of xwiki-platform-oldcore in
>> the maven repo http://maven.xwiki.org/snapshots/org/xwiki/platform/xwiki=
-platform-oldcore/4.0-SNAPSHOT/
>> .
>>
>> Hope this helps,
>> Marius
>>
>> >
>> > On Tue, Apr 10, 2012 at 3:24 PM, _diego <diego.a.r.jz@gmail.com> wrote:
>> >> Well, I've been trying, but maven doesn't find that dependency.
>> >>
>> >> I've tried with several versions of the following:
>> >>
>> >> <dependency>
>> >> =A0 =A0<groupId>org.xwiki.platform</groupId>
>> >> =A0 =A0<artifactId>xwiki-platform-oldcore</artifactId>
>> >> =A0 =A0<version>4.0-SNAPSHOT</version>
>> >> </dependency>
>> >>
>> >> I also search in maven repository but there is no reference there to =
the old
>> >> core. Should I build the source from git and include the jar in my pr=
oject?
>> >>
>> >> --
>> >> View this message in context: http://xwiki.475771.n2.nabble.com/Compo=
nents-Bridge-to-old-core-and-objects-tp7208056p7452865.html
>> >> Sent from the XWiki- Users mailing list archive at Nabble.com.
>> >> _______________________________________________
>> >> users mailing list
>> >> users@xwiki.org
>> >> http://lists.xwiki.org/mailman/listinfo/users
>> >
>> >
>> >
>> > --
>> > Thomas Mortagne
>> > _______________________________________________
>> > users mailing list
>> > users@xwiki.org
>> > http://lists.xwiki.org/mailman/listinfo/users
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp12505igc;
        Mon, 5 Mar 2012 06:20:43 -0800 (PST)
Received: by 10.213.20.6 with SMTP id d6mr2719497ebb.57.1330957234683;
        Mon, 05 Mar 2012 06:20:34 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id t1si12911688eef.83.2012.03.05.06.20.33;
        Mon, 05 Mar 2012 06:20:34 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 5CE1D6A64829;
	Mon,  5 Mar 2012 14:16:22 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330956982; bh=OFTk34icCSX9Xnx3+YRwLfp8pvPeiRa9XVbtEn1EJ8c=;
	h=From:To:Mime-Version:Date:Message-Id:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=qtehyYR0/P3JD9yTLWhwmWM5ahhOg+Z0ax/IDb7Be7DGlFm1Flm4464XiCynKSTrO
	 2IaIyvaP7umL4tLIcEbN9i7unebIFP/MIzbTzH7GdzKCppxmr36Rg+kytL6qbO7CJM
	 hxGCqUiLY46nY0eXoLHBwtP3AO668TsXMmyvyFlU=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HfTSG-9rhBi3; Mon,  5 Mar 2012 14:16:22 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 4DB826A64A2A;
	Mon,  5 Mar 2012 14:16:12 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330956972; bh=OFTk34icCSX9Xnx3+YRwLfp8pvPeiRa9XVbtEn1EJ8c=;
	h=From:To:Mime-Version:Date:Message-Id:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=EMLdpCny8kodHMW1dacinCTd6+m82K4KNdupUBktUUk8qD6ORXlsJLLFjUGAnR7Gv
	 mplR3G3kkmS74XjsdikMwmSAUcUVqxrjqtbUZEPh9kwPnFYdSlyl4yiL5/8KQDcek1
	 z8FR1LtPc8G9eE10QCZuuvknV6Wibx2fLRhqRooY=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id C9F2D6A64829
	for <users@xwiki.org>; Mon,  5 Mar 2012 14:16:10 +0000 (UTC)
Authentication-Results: borabora.xwiki.com; dkim=pass (768-bit key)
	header.i=@mail.ru; dkim-adsp=none
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id RtJ9KnrDD28E for <users@xwiki.org>;
	Mon,  5 Mar 2012 14:16:10 +0000 (UTC)
Received: from f71.mail.ru (f71.mail.ru [94.100.178.233])
	by borabora.xwiki.com (Postfix) with ESMTPS id EA0916A644D1
	for <users@xwiki.org>; Mon,  5 Mar 2012 14:16:04 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mail.ru;
	s=mail; 
	h=Message-Id:Content-Transfer-Encoding:Content-Type:Reply-To:Date:Mime-Version:Subject:To:From;
	bh=PGtVBg8HDXKVgfIH+R79BTRvY/WVQQUIpwnmKUb9hxE=; 
	b=NNYsmI6Sklcqy/HKuMMcL7gmE1PD7Ug45a8MwXyqlNHQqG9YWw2+5/02PB9X9Eh25OFLTLuO1G5EU2eeXMijk/8su+F1qxVxJiB/x49Hc/zqASMp1uym9xbmBB2GlG9A;
Received: from mail by f71.mail.ru with local (envelope-from <dafedin@mail.ru>)
	id 1S4Ylj-0000jI-UU
	for users@xwiki.org; Mon, 05 Mar 2012 18:20:08 +0400
Received: from [195.24.156.210] by e.mail.ru with HTTP;
	Mon, 05 Mar 2012 18:20:07 +0400
From: =?UTF-8?B?0JTQvNC40YLRgNC40Lkg0KTQtdC00LjQvQ==?= <dafedin@mail.ru>
To: =?UTF-8?B?WFdpa2kgVXNlcnM=?= <users@xwiki.org>
Mime-Version: 1.0
X-Mailer: mPOP Web-Mail 2.19
X-Originating-IP: [195.24.156.210]
Date: Mon, 05 Mar 2012 18:20:07 +0400
X-Priority: 
Message-Id: <E1S4Ylj-0000jI-UU.dafedin-mail-ru@f71.mail.ru>
X-Spam: Not detected
X-Mras: Ok
Subject: [xwiki-users] =?utf-8?q?=5Bmyxwiki=5D_new_wiki_request?=
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: =?UTF-8?B?0JTQvNC40YLRgNC40Lkg0KTQtdC00LjQvQ==?= <dafedin@mail.ru>,
	XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hello, xwiki team!

I'm very interested in having a wiki hosted on this farm. The goel of my wiki is to create the educational non-commercial portal for students of our department. This wiki will have electronic books, educational programs etc.

I hope on a collaboration!!

My user name: Dmitry Fedin

Name of wiki: dafedin.myxwiki.org
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:35 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp8561igc;
        Mon, 5 Mar 2012 03:15:51 -0800 (PST)
Received: by 10.213.14.194 with SMTP id h2mr1643813eba.160.1330946144041;
        Mon, 05 Mar 2012 03:15:44 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id d3si10029717eec.13.2012.03.05.03.15.37;
        Mon, 05 Mar 2012 03:15:44 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id ED57C6A64701;
	Mon,  5 Mar 2012 11:11:27 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330945887; bh=VUm696tLNpNnnfKfRIj+2+EKu+nyxjmqo/g8+CVSJCI=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=U70fozO1TNdQHAWW8HrOGHsTWthyfUkeF5Q8lJ6L2TGU/Lv52+UoTeNAFHwe6vWf1
	 SrRhFUciMl84OFEipIvFqtK7uEW/uKo2PUY+lTlX4xLhk9aP88ZAD17h4TO1580gES
	 vzmf8BVAie1v0u2s5baPRlRet3dVFDCl7WvuGPbs=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id f8bO4X37ZRtu; Mon,  5 Mar 2012 11:11:27 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 918F26A64702;
	Mon,  5 Mar 2012 11:11:26 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330945886; bh=VUm696tLNpNnnfKfRIj+2+EKu+nyxjmqo/g8+CVSJCI=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=mrxrStJbb4UUYIsklei84Op2i3NhoSxgFwdij2xYCQK78fIi9ej327ACE6C1d6y3C
	 p4htetP6yN1H0ANT0GI0C7ZyT8a0/TNe4vGfrl598rXajeDTBhF4tHiys8OsVkAjOW
	 PrNZMAcp+PyB2lGksOqOGAJnqMnCV7bVFtQPDqYE=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id F1F4D6A64701
	for <users@xwiki.org>; Mon,  5 Mar 2012 11:11:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id PtOi3SnGbXwc for <users@xwiki.org>;
	Mon,  5 Mar 2012 11:11:23 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 47B9B6A6450A
	for <users@xwiki.org>; Mon,  5 Mar 2012 11:11:23 +0000 (UTC)
Received: by obbup3 with SMTP id up3so7464276obb.24
	for <users@xwiki.org>; Mon, 05 Mar 2012 03:15:31 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.174.101 as permitted sender) client-ip=10.182.174.101;
Received: from mr.google.com ([10.182.174.101])
	by 10.182.174.101 with SMTP id br5mr8220460obc.0.1330946131671
	(num_hops = 1); Mon, 05 Mar 2012 03:15:31 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.174.101 with SMTP id br5mr7184022obc.0.1330946131546; Mon,
	05 Mar 2012 03:15:31 -0800 (PST)
Received: by 10.182.172.66 with HTTP; Mon, 5 Mar 2012 03:15:31 -0800 (PST)
In-Reply-To: <CAPnKnLERo64f1-Y2bABXPnnGVqAADM9tHP7i7R6ZO-7C169TyA@mail.gmail.com>
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
	<4F4DE0BC.8030706@richard-rafalski.de>
	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
	<4F50F673.6080300@richard-rafalski.de>
	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>
	<CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>
	<CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>
	<4F515BC2.2080809@richard-rafalski.de>
	<CAPnKnLGjLdcNfMAT2Mn9Apjka9LbSRKhd8n0yWvYyFFGvOphBQ@mail.gmail.com>
	<CAPnKnLEVV08y8ns=h2fWGOrPKjF3tm+8z-EX0EBvF4NZ8aA5TA@mail.gmail.com>
	<4F536932.4020406@richard-rafalski.de>
	<CAPnKnLHah93YaC0=d0B-QqZTV4wpBN6dMA2uBoYJgtfMUget5g@mail.gmail.com>
	<CAPnKnLEumMqvz9iK1aB_m8_yQaqy-JD7JQxmttaP0FC-OKxYEw@mail.gmail.com>
	<4F549414.2090205@richard-rafalski.de>
	<CAPnKnLERo64f1-Y2bABXPnnGVqAADM9tHP7i7R6ZO-7C169TyA@mail.gmail.com>
Date: Mon, 5 Mar 2012 12:15:31 +0100
Message-ID: <CAPnKnLGo7+MLNcO1omqhykq4yixF9-AhMSB6bUeQExSGVD4PNQ@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQkHFJ16Euk3IvUBkLcd/vebANd2y6KFiUht5Ng/DmxVNXoD0RC6G3iSbeBlwiK+ct88SlKE
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Mon, Mar 5, 2012 at 12:09 PM, Thomas Mortagne
<thomas.mortagne@xwiki.com> wrote:
> On Mon, Mar 5, 2012 at 11:23 AM, Richard Rafalski
> <mail@richard-rafalski.de> wrote:
>>
>>
>> Am 05.03.2012 08:41, schrieb Thomas Mortagne:
>>> On Mon, Mar 5, 2012 at 8:36 AM, Thomas Mortagne
>>> <thomas.mortagne@xwiki.com> wrote:
>>>> On Sun, Mar 4, 2012 at 2:08 PM, Richard Rafalski
>>>> <mail@richard-rafalski.de> wrote:
>>>>>
>>>>> Am 03.03.2012 13:07, schrieb Thomas Mortagne:
>>>>>> On Sat, Mar 3, 2012 at 11:56 AM, Thomas Mortagne
>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>> On Sat, Mar 3, 2012 at 12:46 AM, Richard Rafalski
>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>
>>>>>>>>
>>>>>>>> Am 02.03.2012 19:47, schrieb Thomas Mortagne:
>>>>>>>>> On Fri, Mar 2, 2012 at 7:36 PM, Thomas Mortagne
>>>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>>>> On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
>>>>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>>>>> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
>>>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>>>> Hi Thomas,
>>>>>>>>>>>>
>>>>>>>>>>>> thank you for the last modifications on the deb packages.
>>>>>>>>>>>>
>>>>>>>>>>>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>>>>>>>>>>>> installation ran without probelms.
>>>>>>>>>>>> Great!
>>>>>>>>>>>>
>>>>>>>>>>>> But I'am sorry to inform you that after pointing the webbrowse=
r to
>>>>>>>>>>>> http://xwikipg:8080/xwiki/ I got the well known
>>>>>>>>>>>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configu=
ration"
>>>>>>>>>>>> message.
>>>>>>>>>>>>
>>>>>>>>>>>> A quik look into /etc/xwiki showed
>>>>>>>>>>>> -rw-r----- 1 root root 8.1K Mar =A02 16:08 hibernate.cfg.xml
>>>>>>>>>>>>
>>>>>>>>>>>> Changing group from root to tomcat7 and restarting the tomcat7=
 service
>>>>>>>>>>>> solved the problem.
>>>>>>>>>>>>
>>>>>>>>>>>> Maybe there is still a problem with setting group/rights on
>>>>>>>>>>>> hibernate.cfg.xml. I'am not shure.
>>>>>>>>>>>
>>>>>>>>>>> That's weird I was sure I changed the right for it to be 644, w=
ill
>>>>>>>>>>> checking this, maybe I modified it only in the mysql package. S=
hould
>>>>>>>>>>> be quickly fixed.
>>>>>>>>>>
>>>>>>>>>> I did fixed it but forgot to backport it on 3.5 actually...
>>>>>>>>>
>>>>>>>>> Should be better now. Thanks for the report !
>>>>>>>> I think it is very dangerous to make hibernate.cfg.xml readable for
>>>>>>>> evryone. If you can not avoid it you should mention this fact in t=
he
>>>>>>>> installation documentation.
>>>>>>>
>>>>>>> I can probably change the owner to tomcat and remove the readright =
for
>>>>>>> all in the xwiki-enterprise-tomcat*-pgsql and
>>>>>>> xwiki-enterprise-tomcat*-mysql (my problem was that the install scr=
ipt
>>>>>>> does not know the aplication server in xwiki-enterprise-pgsql-common
>>>>>>> and xwiki-enterprise-mysql-common).
>>>>>
>>>>> Yes I see.
>>>>>
>>>>>>
>>>>>> Done, the right of the hibernate conf file is now 640 and the whole
>>>>>> /etc/xwiki folder has the proper tomcat5/tomcat6/tomcat7 user as
>>>>>> owner.
>>>>>>
>>>>>
>>>>> While installing the new package xwiki-enterprise-tomcat7-pgsql I ran
>>>>> into this regression bug
>>>>>
>>>>> dpkg: error processing
>>>>> /var/cache/apt/archives/xwiki-enterprise-common_3.5_all.deb (--unpack=
):
>>>>> =A0name of conffile (starting `/etc/xwiki/web.xml') is too long (>1000
>>>>> characters)
>>>>> ...
>>>>> dpkg: error processing
>>>>> /var/cache/apt/archives/xwiki-enterprise-tomcat-common_3.5_all.deb
>>>>> (--unpack):
>>>>> =A0name of conffile (starting `/etc/xwiki/xwiki-tomcat.xml') is too l=
ong
>>>>> (>1000 characters)
>>>>
>>>> I probably forgot to re-apply the ending new line (restarted from the
>>>> tag). Checking.
>>>
>>> Should ok now.
>>
>> Get the following errer during installation
>>
>> E: Failed to fetch
>> http://maven.xwiki.org/releases/org/xwiki/enterprise/xwiki-enterprise-in=
staller-debian-common/3.5/xwiki-enterprise-installer-debian-common-3.5.deb:
>> Size mismatch
>
> I think the cron did not updated the debian repository index yet. I
> will force it.

Done.

>
>>
>>>
>>>>
>>>>>
>>>>>> Does this sounds right to you ?
>>>>>
>>>>> From a technical point of view this should work.
>>>>>
>>>>> But what are you thinking about the idea to introduce a user and group
>>>>> xwiki, set the needed rights for the user xwiki and group xwiki in the
>>>>> packages xwiki-enterprise-common and xwiki-enterprise-<data base>-com=
mon
>>>>> (so the install script does not to have to know the application serve=
r)
>>>>> and let the package xwiki-enterprise-<application server>-common add =
the
>>>>> user of the application server to the group xwiki (e.g. addgroup tomc=
at7
>>>>> xwiki).
>>>>>
>>>>> Adding and removing users to or form the group xwiki instead of
>>>>> fiddleling around with file permissions will make the live of the sys=
tem
>>>>> administrator more convenient (e.g. if one want to try out a different
>>>>> application server).
>>>>>
>>>>> But i think more important is the fact that a group based right
>>>>> management will lead to more flexibility and so to fewer future prebl=
ems.
>>>>>
>>>>> Your opinion?
>>>>
>>>> Sounds like a good idea. Could you create a jira issue for it ? I will
>>>> not have time to work on it right now.
>>
>> Done. You have allready seen it :)
>>
>> Richard
>>
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
>
>
>
> --
> Thomas Mortagne



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:36 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp9321igc;
        Mon, 5 Mar 2012 03:45:05 -0800 (PST)
Received: by 10.213.21.211 with SMTP id k19mr1687976ebb.293.1330947897128;
        Mon, 05 Mar 2012 03:44:57 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id y12si12478996eeh.142.2012.03.05.03.44.56;
        Mon, 05 Mar 2012 03:44:57 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 23DBD6A64701;
	Mon,  5 Mar 2012 11:40:46 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330947646; bh=tie3dY/F7yiplTW8SyR+RX9gTrMauzMvQly6kyqC5vc=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=uZG5YbV3uVS1FgdnmVDUhe8pQr1NLot6iAPkFhvjPKXL0OraLjQsWzZHkuMFlsjDH
	 62mf1hVXgBf8bJkcpDvsZu2ocosN5/bt5572YCivLkKtwkTEb0DaFN6lG0k4baWcR7
	 aqkDD1zEbtbmVT/77l/QL5gGheRY3sjUpdUvdiL4=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ABnc0oCc00t7; Mon,  5 Mar 2012 11:40:45 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 380AA6A64702;
	Mon,  5 Mar 2012 11:40:45 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330947645; bh=tie3dY/F7yiplTW8SyR+RX9gTrMauzMvQly6kyqC5vc=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=mk0+R08lhNs2tz9qn/OmpnVMVA1OafTAKNwUvUY5aCzYCkbTalMDdoTmRCdByv8tC
	 wmrqeajQNIdoCtZLixDqHZGpzMNFAQwIt0H1HybArYuOlsI2sJltk8x7lRhGVEtpax
	 zhNmNwVKY0HPtUFJ0PCK26FU8M0Oe0RKZSvt6vOs=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 99E516A64701
	for <users@xwiki.org>; Mon,  5 Mar 2012 11:40:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id mZ-uBH2hRNVk for <users@xwiki.org>;
	Mon,  5 Mar 2012 11:40:40 +0000 (UTC)
Received: from mailout3.hostsharing.net (mailout3.hostsharing.net
	[176.9.242.54])
	by borabora.xwiki.com (Postfix) with ESMTPS id 0D8566A6304E
	for <users@xwiki.org>; Mon,  5 Mar 2012 11:40:40 +0000 (UTC)
Received: from h06.hostsharing.net (h06.hostsharing.net [83.223.95.25])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailout3.hostsharing.net (Postfix) with ESMTPS id EAA6B72517
	for <users@xwiki.org>; Mon,  5 Mar 2012 12:44:46 +0100 (CET)
Received: from kenny.bismarck.richard-rafalski.de (unknown [194.231.230.250])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by h06.hostsharing.net (Postfix) with ESMTPSA id 8BA8219501428
	for <users@xwiki.org>; Mon,  5 Mar 2012 12:44:48 +0100 (CET)
Received: from localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTP id
	EEB5A120F7
	for <users@xwiki.org>; Mon,  5 Mar 2012 12:44:46 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at richard-rafalski.de
Received: from kenny.bismarck.richard-rafalski.de ([127.0.0.1])
	by localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	(amavisd-new, port 10024)
	with ESMTP id 628vzoFcfIPR for <users@xwiki.org>;
	Mon,  5 Mar 2012 12:44:40 +0100 (CET)
Received: from [192.168.2.2] (sparky.bismarck.richard-rafalski.de
	[192.168.2.2]) (using TLSv1 with cipher AES256-SHA (256/256 bits))
	(No client certificate requested)
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTPSA id
	5295B120F6
	for <users@xwiki.org>; Mon,  5 Mar 2012 12:44:40 +0100 (CET)
Message-ID: <4F54A7AA.4090008@richard-rafalski.de>
Date: Mon, 05 Mar 2012 12:46:50 +0100
From: Richard Rafalski <mail@richard-rafalski.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US;
	rv:1.9.2.24) Gecko/20111114 Iceowl/1.0b2 Icedove/3.1.16
MIME-Version: 1.0
To: users@xwiki.org
References: <4F4D2037.6020105@richard-rafalski.de>	<4F4DE0BC.8030706@richard-rafalski.de>	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>	<4F50F673.6080300@richard-rafalski.de>	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>	<CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>	<CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>	<4F515BC2.2080809@richard-rafalski.de>	<CAPnKnLGjLdcNfMAT2Mn9Apjka9LbSRKhd8n0yWvYyFFGvOphBQ@mail.gmail.com>	<CAPnKnLEVV08y8ns=h2fWGOrPKjF3tm+8z-EX0EBvF4NZ8aA5TA@mail.gmail.com>	<4F536932.4020406@richard-rafalski.de>	<CAPnKnLHah93YaC0=d0B-QqZTV4wpBN6dMA2uBoYJgtfMUget5g@mail.gmail.com>	<CAPnKnLEumMqvz9iK1aB_m8_yQaqy-JD7JQxmttaP0FC-OKxYEw@mail.gmail.com>	<4F549414.2090205@richard-rafalski.de>
	<CAPnKnLERo64f1-Y2bABXPnnGVqAADM9tHP7i7R6ZO-7C169TyA@mail.gmail.com>
In-Reply-To: <CAPnKnLERo64f1-Y2bABXPnnGVqAADM9tHP7i7R6ZO-7C169TyA@mail.gmail.com>
X-Enigmail-Version: 1.1.2
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hey Thomas,

regression on xwiki-enterprise-tomcat-common:

dpkg: error processing
/var/cache/apt/archives/xwiki-enterprise-tomcat-common_3.5_all.deb
(--unpack):
 name of conffile (starting `/etc/xwiki/xwiki-tomcat.xml') is too long
(>1000 characters)

Richard

Am 05.03.2012 12:09, schrieb Thomas Mortagne:
> On Mon, Mar 5, 2012 at 11:23 AM, Richard Rafalski
> <mail@richard-rafalski.de> wrote:
>>
>>
>> Am 05.03.2012 08:41, schrieb Thomas Mortagne:
>>> On Mon, Mar 5, 2012 at 8:36 AM, Thomas Mortagne
>>> <thomas.mortagne@xwiki.com> wrote:
>>>> On Sun, Mar 4, 2012 at 2:08 PM, Richard Rafalski
>>>> <mail@richard-rafalski.de> wrote:
>>>>>
>>>>> Am 03.03.2012 13:07, schrieb Thomas Mortagne:
>>>>>> On Sat, Mar 3, 2012 at 11:56 AM, Thomas Mortagne
>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>> On Sat, Mar 3, 2012 at 12:46 AM, Richard Rafalski
>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>
>>>>>>>>
>>>>>>>> Am 02.03.2012 19:47, schrieb Thomas Mortagne:
>>>>>>>>> On Fri, Mar 2, 2012 at 7:36 PM, Thomas Mortagne
>>>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>>>> On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
>>>>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>>>>> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
>>>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>>>> Hi Thomas,
>>>>>>>>>>>>
>>>>>>>>>>>> thank you for the last modifications on the deb packages.
>>>>>>>>>>>>
>>>>>>>>>>>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>>>>>>>>>>>> installation ran without probelms.
>>>>>>>>>>>> Great!
>>>>>>>>>>>>
>>>>>>>>>>>> But I'am sorry to inform you that after pointing the webbrowser to
>>>>>>>>>>>> http://xwikipg:8080/xwiki/ I got the well known
>>>>>>>>>>>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration"
>>>>>>>>>>>> message.
>>>>>>>>>>>>
>>>>>>>>>>>> A quik look into /etc/xwiki showed
>>>>>>>>>>>> -rw-r----- 1 root root 8.1K Mar  2 16:08 hibernate.cfg.xml
>>>>>>>>>>>>
>>>>>>>>>>>> Changing group from root to tomcat7 and restarting the tomcat7 service
>>>>>>>>>>>> solved the problem.
>>>>>>>>>>>>
>>>>>>>>>>>> Maybe there is still a problem with setting group/rights on
>>>>>>>>>>>> hibernate.cfg.xml. I'am not shure.
>>>>>>>>>>>
>>>>>>>>>>> That's weird I was sure I changed the right for it to be 644, will
>>>>>>>>>>> checking this, maybe I modified it only in the mysql package. Should
>>>>>>>>>>> be quickly fixed.
>>>>>>>>>>
>>>>>>>>>> I did fixed it but forgot to backport it on 3.5 actually...
>>>>>>>>>
>>>>>>>>> Should be better now. Thanks for the report !
>>>>>>>> I think it is very dangerous to make hibernate.cfg.xml readable for
>>>>>>>> evryone. If you can not avoid it you should mention this fact in the
>>>>>>>> installation documentation.
>>>>>>>
>>>>>>> I can probably change the owner to tomcat and remove the readright for
>>>>>>> all in the xwiki-enterprise-tomcat*-pgsql and
>>>>>>> xwiki-enterprise-tomcat*-mysql (my problem was that the install script
>>>>>>> does not know the aplication server in xwiki-enterprise-pgsql-common
>>>>>>> and xwiki-enterprise-mysql-common).
>>>>>
>>>>> Yes I see.
>>>>>
>>>>>>
>>>>>> Done, the right of the hibernate conf file is now 640 and the whole
>>>>>> /etc/xwiki folder has the proper tomcat5/tomcat6/tomcat7 user as
>>>>>> owner.
>>>>>>
>>>>>
>>>>> While installing the new package xwiki-enterprise-tomcat7-pgsql I ran
>>>>> into this regression bug
>>>>>
>>>>> dpkg: error processing
>>>>> /var/cache/apt/archives/xwiki-enterprise-common_3.5_all.deb (--unpack):
>>>>>  name of conffile (starting `/etc/xwiki/web.xml') is too long (>1000
>>>>> characters)
>>>>> ...
>>>>> dpkg: error processing
>>>>> /var/cache/apt/archives/xwiki-enterprise-tomcat-common_3.5_all.deb
>>>>> (--unpack):
>>>>>  name of conffile (starting `/etc/xwiki/xwiki-tomcat.xml') is too long
>>>>> (>1000 characters)
>>>>
>>>> I probably forgot to re-apply the ending new line (restarted from the
>>>> tag). Checking.
>>>
>>> Should ok now.
>>
>> Get the following errer during installation
>>
>> E: Failed to fetch
>> http://maven.xwiki.org/releases/org/xwiki/enterprise/xwiki-enterprise-installer-debian-common/3.5/xwiki-enterprise-installer-debian-common-3.5.deb:
>> Size mismatch
> 
> I think the cron did not updated the debian repository index yet. I
> will force it.
> 
>>
>>>
>>>>
>>>>>
>>>>>> Does this sounds right to you ?
>>>>>
>>>>> From a technical point of view this should work.
>>>>>
>>>>> But what are you thinking about the idea to introduce a user and group
>>>>> xwiki, set the needed rights for the user xwiki and group xwiki in the
>>>>> packages xwiki-enterprise-common and xwiki-enterprise-<data base>-common
>>>>> (so the install script does not to have to know the application server)
>>>>> and let the package xwiki-enterprise-<application server>-common add the
>>>>> user of the application server to the group xwiki (e.g. addgroup tomcat7
>>>>> xwiki).
>>>>>
>>>>> Adding and removing users to or form the group xwiki instead of
>>>>> fiddleling around with file permissions will make the live of the system
>>>>> administrator more convenient (e.g. if one want to try out a different
>>>>> application server).
>>>>>
>>>>> But i think more important is the fact that a group based right
>>>>> management will lead to more flexibility and so to fewer future preblems.
>>>>>
>>>>> Your opinion?
>>>>
>>>> Sounds like a good idea. Could you create a jira issue for it ? I will
>>>> not have time to work on it right now.
>>
>> Done. You have allready seen it :)
>>
>> Richard
>>
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
> 
> 
> 
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:36 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp10844igc;
        Mon, 5 Mar 2012 04:56:24 -0800 (PST)
Received: by 10.213.113.131 with SMTP id a3mr2487006ebq.95.1330952176421;
        Mon, 05 Mar 2012 04:56:16 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id z11si12647819eef.176.2012.03.05.04.56.15;
        Mon, 05 Mar 2012 04:56:16 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E25956A64710;
	Mon,  5 Mar 2012 12:52:03 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330951923; bh=SoCLV4YicTIVZed3RstQjMzDMCOcQa0Yz4Ber3oRRyA=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=OS8ZmWXfU3CYa7Pmh0QpQ6aBuERTcYglf1C8N0gOx/gE1PNnm/jU27MsEzbSfLFXC
	 lhSNpEQAfRFK91diciL787iyG1kXo4LdicdfSg7KawQTTecaYyccsAuZvjolEVVn46
	 /Bt6XvFfQCGr1Kg+9o08XjZzohyD1PjYUqiVpzuQ=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id g66J-sJKMPVY; Mon,  5 Mar 2012 12:52:03 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E520C6A64706;
	Mon,  5 Mar 2012 12:52:01 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330951922; bh=SoCLV4YicTIVZed3RstQjMzDMCOcQa0Yz4Ber3oRRyA=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=p3m++2nIujD11s67a2OyWG1YfzftwDC/WWSRJpEdnb7Sgc5m2AEpXgmO40BpZ0Ahj
	 2SZCrqNarrrDSzLkfvZVx1E0/X5yK01z+XUHDEc5UuyTDloXRERqlCAKV+rwt22AqB
	 iNWNc3iJgU/pjII6FekmiyKAHU1uNJvG3psuCf68=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 8068D6A64701
	for <users@xwiki.org>; Mon,  5 Mar 2012 12:51:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id V5wLaiNrgM0P for <users@xwiki.org>;
	Mon,  5 Mar 2012 12:51:49 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 0854C6A644AE
	for <users@xwiki.org>; Mon,  5 Mar 2012 12:51:47 +0000 (UTC)
Received: by obbup3 with SMTP id up3so7591363obb.24
	for <users@xwiki.org>; Mon, 05 Mar 2012 04:55:55 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.75.40 as permitted sender) client-ip=10.182.75.40;
Received: from mr.google.com ([10.182.75.40])
	by 10.182.75.40 with SMTP id z8mr8346106obv.20.1330952155177 (num_hops
	= 1); Mon, 05 Mar 2012 04:55:55 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.75.40 with SMTP id z8mr7277727obv.20.1330952154997; Mon,
	05 Mar 2012 04:55:54 -0800 (PST)
Received: by 10.182.172.66 with HTTP; Mon, 5 Mar 2012 04:55:54 -0800 (PST)
In-Reply-To: <4F54A7AA.4090008@richard-rafalski.de>
References: <4F4D2037.6020105@richard-rafalski.de>
	<4F4DE0BC.8030706@richard-rafalski.de>
	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
	<4F50F673.6080300@richard-rafalski.de>
	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>
	<CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>
	<CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>
	<4F515BC2.2080809@richard-rafalski.de>
	<CAPnKnLGjLdcNfMAT2Mn9Apjka9LbSRKhd8n0yWvYyFFGvOphBQ@mail.gmail.com>
	<CAPnKnLEVV08y8ns=h2fWGOrPKjF3tm+8z-EX0EBvF4NZ8aA5TA@mail.gmail.com>
	<4F536932.4020406@richard-rafalski.de>
	<CAPnKnLHah93YaC0=d0B-QqZTV4wpBN6dMA2uBoYJgtfMUget5g@mail.gmail.com>
	<CAPnKnLEumMqvz9iK1aB_m8_yQaqy-JD7JQxmttaP0FC-OKxYEw@mail.gmail.com>
	<4F549414.2090205@richard-rafalski.de>
	<CAPnKnLERo64f1-Y2bABXPnnGVqAADM9tHP7i7R6ZO-7C169TyA@mail.gmail.com>
	<4F54A7AA.4090008@richard-rafalski.de>
Date: Mon, 5 Mar 2012 13:55:54 +0100
Message-ID: <CAPnKnLFt8oH5agwGTiUAwLwEaMGGhTb+okz2PjGwqGP3rn5LsA@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQl9bZjx6/9zTjUwnn7ygU+0Fu6i21qiwtEAfK4qnHzEqt4CpeHkAcC5xX1UyOceyM5CRorS
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Mon, Mar 5, 2012 at 12:46 PM, Richard Rafalski
<mail@richard-rafalski.de> wrote:
> Hey Thomas,
>
> regression on xwiki-enterprise-tomcat-common:
>
> dpkg: error processing
> /var/cache/apt/archives/xwiki-enterprise-tomcat-common_3.5_all.deb
> (--unpack):
> =A0name of conffile (starting `/etc/xwiki/xwiki-tomcat.xml') is too long
> (>1000 characters)

Missing backport again, or why it's bad to modify already released packages=
...

Should be ok now.

>
> Richard
>
> Am 05.03.2012 12:09, schrieb Thomas Mortagne:
>> On Mon, Mar 5, 2012 at 11:23 AM, Richard Rafalski
>> <mail@richard-rafalski.de> wrote:
>>>
>>>
>>> Am 05.03.2012 08:41, schrieb Thomas Mortagne:
>>>> On Mon, Mar 5, 2012 at 8:36 AM, Thomas Mortagne
>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>> On Sun, Mar 4, 2012 at 2:08 PM, Richard Rafalski
>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>
>>>>>> Am 03.03.2012 13:07, schrieb Thomas Mortagne:
>>>>>>> On Sat, Mar 3, 2012 at 11:56 AM, Thomas Mortagne
>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>> On Sat, Mar 3, 2012 at 12:46 AM, Richard Rafalski
>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> Am 02.03.2012 19:47, schrieb Thomas Mortagne:
>>>>>>>>>> On Fri, Mar 2, 2012 at 7:36 PM, Thomas Mortagne
>>>>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>>>>> On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
>>>>>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>>>>>> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
>>>>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>>>>> Hi Thomas,
>>>>>>>>>>>>>
>>>>>>>>>>>>> thank you for the last modifications on the deb packages.
>>>>>>>>>>>>>
>>>>>>>>>>>>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>>>>>>>>>>>>> installation ran without probelms.
>>>>>>>>>>>>> Great!
>>>>>>>>>>>>>
>>>>>>>>>>>>> But I'am sorry to inform you that after pointing the webbrows=
er to
>>>>>>>>>>>>> http://xwikipg:8080/xwiki/ I got the well known
>>>>>>>>>>>>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate config=
uration"
>>>>>>>>>>>>> message.
>>>>>>>>>>>>>
>>>>>>>>>>>>> A quik look into /etc/xwiki showed
>>>>>>>>>>>>> -rw-r----- 1 root root 8.1K Mar =A02 16:08 hibernate.cfg.xml
>>>>>>>>>>>>>
>>>>>>>>>>>>> Changing group from root to tomcat7 and restarting the tomcat=
7 service
>>>>>>>>>>>>> solved the problem.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Maybe there is still a problem with setting group/rights on
>>>>>>>>>>>>> hibernate.cfg.xml. I'am not shure.
>>>>>>>>>>>>
>>>>>>>>>>>> That's weird I was sure I changed the right for it to be 644, =
will
>>>>>>>>>>>> checking this, maybe I modified it only in the mysql package. =
Should
>>>>>>>>>>>> be quickly fixed.
>>>>>>>>>>>
>>>>>>>>>>> I did fixed it but forgot to backport it on 3.5 actually...
>>>>>>>>>>
>>>>>>>>>> Should be better now. Thanks for the report !
>>>>>>>>> I think it is very dangerous to make hibernate.cfg.xml readable f=
or
>>>>>>>>> evryone. If you can not avoid it you should mention this fact in =
the
>>>>>>>>> installation documentation.
>>>>>>>>
>>>>>>>> I can probably change the owner to tomcat and remove the readright=
 for
>>>>>>>> all in the xwiki-enterprise-tomcat*-pgsql and
>>>>>>>> xwiki-enterprise-tomcat*-mysql (my problem was that the install sc=
ript
>>>>>>>> does not know the aplication server in xwiki-enterprise-pgsql-comm=
on
>>>>>>>> and xwiki-enterprise-mysql-common).
>>>>>>
>>>>>> Yes I see.
>>>>>>
>>>>>>>
>>>>>>> Done, the right of the hibernate conf file is now 640 and the whole
>>>>>>> /etc/xwiki folder has the proper tomcat5/tomcat6/tomcat7 user as
>>>>>>> owner.
>>>>>>>
>>>>>>
>>>>>> While installing the new package xwiki-enterprise-tomcat7-pgsql I ran
>>>>>> into this regression bug
>>>>>>
>>>>>> dpkg: error processing
>>>>>> /var/cache/apt/archives/xwiki-enterprise-common_3.5_all.deb (--unpac=
k):
>>>>>> =A0name of conffile (starting `/etc/xwiki/web.xml') is too long (>10=
00
>>>>>> characters)
>>>>>> ...
>>>>>> dpkg: error processing
>>>>>> /var/cache/apt/archives/xwiki-enterprise-tomcat-common_3.5_all.deb
>>>>>> (--unpack):
>>>>>> =A0name of conffile (starting `/etc/xwiki/xwiki-tomcat.xml') is too =
long
>>>>>> (>1000 characters)
>>>>>
>>>>> I probably forgot to re-apply the ending new line (restarted from the
>>>>> tag). Checking.
>>>>
>>>> Should ok now.
>>>
>>> Get the following errer during installation
>>>
>>> E: Failed to fetch
>>> http://maven.xwiki.org/releases/org/xwiki/enterprise/xwiki-enterprise-i=
nstaller-debian-common/3.5/xwiki-enterprise-installer-debian-common-3.5.deb:
>>> Size mismatch
>>
>> I think the cron did not updated the debian repository index yet. I
>> will force it.
>>
>>>
>>>>
>>>>>
>>>>>>
>>>>>>> Does this sounds right to you ?
>>>>>>
>>>>>> From a technical point of view this should work.
>>>>>>
>>>>>> But what are you thinking about the idea to introduce a user and gro=
up
>>>>>> xwiki, set the needed rights for the user xwiki and group xwiki in t=
he
>>>>>> packages xwiki-enterprise-common and xwiki-enterprise-<data base>-co=
mmon
>>>>>> (so the install script does not to have to know the application serv=
er)
>>>>>> and let the package xwiki-enterprise-<application server>-common add=
 the
>>>>>> user of the application server to the group xwiki (e.g. addgroup tom=
cat7
>>>>>> xwiki).
>>>>>>
>>>>>> Adding and removing users to or form the group xwiki instead of
>>>>>> fiddleling around with file permissions will make the live of the sy=
stem
>>>>>> administrator more convenient (e.g. if one want to try out a differe=
nt
>>>>>> application server).
>>>>>>
>>>>>> But i think more important is the fact that a group based right
>>>>>> management will lead to more flexibility and so to fewer future preb=
lems.
>>>>>>
>>>>>> Your opinion?
>>>>>
>>>>> Sounds like a good idea. Could you create a jira issue for it ? I will
>>>>> not have time to work on it right now.
>>>
>>> Done. You have allready seen it :)
>>>
>>> Richard
>>>
>>> _______________________________________________
>>> users mailing list
>>> users@xwiki.org
>>> http://lists.xwiki.org/mailman/listinfo/users
>>
>>
>>
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:36 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp4326igc;
        Sun, 4 Mar 2012 23:41:50 -0800 (PST)
Received: by 10.213.14.74 with SMTP id f10mr1500712eba.274.1330933302774;
        Sun, 04 Mar 2012 23:41:42 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id w47si11988513een.138.2012.03.04.23.41.40;
        Sun, 04 Mar 2012 23:41:41 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id B84A06A6447B;
	Mon,  5 Mar 2012 07:37:31 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330933051; bh=N6QDkRx76e0N7G1SCTKnfb1u4oWcRge5TMaFTWKu/b0=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=sGRNGauqFsrA+vV65PD44MkVbwqxYRUrL6o+IoJ/3+vC8Em+OcIwmZYmm/cJDq48Z
	 HqL9bJw6qEs+okg7QFCw1o+t/ExMDGHZd7XZjDcmuS8CS4vFzBGuLIhQnLAP9PL0lP
	 bZTlYvtuC4MpkZK4FfZKuJaAKtpmy56rO0J8WHVY=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id XaoiLTRgCeEl; Mon,  5 Mar 2012 07:37:31 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 5CE076A64701;
	Mon,  5 Mar 2012 07:37:30 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330933050; bh=N6QDkRx76e0N7G1SCTKnfb1u4oWcRge5TMaFTWKu/b0=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=F+DuOiXIt+MjXtU67PZi3Lp2i+h/hxAJNi/PYCC1YLtO5Opo0439Et0awp4rg96y7
	 TO54qrE01Rl1p0uMJkCEFv5zkX//ehLQfrdDKtk8UGNcyNH/Z+OhaPkofoQ6GlwWJj
	 SO1YxXRp0ZFEDJJhj1ELfAw25DqrDZ743F19JT9Y=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id DF7CD6A6469C
	for <users@xwiki.org>; Mon,  5 Mar 2012 07:37:27 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id olWbZYQf-dl8 for <users@xwiki.org>;
	Mon,  5 Mar 2012 07:37:22 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id EE0E46A6447B
	for <users@xwiki.org>; Mon,  5 Mar 2012 07:37:21 +0000 (UTC)
Received: by obbup3 with SMTP id up3so7255250obb.24
	for <users@xwiki.org>; Sun, 04 Mar 2012 23:41:29 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.60.4.202 as permitted sender) client-ip=10.60.4.202;
Received: from mr.google.com ([10.60.4.202])
	by 10.60.4.202 with SMTP id m10mr9018547oem.10.1330933289220 (num_hops
	= 1); Sun, 04 Mar 2012 23:41:29 -0800 (PST)
MIME-Version: 1.0
Received: by 10.60.4.202 with SMTP id m10mr7830200oem.10.1330933289107; Sun,
	04 Mar 2012 23:41:29 -0800 (PST)
Received: by 10.182.172.66 with HTTP; Sun, 4 Mar 2012 23:41:29 -0800 (PST)
In-Reply-To: <CAPnKnLHah93YaC0=d0B-QqZTV4wpBN6dMA2uBoYJgtfMUget5g@mail.gmail.com>
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
	<4F4DE0BC.8030706@richard-rafalski.de>
	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
	<4F50F673.6080300@richard-rafalski.de>
	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>
	<CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>
	<CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>
	<4F515BC2.2080809@richard-rafalski.de>
	<CAPnKnLGjLdcNfMAT2Mn9Apjka9LbSRKhd8n0yWvYyFFGvOphBQ@mail.gmail.com>
	<CAPnKnLEVV08y8ns=h2fWGOrPKjF3tm+8z-EX0EBvF4NZ8aA5TA@mail.gmail.com>
	<4F536932.4020406@richard-rafalski.de>
	<CAPnKnLHah93YaC0=d0B-QqZTV4wpBN6dMA2uBoYJgtfMUget5g@mail.gmail.com>
Date: Mon, 5 Mar 2012 08:41:29 +0100
Message-ID: <CAPnKnLEumMqvz9iK1aB_m8_yQaqy-JD7JQxmttaP0FC-OKxYEw@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQkdNHPlcUvQiPDGvnOUNubKjpkGLzLTbP/kCDwumExXeZrYwATQntGVgJxTx0iXdjnXj0rr
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Mon, Mar 5, 2012 at 8:36 AM, Thomas Mortagne
<thomas.mortagne@xwiki.com> wrote:
> On Sun, Mar 4, 2012 at 2:08 PM, Richard Rafalski
> <mail@richard-rafalski.de> wrote:
>>
>> Am 03.03.2012 13:07, schrieb Thomas Mortagne:
>>> On Sat, Mar 3, 2012 at 11:56 AM, Thomas Mortagne
>>> <thomas.mortagne@xwiki.com> wrote:
>>>> On Sat, Mar 3, 2012 at 12:46 AM, Richard Rafalski
>>>> <mail@richard-rafalski.de> wrote:
>>>>>
>>>>>
>>>>> Am 02.03.2012 19:47, schrieb Thomas Mortagne:
>>>>>> On Fri, Mar 2, 2012 at 7:36 PM, Thomas Mortagne
>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>> On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>> Hi Thomas,
>>>>>>>>>
>>>>>>>>> thank you for the last modifications on the deb packages.
>>>>>>>>>
>>>>>>>>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>>>>>>>>> installation ran without probelms.
>>>>>>>>> Great!
>>>>>>>>>
>>>>>>>>> But I'am sorry to inform you that after pointing the webbrowser to
>>>>>>>>> http://xwikipg:8080/xwiki/ I got the well known
>>>>>>>>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configurat=
ion"
>>>>>>>>> message.
>>>>>>>>>
>>>>>>>>> A quik look into /etc/xwiki showed
>>>>>>>>> -rw-r----- 1 root root 8.1K Mar =A02 16:08 hibernate.cfg.xml
>>>>>>>>>
>>>>>>>>> Changing group from root to tomcat7 and restarting the tomcat7 se=
rvice
>>>>>>>>> solved the problem.
>>>>>>>>>
>>>>>>>>> Maybe there is still a problem with setting group/rights on
>>>>>>>>> hibernate.cfg.xml. I'am not shure.
>>>>>>>>
>>>>>>>> That's weird I was sure I changed the right for it to be 644, will
>>>>>>>> checking this, maybe I modified it only in the mysql package. Shou=
ld
>>>>>>>> be quickly fixed.
>>>>>>>
>>>>>>> I did fixed it but forgot to backport it on 3.5 actually...
>>>>>>
>>>>>> Should be better now. Thanks for the report !
>>>>> I think it is very dangerous to make hibernate.cfg.xml readable for
>>>>> evryone. If you can not avoid it you should mention this fact in the
>>>>> installation documentation.
>>>>
>>>> I can probably change the owner to tomcat and remove the readright for
>>>> all in the xwiki-enterprise-tomcat*-pgsql and
>>>> xwiki-enterprise-tomcat*-mysql (my problem was that the install script
>>>> does not know the aplication server in xwiki-enterprise-pgsql-common
>>>> and xwiki-enterprise-mysql-common).
>>
>> Yes I see.
>>
>>>
>>> Done, the right of the hibernate conf file is now 640 and the whole
>>> /etc/xwiki folder has the proper tomcat5/tomcat6/tomcat7 user as
>>> owner.
>>>
>>
>> While installing the new package xwiki-enterprise-tomcat7-pgsql I ran
>> into this regression bug
>>
>> dpkg: error processing
>> /var/cache/apt/archives/xwiki-enterprise-common_3.5_all.deb (--unpack):
>> =A0name of conffile (starting `/etc/xwiki/web.xml') is too long (>1000
>> characters)
>> ...
>> dpkg: error processing
>> /var/cache/apt/archives/xwiki-enterprise-tomcat-common_3.5_all.deb
>> (--unpack):
>> =A0name of conffile (starting `/etc/xwiki/xwiki-tomcat.xml') is too long
>> (>1000 characters)
>
> I probably forgot to re-apply the ending new line (restarted from the
> tag). Checking.

Should ok now.

>
>>
>>> Does this sounds right to you ?
>>
>> From a technical point of view this should work.
>>
>> But what are you thinking about the idea to introduce a user and group
>> xwiki, set the needed rights for the user xwiki and group xwiki in the
>> packages xwiki-enterprise-common and xwiki-enterprise-<data base>-common
>> (so the install script does not to have to know the application server)
>> and let the package xwiki-enterprise-<application server>-common add the
>> user of the application server to the group xwiki (e.g. addgroup tomcat7
>> xwiki).
>>
>> Adding and removing users to or form the group xwiki instead of
>> fiddleling around with file permissions will make the live of the system
>> administrator more convenient (e.g. if one want to try out a different
>> application server).
>>
>> But i think more important is the fact that a group based right
>> management will lead to more flexibility and so to fewer future preblems.
>>
>> Your opinion?
>
> Sounds like a good idea. Could you create a jira issue for it ? I will
> not have time to work on it right now.
>
>>
>>>
>>>>
>>>>>
>>>>> Richard
>>>>>
>>>>>>
>>>>>>>
>>>>>>>>
>>>>>>>>>
>>>>>>>>> Richard
>>>>>>>>>
>>>>>>>>> Am 29.02.2012 18:02, schrieb Thomas Mortagne:
>>>>>>>>>> On Wed, Feb 29, 2012 at 10:35 AM, Thomas Mortagne
>>>>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>>>>> On Wed, Feb 29, 2012 at 9:24 AM, Richard Rafalski
>>>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>> Am 28.02.2012 20:10, schrieb Thomas Mortagne:
>>>>>>>>>>>>> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
>>>>>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>>>>>> Hi,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> i have installed xwiki form the deb package
>>>>>>>>>>>>>> xwiki-enterprise-tomcat-pgsql version 3.5. =A0Then tried to =
contact the
>>>>>>>>>>>>>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg =
is the
>>>>>>>>>>>>>> hostname where xwiki is running). No page came up. I got thi=
s error:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate config=
uration
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> What to do now?
>>>>>>>>>>>>>
>>>>>>>>>>>>> Looks like there is something wrong with the potgre packages =
actually,
>>>>>>>>>>>>> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (=
it's
>>>>>>>>>>>>> supposed to contain the version of tomcat now). But that's not
>>>>>>>>>>>>> related;
>>>>>>>>>>>>
>>>>>>>>>>>> Do you mean something like xwiki-enterprise-tomcat6-pgsql,
>>>>>>>>>>>> xwiki-enterprise-tomcat7-pgsql ? That would be nice.
>>>>>>>>>>>
>>>>>>>>>>> Yes, see you can see how it's done for mysql but for postgre th=
ey are
>>>>>>>>>>> all there but with the same xwiki-enterprise-tomcat-pgsql name.=
.. I
>>>>>>>>>>> forgot to change it during the refactoring and I mostly test my=
sql.
>>>>>>>>>>> Sorry about that.
>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cf=
g.xml
>>>>>>>>>>>>> template file ? I think there is an issue with the generation=
 of the
>>>>>>>>>>>>> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm look=
ing at
>>>>>>>>>>>>> it.
>>>>>>>>>>>>
>>>>>>>>>>>> I tried a new install on a completely fresh debian system. The=
 problem
>>>>>>>>>>>> does not appear now. I think my old system was broken due to o=
ld failed
>>>>>>>>>>>> installations. Or did you change something meanwhile?
>>>>>>>>>>>
>>>>>>>>>>> Nop I did not change anything but I actually suspect that the i=
ssue is
>>>>>>>>>>> not fresh install but that the purge is wrong. That's what I pl=
an to
>>>>>>>>>>> look at, thanks for the confirmation.
>>>>>>>>>>
>>>>>>>>>> Should be OK now.
>>>>>>>>>>
>>>>>>>>>> The issue was indeed in the purge script. This mean that you mig=
ht
>>>>>>>>>> still have an issue with install, in that case you will need to =
do
>>>>>>>>>> install/remove --purge/install to cleanup everything.
>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> Richard
>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks for help
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Here is the full error text:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> HTTP Status 500 -
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> type Exception report
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> message
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> description The server encountered an internal error () that=
 prevented
>>>>>>>>>>>>>> it from fulfilling this request.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> exception
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException=
: Error
>>>>>>>>>>>>>> number 3 in 0: Could not initialize main XWiki context
>>>>>>>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while r=
eading
>>>>>>>>>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], =
parent =3D [name =3D
>>>>>>>>>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], typ=
e =3D [WIKI], parent
>>>>>>>>>>>>>> =3D [null]]]]
>>>>>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] f=
or hibernate
>>>>>>>>>>>>>> configuration
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.pro=
cessException(RequestProcessor.java:535)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.pro=
cessActionPerform(RequestProcessor.java:433)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.pro=
cess(RequestProcessor.java:236)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.proces=
s(ActionServlet.java:1196)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(=
ActionServlet.java:414)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSe=
rvlet.java:617)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSe=
rvlet.java:717)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(Actio=
nFilter.java:128)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFil=
ter.doFilter(ConversionFilter.java:144)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.do=
Filter(XWikiDavFilter.java:68)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.=
SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.=
SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>>>>> root cause
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not=
 initialize
>>>>>>>>>>>>>> main XWiki context
>>>>>>>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while r=
eading
>>>>>>>>>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], =
parent =3D [name =3D
>>>>>>>>>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], typ=
e =3D [WIKI], parent
>>>>>>>>>>>>>> =3D [null]]]]
>>>>>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] f=
or hibernate
>>>>>>>>>>>>>> configuration
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:4=
18)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAc=
tion.java:136)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAc=
tion.java:116)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.pro=
cessActionPerform(RequestProcessor.java:431)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.pro=
cess(RequestProcessor.java:236)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.proces=
s(ActionServlet.java:1196)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(=
ActionServlet.java:414)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSe=
rvlet.java:617)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSe=
rvlet.java:717)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(Actio=
nFilter.java:128)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFil=
ter.doFilter(ConversionFilter.java:144)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.do=
Filter(XWikiDavFilter.java:68)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.=
SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.=
SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>>>>> root cause
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Except=
ion while
>>>>>>>>>>>>>> reading document [name =3D [XWikiPreferences], type =3D [DOC=
UMENT], parent =3D
>>>>>>>>>>>>>> [name =3D [XWiki], type =3D [SPACE], parent =3D [name =3D [x=
wiki], type =3D
>>>>>>>>>>>>>> [WIKI], parent =3D [null]]]]
>>>>>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] f=
or hibernate
>>>>>>>>>>>>>> configuration
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadX=
WikiDoc(XWikiHibernateStore.java:856)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWiki=
Doc(XWikiCacheStore.java:283)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:14=
27)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:14=
70)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:=
3104)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasse=
s(XWiki.java:821)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:4=
01)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAc=
tion.java:136)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAc=
tion.java:116)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.pro=
cessActionPerform(RequestProcessor.java:431)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.pro=
cess(RequestProcessor.java:236)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.proces=
s(ActionServlet.java:1196)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(=
ActionServlet.java:414)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSe=
rvlet.java:617)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSe=
rvlet.java:717)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(Actio=
nFilter.java:128)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFil=
ter.doFilter(ConversionFilter.java:144)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.do=
Filter(XWikiDavFilter.java:68)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.=
SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.=
SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>>>>> root cause
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> org.hibernate.HibernateException: Can't find
>>>>>>>>>>>>>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernat=
eSessionFactory$1.getConfigurationInputStream(DefaultHibernateSessionFactor=
y.java:118)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.hibernate.cfg.Configuration.configure(Con=
figuration.java:2157)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernat=
eSessionFactory$1.configure(DefaultHibernateSessionFactory.java:80)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.i=
nitHibernate(XWikiHibernateBaseStore.java:167)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.c=
heckHibernate(XWikiHibernateBaseStore.java:550)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadX=
WikiDoc(XWikiHibernateStore.java:728)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWiki=
Doc(XWikiCacheStore.java:283)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:14=
27)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:14=
70)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:=
3104)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasse=
s(XWiki.java:821)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:4=
01)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAc=
tion.java:136)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAc=
tion.java:116)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.pro=
cessActionPerform(RequestProcessor.java:431)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.pro=
cess(RequestProcessor.java:236)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.proces=
s(ActionServlet.java:1196)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(=
ActionServlet.java:414)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSe=
rvlet.java:617)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSe=
rvlet.java:717)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(Actio=
nFilter.java:128)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFil=
ter.doFilter(ConversionFilter.java:144)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.do=
Filter(XWikiDavFilter.java:68)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.=
SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.=
SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>>>>> note The full stack trace of the root cause is available in =
the Apache
>>>>>>>>>>>>>> Tomcat/6.0.35 logs.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Apache Tomcat/6.0.35
>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>> users mailing list
>>>>>>>>>>>>>> users@xwiki.org
>>>>>>>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>> users mailing list
>>>>>>>>>>>> users@xwiki.org
>>>>>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>> Thomas Mortagne
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>> users mailing list
>>>>>>>>> users@xwiki.org
>>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> Thomas Mortagne
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> Thomas Mortagne
>>>>>>
>>>>>>
>>>>>>
>>>>> _______________________________________________
>>>>> users mailing list
>>>>> users@xwiki.org
>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>
>>>>
>>>>
>>>> --
>>>> Thomas Mortagne
>>>
>>>
>>>
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
>
>
>
> --
> Thomas Mortagne



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:36 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp6782igc;
        Mon, 5 Mar 2012 02:21:33 -0800 (PST)
Received: by 10.14.40.70 with SMTP id e46mr1378283eeb.20.1330942885149;
        Mon, 05 Mar 2012 02:21:25 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id d12si12309865eei.106.2012.03.05.02.21.23;
        Mon, 05 Mar 2012 02:21:25 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 167E76A64711;
	Mon,  5 Mar 2012 10:17:14 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330942634; bh=knOnyh8mr8BxOYLwjvG2cUBoszMzKkjp/TAHUpKpDjI=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=aCMjdM+IpsMWlKEfv867h2XOGf3cCRHDilkzhY4JoR24nOg/YRRs/KbY4tnYF6CHK
	 J+S0Lz8P3RATkkJbe5S0Lpyi53QsbQpoKcAe+SfiYQMPucRvIa1Tb0fve/IV/JlcL0
	 ZXbrNd/mVOo59mkvDb1t9wwymDqjMVH4TJLOwj7w=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HFoHx90IyxjX; Mon,  5 Mar 2012 10:17:13 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id BC17F6A64702;
	Mon,  5 Mar 2012 10:17:11 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330942631; bh=knOnyh8mr8BxOYLwjvG2cUBoszMzKkjp/TAHUpKpDjI=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=Z5tn7g/YXscuUpMQmJmNI27mgXC3/RcA7vkEvOnBGcY/r2VDO9NClYhw2So4H9l/0
	 KxRbzqkacC9xzYSPgo6yrRLjzm8H3hqHgay5amgx4DAS2D2M2bx7w0GePR+MMXB+l4
	 xieNi839m5BgoFl0EhSsMWU68+bRJR7zdBBzgZS8=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 2FB086A64701
	for <users@xwiki.org>; Mon,  5 Mar 2012 10:17:07 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id cvhrhrtHFsB2 for <users@xwiki.org>;
	Mon,  5 Mar 2012 10:17:05 +0000 (UTC)
Received: from mailout2.hostsharing.net (mailout2.hostsharing.net
	[83.223.90.233])
	by borabora.xwiki.com (Postfix) with ESMTPS id 467216A64685
	for <users@xwiki.org>; Mon,  5 Mar 2012 10:17:05 +0000 (UTC)
Received: from h06.hostsharing.net (h06.hostsharing.net [83.223.95.25])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailout2.hostsharing.net (Postfix) with ESMTPS id 77CDB8EED45
	for <users@xwiki.org>; Mon,  5 Mar 2012 11:21:12 +0100 (CET)
Received: from kenny.bismarck.richard-rafalski.de (unknown [194.231.230.250])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by h06.hostsharing.net (Postfix) with ESMTPSA id 3A27219501428
	for <users@xwiki.org>; Mon,  5 Mar 2012 11:21:13 +0100 (CET)
Received: from localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTP id
	4EFB4120F7
	for <users@xwiki.org>; Mon,  5 Mar 2012 11:21:12 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at richard-rafalski.de
Received: from kenny.bismarck.richard-rafalski.de ([127.0.0.1])
	by localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	(amavisd-new, port 10024)
	with ESMTP id yvf9hO4EB6vc for <users@xwiki.org>;
	Mon,  5 Mar 2012 11:21:05 +0100 (CET)
Received: from [192.168.2.2] (sparky.bismarck.richard-rafalski.de
	[192.168.2.2]) (using TLSv1 with cipher AES256-SHA (256/256 bits))
	(No client certificate requested)
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTPSA id
	D6CBD120F6
	for <users@xwiki.org>; Mon,  5 Mar 2012 11:21:05 +0100 (CET)
Message-ID: <4F549414.2090205@richard-rafalski.de>
Date: Mon, 05 Mar 2012 11:23:16 +0100
From: Richard Rafalski <mail@richard-rafalski.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US;
	rv:1.9.2.24) Gecko/20111114 Iceowl/1.0b2 Icedove/3.1.16
MIME-Version: 1.0
To: users@xwiki.org
References: <4F4D2037.6020105@richard-rafalski.de>	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>	<4F4DE0BC.8030706@richard-rafalski.de>	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>	<4F50F673.6080300@richard-rafalski.de>	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>	<CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>	<CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>	<4F515BC2.2080809@richard-rafalski.de>	<CAPnKnLGjLdcNfMAT2Mn9Apjka9LbSRKhd8n0yWvYyFFGvOphBQ@mail.gmail.com>	<CAPnKnLEVV08y8ns=h2fWGOrPKjF3tm+8z-EX0EBvF4NZ8aA5TA@mail.gmail.com>	<4F536932.4020406@richard-rafalski.de>	<CAPnKnLHah93YaC0=d0B-QqZTV4wpBN6dMA2uBoYJgtfMUget5g@mail.gmail.com>
	<CAPnKnLEumMqvz9iK1aB_m8_yQaqy-JD7JQxmttaP0FC-OKxYEw@mail.gmail.com>
In-Reply-To: <CAPnKnLEumMqvz9iK1aB_m8_yQaqy-JD7JQxmttaP0FC-OKxYEw@mail.gmail.com>
X-Enigmail-Version: 1.1.2
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org



Am 05.03.2012 08:41, schrieb Thomas Mortagne:
> On Mon, Mar 5, 2012 at 8:36 AM, Thomas Mortagne
> <thomas.mortagne@xwiki.com> wrote:
>> On Sun, Mar 4, 2012 at 2:08 PM, Richard Rafalski
>> <mail@richard-rafalski.de> wrote:
>>>
>>> Am 03.03.2012 13:07, schrieb Thomas Mortagne:
>>>> On Sat, Mar 3, 2012 at 11:56 AM, Thomas Mortagne
>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>> On Sat, Mar 3, 2012 at 12:46 AM, Richard Rafalski
>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>
>>>>>>
>>>>>> Am 02.03.2012 19:47, schrieb Thomas Mortagne:
>>>>>>> On Fri, Mar 2, 2012 at 7:36 PM, Thomas Mortagne
>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>> On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
>>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>>> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>> Hi Thomas,
>>>>>>>>>>
>>>>>>>>>> thank you for the last modifications on the deb packages.
>>>>>>>>>>
>>>>>>>>>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>>>>>>>>>> installation ran without probelms.
>>>>>>>>>> Great!
>>>>>>>>>>
>>>>>>>>>> But I'am sorry to inform you that after pointing the webbrowser to
>>>>>>>>>> http://xwikipg:8080/xwiki/ I got the well known
>>>>>>>>>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration"
>>>>>>>>>> message.
>>>>>>>>>>
>>>>>>>>>> A quik look into /etc/xwiki showed
>>>>>>>>>> -rw-r----- 1 root root 8.1K Mar  2 16:08 hibernate.cfg.xml
>>>>>>>>>>
>>>>>>>>>> Changing group from root to tomcat7 and restarting the tomcat7 service
>>>>>>>>>> solved the problem.
>>>>>>>>>>
>>>>>>>>>> Maybe there is still a problem with setting group/rights on
>>>>>>>>>> hibernate.cfg.xml. I'am not shure.
>>>>>>>>>
>>>>>>>>> That's weird I was sure I changed the right for it to be 644, will
>>>>>>>>> checking this, maybe I modified it only in the mysql package. Should
>>>>>>>>> be quickly fixed.
>>>>>>>>
>>>>>>>> I did fixed it but forgot to backport it on 3.5 actually...
>>>>>>>
>>>>>>> Should be better now. Thanks for the report !
>>>>>> I think it is very dangerous to make hibernate.cfg.xml readable for
>>>>>> evryone. If you can not avoid it you should mention this fact in the
>>>>>> installation documentation.
>>>>>
>>>>> I can probably change the owner to tomcat and remove the readright for
>>>>> all in the xwiki-enterprise-tomcat*-pgsql and
>>>>> xwiki-enterprise-tomcat*-mysql (my problem was that the install script
>>>>> does not know the aplication server in xwiki-enterprise-pgsql-common
>>>>> and xwiki-enterprise-mysql-common).
>>>
>>> Yes I see.
>>>
>>>>
>>>> Done, the right of the hibernate conf file is now 640 and the whole
>>>> /etc/xwiki folder has the proper tomcat5/tomcat6/tomcat7 user as
>>>> owner.
>>>>
>>>
>>> While installing the new package xwiki-enterprise-tomcat7-pgsql I ran
>>> into this regression bug
>>>
>>> dpkg: error processing
>>> /var/cache/apt/archives/xwiki-enterprise-common_3.5_all.deb (--unpack):
>>>  name of conffile (starting `/etc/xwiki/web.xml') is too long (>1000
>>> characters)
>>> ...
>>> dpkg: error processing
>>> /var/cache/apt/archives/xwiki-enterprise-tomcat-common_3.5_all.deb
>>> (--unpack):
>>>  name of conffile (starting `/etc/xwiki/xwiki-tomcat.xml') is too long
>>> (>1000 characters)
>>
>> I probably forgot to re-apply the ending new line (restarted from the
>> tag). Checking.
> 
> Should ok now.

Get the following errer during installation

E: Failed to fetch
http://maven.xwiki.org/releases/org/xwiki/enterprise/xwiki-enterprise-installer-debian-common/3.5/xwiki-enterprise-installer-debian-common-3.5.deb:
Size mismatch

> 
>>
>>>
>>>> Does this sounds right to you ?
>>>
>>> From a technical point of view this should work.
>>>
>>> But what are you thinking about the idea to introduce a user and group
>>> xwiki, set the needed rights for the user xwiki and group xwiki in the
>>> packages xwiki-enterprise-common and xwiki-enterprise-<data base>-common
>>> (so the install script does not to have to know the application server)
>>> and let the package xwiki-enterprise-<application server>-common add the
>>> user of the application server to the group xwiki (e.g. addgroup tomcat7
>>> xwiki).
>>>
>>> Adding and removing users to or form the group xwiki instead of
>>> fiddleling around with file permissions will make the live of the system
>>> administrator more convenient (e.g. if one want to try out a different
>>> application server).
>>>
>>> But i think more important is the fact that a group based right
>>> management will lead to more flexibility and so to fewer future preblems.
>>>
>>> Your opinion?
>>
>> Sounds like a good idea. Could you create a jira issue for it ? I will
>> not have time to work on it right now.

Done. You have allready seen it :)

Richard

_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:36 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp8424igc;
        Mon, 5 Mar 2012 03:10:28 -0800 (PST)
Received: by 10.213.8.195 with SMTP id i3mr2454366ebi.94.1330945820582;
        Mon, 05 Mar 2012 03:10:20 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id h46si12425299eea.49.2012.03.05.03.10.19;
        Mon, 05 Mar 2012 03:10:20 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id BC4446A64709;
	Mon,  5 Mar 2012 11:06:03 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330945563; bh=yJO/Eo6/2fHder8s8dhVd9KMhZZyeweL+bsbtHJryiw=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=N9bJgpP04ZRNomkjpe2zRXowbEdrg6Ch3BXjnHfftcnQlN2vIeHhyRWvbwCFkk9sm
	 l5yPFUlnf4K0T/q7WzKB52xgggAyjLYek+SCoXhmcwKDjSumBjXerm8tKuF/RQ3wh8
	 AWqEmAnzl6ZCmJ+VLcSA3PtLZOv8pzcTkkO9tnTo=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id OZbDLPE85mdM; Mon,  5 Mar 2012 11:06:03 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 97A6D6A64624;
	Mon,  5 Mar 2012 11:06:02 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330945562; bh=yJO/Eo6/2fHder8s8dhVd9KMhZZyeweL+bsbtHJryiw=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=cT3CrCsmz66EU09z9xztPtIO1BKJYihan54fNgwEFjH73TxtWorNGTMA8gKz9uE5w
	 XQCBXt8OxUsxAboZ4pWHPtZ3sDRG63mza1gvasI2Sh8Uu8+0r2cndoRpUyJuGR/ZjN
	 333psf7fDClqb9yiMYozf8MqqWgp+XJdwkl4uFpo=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 103C76A64471
	for <users@xwiki.org>; Mon,  5 Mar 2012 11:05:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id nKfCPto8UJNv for <users@xwiki.org>;
	Mon,  5 Mar 2012 11:05:46 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 618F46A6304B
	for <users@xwiki.org>; Mon,  5 Mar 2012 11:05:43 +0000 (UTC)
Received: by obbup3 with SMTP id up3so7457644obb.24
	for <users@xwiki.org>; Mon, 05 Mar 2012 03:09:49 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.75.40 as permitted sender) client-ip=10.182.75.40;
Received: from mr.google.com ([10.182.75.40])
	by 10.182.75.40 with SMTP id z8mr8212244obv.20.1330945789989 (num_hops
	= 1); Mon, 05 Mar 2012 03:09:49 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.75.40 with SMTP id z8mr7160587obv.20.1330945789872; Mon,
	05 Mar 2012 03:09:49 -0800 (PST)
Received: by 10.182.172.66 with HTTP; Mon, 5 Mar 2012 03:09:49 -0800 (PST)
In-Reply-To: <4F549414.2090205@richard-rafalski.de>
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
	<4F4DE0BC.8030706@richard-rafalski.de>
	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
	<4F50F673.6080300@richard-rafalski.de>
	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>
	<CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>
	<CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>
	<4F515BC2.2080809@richard-rafalski.de>
	<CAPnKnLGjLdcNfMAT2Mn9Apjka9LbSRKhd8n0yWvYyFFGvOphBQ@mail.gmail.com>
	<CAPnKnLEVV08y8ns=h2fWGOrPKjF3tm+8z-EX0EBvF4NZ8aA5TA@mail.gmail.com>
	<4F536932.4020406@richard-rafalski.de>
	<CAPnKnLHah93YaC0=d0B-QqZTV4wpBN6dMA2uBoYJgtfMUget5g@mail.gmail.com>
	<CAPnKnLEumMqvz9iK1aB_m8_yQaqy-JD7JQxmttaP0FC-OKxYEw@mail.gmail.com>
	<4F549414.2090205@richard-rafalski.de>
Date: Mon, 5 Mar 2012 12:09:49 +0100
Message-ID: <CAPnKnLERo64f1-Y2bABXPnnGVqAADM9tHP7i7R6ZO-7C169TyA@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQmTyhMwzunOM7BxUjE9chsGCaQBMdIIrZtCe6w9WSrmM9pLkhN1GcSzY/D9sPnYzNG27Z5h
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Mon, Mar 5, 2012 at 11:23 AM, Richard Rafalski
<mail@richard-rafalski.de> wrote:
>
>
> Am 05.03.2012 08:41, schrieb Thomas Mortagne:
>> On Mon, Mar 5, 2012 at 8:36 AM, Thomas Mortagne
>> <thomas.mortagne@xwiki.com> wrote:
>>> On Sun, Mar 4, 2012 at 2:08 PM, Richard Rafalski
>>> <mail@richard-rafalski.de> wrote:
>>>>
>>>> Am 03.03.2012 13:07, schrieb Thomas Mortagne:
>>>>> On Sat, Mar 3, 2012 at 11:56 AM, Thomas Mortagne
>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>> On Sat, Mar 3, 2012 at 12:46 AM, Richard Rafalski
>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>
>>>>>>>
>>>>>>> Am 02.03.2012 19:47, schrieb Thomas Mortagne:
>>>>>>>> On Fri, Mar 2, 2012 at 7:36 PM, Thomas Mortagne
>>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>>> On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
>>>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>>>> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
>>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>>> Hi Thomas,
>>>>>>>>>>>
>>>>>>>>>>> thank you for the last modifications on the deb packages.
>>>>>>>>>>>
>>>>>>>>>>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>>>>>>>>>>> installation ran without probelms.
>>>>>>>>>>> Great!
>>>>>>>>>>>
>>>>>>>>>>> But I'am sorry to inform you that after pointing the webbrowser=
 to
>>>>>>>>>>> http://xwikipg:8080/xwiki/ I got the well known
>>>>>>>>>>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configur=
ation"
>>>>>>>>>>> message.
>>>>>>>>>>>
>>>>>>>>>>> A quik look into /etc/xwiki showed
>>>>>>>>>>> -rw-r----- 1 root root 8.1K Mar =A02 16:08 hibernate.cfg.xml
>>>>>>>>>>>
>>>>>>>>>>> Changing group from root to tomcat7 and restarting the tomcat7 =
service
>>>>>>>>>>> solved the problem.
>>>>>>>>>>>
>>>>>>>>>>> Maybe there is still a problem with setting group/rights on
>>>>>>>>>>> hibernate.cfg.xml. I'am not shure.
>>>>>>>>>>
>>>>>>>>>> That's weird I was sure I changed the right for it to be 644, wi=
ll
>>>>>>>>>> checking this, maybe I modified it only in the mysql package. Sh=
ould
>>>>>>>>>> be quickly fixed.
>>>>>>>>>
>>>>>>>>> I did fixed it but forgot to backport it on 3.5 actually...
>>>>>>>>
>>>>>>>> Should be better now. Thanks for the report !
>>>>>>> I think it is very dangerous to make hibernate.cfg.xml readable for
>>>>>>> evryone. If you can not avoid it you should mention this fact in the
>>>>>>> installation documentation.
>>>>>>
>>>>>> I can probably change the owner to tomcat and remove the readright f=
or
>>>>>> all in the xwiki-enterprise-tomcat*-pgsql and
>>>>>> xwiki-enterprise-tomcat*-mysql (my problem was that the install scri=
pt
>>>>>> does not know the aplication server in xwiki-enterprise-pgsql-common
>>>>>> and xwiki-enterprise-mysql-common).
>>>>
>>>> Yes I see.
>>>>
>>>>>
>>>>> Done, the right of the hibernate conf file is now 640 and the whole
>>>>> /etc/xwiki folder has the proper tomcat5/tomcat6/tomcat7 user as
>>>>> owner.
>>>>>
>>>>
>>>> While installing the new package xwiki-enterprise-tomcat7-pgsql I ran
>>>> into this regression bug
>>>>
>>>> dpkg: error processing
>>>> /var/cache/apt/archives/xwiki-enterprise-common_3.5_all.deb (--unpack):
>>>> =A0name of conffile (starting `/etc/xwiki/web.xml') is too long (>1000
>>>> characters)
>>>> ...
>>>> dpkg: error processing
>>>> /var/cache/apt/archives/xwiki-enterprise-tomcat-common_3.5_all.deb
>>>> (--unpack):
>>>> =A0name of conffile (starting `/etc/xwiki/xwiki-tomcat.xml') is too lo=
ng
>>>> (>1000 characters)
>>>
>>> I probably forgot to re-apply the ending new line (restarted from the
>>> tag). Checking.
>>
>> Should ok now.
>
> Get the following errer during installation
>
> E: Failed to fetch
> http://maven.xwiki.org/releases/org/xwiki/enterprise/xwiki-enterprise-ins=
taller-debian-common/3.5/xwiki-enterprise-installer-debian-common-3.5.deb:
> Size mismatch

I think the cron did not updated the debian repository index yet. I
will force it.

>
>>
>>>
>>>>
>>>>> Does this sounds right to you ?
>>>>
>>>> From a technical point of view this should work.
>>>>
>>>> But what are you thinking about the idea to introduce a user and group
>>>> xwiki, set the needed rights for the user xwiki and group xwiki in the
>>>> packages xwiki-enterprise-common and xwiki-enterprise-<data base>-comm=
on
>>>> (so the install script does not to have to know the application server)
>>>> and let the package xwiki-enterprise-<application server>-common add t=
he
>>>> user of the application server to the group xwiki (e.g. addgroup tomca=
t7
>>>> xwiki).
>>>>
>>>> Adding and removing users to or form the group xwiki instead of
>>>> fiddleling around with file permissions will make the live of the syst=
em
>>>> administrator more convenient (e.g. if one want to try out a different
>>>> application server).
>>>>
>>>> But i think more important is the fact that a group based right
>>>> management will lead to more flexibility and so to fewer future preble=
ms.
>>>>
>>>> Your opinion?
>>>
>>> Sounds like a good idea. Could you create a jira issue for it ? I will
>>> not have time to work on it right now.
>
> Done. You have allready seen it :)
>
> Richard
>
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:37 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp88963igc;
        Sun, 4 Mar 2012 13:50:15 -0800 (PST)
Received: by 10.14.48.65 with SMTP id u41mr7727902eeb.39.1330897807786;
        Sun, 04 Mar 2012 13:50:07 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id d12si11155784eei.214.2012.03.04.13.50.05;
        Sun, 04 Mar 2012 13:50:07 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 3E7076A646FD;
	Sun,  4 Mar 2012 21:45:59 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330897559; bh=AH2fQN6lSZuwWSGNcNV3BmXJ6imdZRKiDHFmAPNOGK8=;
	h=From:To:Date:Message-ID:References:In-Reply-To:MIME-Version:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=QD+CKIwrBgEGBT7YTTcDaWEd+WKxQF25Dh9a8aJ1GY03E85CUd4avO/c7w3OCDnj6
	 zDEHHO/X8o1u5W/y0EIR73TK5GZ7HnwnBrAJIRn5DhWamVxw4R3KAQreNPzQBHr3ut
	 KycR+RcPfCcEfIEwzSscvLd8LIQl3HDtQ9wgBIk8=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Eh8SQAbVwmCr; Sun,  4 Mar 2012 21:45:59 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 9D4276A64702;
	Sun,  4 Mar 2012 21:45:58 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330897558; bh=AH2fQN6lSZuwWSGNcNV3BmXJ6imdZRKiDHFmAPNOGK8=;
	h=From:To:Date:Message-ID:References:In-Reply-To:MIME-Version:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=G/OyVqjf3J22NBZGoZ+9ZAYWbqbedhkS6X3cEx64qExm5uABQWhci/pNIhIpOTAn2
	 d5fBqHuhfQIw2UW7Ngk1vGQauNLlfCZ7U5Zw/QbrV05xkAxvhW1CdFkjUt2oXeXIPa
	 2aGuBUJ/wZUARASBGTVaB/vdBspHdhp5eXAeF0V4=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 506BF6A646FD
	for <users@xwiki.org>; Sun,  4 Mar 2012 21:45:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id l1YzFODlpfzl for <users@xwiki.org>;
	Sun,  4 Mar 2012 21:45:53 +0000 (UTC)
Received: from mail01.sergas.es (mail01.sergas.es [217.124.244.71])
	by borabora.xwiki.com (Postfix) with ESMTP id 098966A6306B
	for <users@xwiki.org>; Sun,  4 Mar 2012 21:45:51 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="4.73,530,1325458800"; d="scan'208";a="60020810"
Received: from unknown (HELO asscc1024s.sergas.local) ([217.124.244.79])
	by mail01.sergas.es with ESMTP; 04 Mar 2012 22:49:56 +0100
Received: from ASSCCEVS03.sergas.local ([69.117.38.38]) by
	asscc1024s.sergas.local ([69.117.37.33]) with mapi;
	Sun, 4 Mar 2012 22:49:56 +0100
From: <Ricardo.Julio.Rodriguez.Fernandez@sergas.es>
To: <users@xwiki.org>
Date: Sun, 4 Mar 2012 22:49:54 +0100
Thread-Topic: [xwiki-users] User Class: translated "pretty name", email adress
Thread-Index: Acz6F11VG/aXGOJBQoe+FJNUHBBBkQANwXNs
Message-ID: <244BFA3AE9F83C4A8261E27189707237010296CF7052@ASSCCEVS03.sergas.local>
References: <4F538333.4070207@web.de>
In-Reply-To: <4F538333.4070207@web.de>
Accept-Language: en-US, es-ES
Content-Language: en-GB
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US, es-ES
MIME-Version: 1.0
Subject: Re: [xwiki-users] User Class: translated "pretty name", email adress
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi, Theresa!

Please, see below....
________________________________________
From: users-bounces@xwiki.org [users-bounces@xwiki.org] On Behalf Of Theres=
a Noisser [theresa.noisser@web.de]
Sent: 04 March 2012 15:58
To: users@xwiki.org
Subject: [xwiki-users] User Class: translated "pretty name", email adress

>> Hi and thanks for all the help you've given me so far.
>>
>> In a previous thread i asked how i can edit the profile pages and now
>> that i've tried that i have a problem with the translated titles of the
>> field names. I can easily change the "Pretty Name" for any field, but it
>> doesn't have any effect on the profile page. I wanted to change the
>> title of the "comment" field and have done so, but i use the german
>> translation of xwiki and therefore the title change had no effect and
>> still says "=DCber".

When a new user is created, at least working with XWiki Enterprise 2.4.3045=
1, no default language is assigned to him/her. Thus, language variable is n=
ot when you access to a given profile but from the general preferences of t=
he browser environment. At least here, when I create the translations for a=
 given user matching the used languages, all is working fine at least there=
 is no translation of a given string in a given language. In this case, Eng=
lish translation is shown as this is the first language in my preferences l=
ist. Could this explain the behavior you are getting there?

>>
>> A similar problem is the change of the Main.WebHome page, i can change
>> the title, but it still has the english original title.

I don't understand this. Is your wiki accessible from Internet? Could we ac=
cess this homepage to see what is happening? Thanks!

>>
>> And back to the profile page, how can i change the appearance of the
>> email adress? Everything after the @ ist displayed as "---", but i would
>> like to display them as name (at) part.company (.de), because in our
>> company there are 2 different parts which have different subdomains.

Please, check/edit XWiki.XWikiUserProfileSheet to get what you want. I'm st=
ill using running XWiki Enterprise 2.4.30451 here and probably a lot of imp=
rovements have been done in later releases, but I do think it is still this=
 page which controls the information shown for each user. Look for $doc.dis=
play('email') to find the concerned section.

HTH!

Ricardo

>>
>> Thanks in advance,
>> theresa.
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users

Nota: A informaci=F3n contida nesta mensaxe e os seus posibles documentos a=
dxuntos =E9 privada e confidencial e est=E1 dirixida =FAnicamente =F3 seu d=
estinatario/a. Se vostede non =E9 o/a destinatario/a orixinal desta mensaxe=
, por favor elim=EDnea. A distribuci=F3n ou copia desta mensaxe non est=E1 =
autorizada.

Nota: La informaci=F3n contenida en este mensaje y sus posibles documentos =
adjuntos es privada y confidencial y est=E1 dirigida =FAnicamente a su dest=
inatario/a. Si usted no es el/la destinatario/a original de este mensaje, p=
or favor elim=EDnelo. La distribuci=F3n o copia de este mensaje no est=E1 a=
utorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:37 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp83698igc;
        Sun, 4 Mar 2012 06:59:19 -0800 (PST)
Received: by 10.213.33.72 with SMTP id g8mr1951991ebd.8.1330873151571;
        Sun, 04 Mar 2012 06:59:11 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id r6si8919325eef.196.2012.03.04.06.59.10;
        Sun, 04 Mar 2012 06:59:11 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 783C96A64A34;
	Sun,  4 Mar 2012 14:55:05 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330872905; bh=lTIiQkKn429A1T/0aHIihQiMBVuzILB1GcmUT4d2CYg=;
	h=Message-ID:Date:From:MIME-Version:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Transfer-Encoding:Content-Type:Sender;
	b=g+yILH927rVfZ38XGbtE6M2YP5hP+EOS0sb5bM95eQfpMbmqfPhcaDB/j75k+ag+u
	 xhai7KVcA/YdrRjUxuBqKA7pGhKGKHpP6pxVMLe4TWUNFk2w9fahhRaqBkuYgapHaG
	 X0NWxnPsjgtvIZRxXu2mskW6UEkeEJ7P1Soe5bgQ=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZOb6Wfo0cR7q; Sun,  4 Mar 2012 14:55:05 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id DF8D86A64A35;
	Sun,  4 Mar 2012 14:55:03 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330872904; bh=lTIiQkKn429A1T/0aHIihQiMBVuzILB1GcmUT4d2CYg=;
	h=Message-ID:Date:From:MIME-Version:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Transfer-Encoding:Content-Type:Sender;
	b=BlE8geWwsUnHsKwKKuDfhzN1LKYuSsKSFH/jxBkUPIAVsx0U9AzBlGW4TvSmfInZZ
	 +hrAr8yrEZMn3CJrxxprGyqukDKBaEDpZroFgbIpm4cluScJiyQeQUF8yRLNeWkrjD
	 0ML30RwlJ1C1wnk56JZz8wNyLnojlJG+XYX0O+tQ=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 5A8C86A64A34
	for <users@xwiki.org>; Sun,  4 Mar 2012 14:55:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id 1iP6DLn-L+cX for <users@xwiki.org>;
	Sun,  4 Mar 2012 14:55:01 +0000 (UTC)
Received: from fmmailgate04.web.de (fmmailgate04.web.de [217.72.192.242])
	by borabora.xwiki.com (Postfix) with ESMTP id 3B0D96A646FC
	for <users@xwiki.org>; Sun,  4 Mar 2012 14:55:01 +0000 (UTC)
Received: from moweb001.kundenserver.de (moweb001.kundenserver.de
	[172.19.20.114])
	by fmmailgate04.web.de (Postfix) with ESMTP id 8C5D8731E773
	for <users@xwiki.org>; Sun,  4 Mar 2012 15:59:00 +0100 (CET)
Received: from [192.168.178.45] ([88.217.119.202]) by smtp.web.de (mrweb001)
	with ESMTPA (Nemesis) id 0MGRI8-1S8erj0v1E-00DOhy;
	Sun, 04 Mar 2012 15:58:59 +0100
Message-ID: <4F538333.4070207@web.de>
Date: Sun, 04 Mar 2012 15:58:59 +0100
From: Theresa Noisser <theresa.noisser@web.de>
User-Agent: Mozilla/5.0 (Windows NT 5.1;
	rv:10.0.2) Gecko/20120216 Thunderbird/10.0.2
MIME-Version: 1.0
To: users@xwiki.org
X-Provags-ID: V02:K0:MuswRfRoWAHXY0GdtrAQPdhUqZi9udp5ddNyVZS3qWT
	VeqBvEw/zSrl/wxOmzlDdJ+8SW9HPhO/kqaxSk4k7DnMPztfga
	TOF8pYZVlbEUIwYAf1Dq6PNDkhxhR2NXWAJaEl/CimbFQdyGCj
	v6MztaX1f2OhsEihoWAafCAjkXmxkb0IVg5fmDmbbDKOaw3Mju
	1VVPDVjrztSnuucwL4vUA==
Subject: [xwiki-users] User Class: translated "pretty name", email adress
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

SGkgYW5kIHRoYW5rcyBmb3IgYWxsIHRoZSBoZWxwIHlvdSd2ZSBnaXZlbiBtZSBzbyBmYXIuCgpJ
biBhIHByZXZpb3VzIHRocmVhZCBpIGFza2VkIGhvdyBpIGNhbiBlZGl0IHRoZSBwcm9maWxlIHBh
Z2VzIGFuZCBub3cgCnRoYXQgaSd2ZSB0cmllZCB0aGF0IGkgaGF2ZSBhIHByb2JsZW0gd2l0aCB0
aGUgdHJhbnNsYXRlZCB0aXRsZXMgb2YgdGhlIApmaWVsZCBuYW1lcy4gSSBjYW4gZWFzaWx5IGNo
YW5nZSB0aGUgIlByZXR0eSBOYW1lIiBmb3IgYW55IGZpZWxkLCBidXQgaXQgCmRvZXNuJ3QgaGF2
ZSBhbnkgZWZmZWN0IG9uIHRoZSBwcm9maWxlIHBhZ2UuIEkgd2FudGVkIHRvIGNoYW5nZSB0aGUg
CnRpdGxlIG9mIHRoZSAiY29tbWVudCIgZmllbGQgYW5kIGhhdmUgZG9uZSBzbywgYnV0IGkgdXNl
IHRoZSBnZXJtYW4gCnRyYW5zbGF0aW9uIG9mIHh3aWtpIGFuZCB0aGVyZWZvcmUgdGhlIHRpdGxl
IGNoYW5nZSBoYWQgbm8gZWZmZWN0IGFuZCAKc3RpbGwgc2F5cyAiw5xiZXIiLgoKQSBzaW1pbGFy
IHByb2JsZW0gaXMgdGhlIGNoYW5nZSBvZiB0aGUgTWFpbi5XZWJIb21lIHBhZ2UsIGkgY2FuIGNo
YW5nZSAKdGhlIHRpdGxlLCBidXQgaXQgc3RpbGwgaGFzIHRoZSBlbmdsaXNoIG9yaWdpbmFsIHRp
dGxlLgoKQW5kIGJhY2sgdG8gdGhlIHByb2ZpbGUgcGFnZSwgaG93IGNhbiBpIGNoYW5nZSB0aGUg
YXBwZWFyYW5jZSBvZiB0aGUgCmVtYWlsIGFkcmVzcz8gRXZlcnl0aGluZyBhZnRlciB0aGUgQCBp
c3QgZGlzcGxheWVkIGFzICItLS0iLCBidXQgaSB3b3VsZCAKbGlrZSB0byBkaXNwbGF5IHRoZW0g
YXMgbmFtZSAoYXQpIHBhcnQuY29tcGFueSAoLmRlKSwgYmVjYXVzZSBpbiBvdXIgCmNvbXBhbnkg
dGhlcmUgYXJlIDIgZGlmZmVyZW50IHBhcnRzIHdoaWNoIGhhdmUgZGlmZmVyZW50IHN1YmRvbWFp
bnMuCgpUaGFua3MgaW4gYWR2YW5jZSwKdGhlcmVzYS4KX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KdXNlcnMgbWFpbGluZyBsaXN0CnVzZXJzQHh3aWtpLm9y
ZwpodHRwOi8vbGlzdHMueHdpa2kub3JnL21haWxtYW4vbGlzdGluZm8vdXNlcnMK
From - Sun Jun 02 12:48:37 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp4262igc;
        Sun, 4 Mar 2012 23:37:16 -0800 (PST)
Received: by 10.14.47.8 with SMTP id s8mr8236658eeb.91.1330933028868;
        Sun, 04 Mar 2012 23:37:08 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id e49si12006908eea.27.2012.03.04.23.37.07;
        Sun, 04 Mar 2012 23:37:08 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 0D7D66A646FA;
	Mon,  5 Mar 2012 07:32:56 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330932776; bh=P/8DsOpYivMfLDli4U/2cm9s8mY3ZEDm4+BghgIC1PM=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=PI3yWKk0Ovt9x9llOWnteEDN68vb2tXHj3Fry/NJlmZPaUUza9XCc4LXTM7GN+LHO
	 1o+rQRwroriDEi43DFY22zjM53PDZcbtCDV2VZOiD3friFLdsuUq2Mef7cwSHICN97
	 V2p0Fc958oaTmRWfJ5uhBFFAffBAzBSeetqQoGTQ=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ppJ8vDIiUfUx; Mon,  5 Mar 2012 07:32:55 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id F08286A646FC;
	Mon,  5 Mar 2012 07:32:53 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330932774; bh=P/8DsOpYivMfLDli4U/2cm9s8mY3ZEDm4+BghgIC1PM=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=bZBemipXazt2Acz+Bu3F2TLoo/cEjVsdDPhaRsizzJd1NR8lGtTOFOJo6ziPzHeDM
	 TUR9f0ALlX0N0GKPZyTeRxcHzWI8qy7kdAbA1LBLRNjmgpu4Yb3/dM4a28w5GjGlCx
	 wiuxuyq8UqZqdzMzN2w75pEPrT9mNKua9KBriDaA=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id A7E5A6A646FA
	for <users@xwiki.org>; Mon,  5 Mar 2012 07:32:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id nJn-Eu62r1Ju for <users@xwiki.org>;
	Mon,  5 Mar 2012 07:32:34 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id E37676A644AE
	for <users@xwiki.org>; Mon,  5 Mar 2012 07:32:31 +0000 (UTC)
Received: by obbup3 with SMTP id up3so7251961obb.24
	for <users@xwiki.org>; Sun, 04 Mar 2012 23:36:38 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.174.101 as permitted sender) client-ip=10.182.174.101;
Received: from mr.google.com ([10.182.174.101])
	by 10.182.174.101 with SMTP id br5mr7977722obc.0.1330932998078
	(num_hops = 1); Sun, 04 Mar 2012 23:36:38 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.174.101 with SMTP id br5mr6968546obc.0.1330932997912; Sun,
	04 Mar 2012 23:36:37 -0800 (PST)
Received: by 10.182.172.66 with HTTP; Sun, 4 Mar 2012 23:36:37 -0800 (PST)
In-Reply-To: <4F536932.4020406@richard-rafalski.de>
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
	<4F4DE0BC.8030706@richard-rafalski.de>
	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
	<4F50F673.6080300@richard-rafalski.de>
	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>
	<CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>
	<CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>
	<4F515BC2.2080809@richard-rafalski.de>
	<CAPnKnLGjLdcNfMAT2Mn9Apjka9LbSRKhd8n0yWvYyFFGvOphBQ@mail.gmail.com>
	<CAPnKnLEVV08y8ns=h2fWGOrPKjF3tm+8z-EX0EBvF4NZ8aA5TA@mail.gmail.com>
	<4F536932.4020406@richard-rafalski.de>
Date: Mon, 5 Mar 2012 08:36:37 +0100
Message-ID: <CAPnKnLHah93YaC0=d0B-QqZTV4wpBN6dMA2uBoYJgtfMUget5g@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQnMqENM+ubPzFQrOuKbQVCSZvMGwT9NPJdc3qcrzBrLn2s4RjQd41Bi83ZdajU2Pq+F67xG
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Sun, Mar 4, 2012 at 2:08 PM, Richard Rafalski
<mail@richard-rafalski.de> wrote:
>
> Am 03.03.2012 13:07, schrieb Thomas Mortagne:
>> On Sat, Mar 3, 2012 at 11:56 AM, Thomas Mortagne
>> <thomas.mortagne@xwiki.com> wrote:
>>> On Sat, Mar 3, 2012 at 12:46 AM, Richard Rafalski
>>> <mail@richard-rafalski.de> wrote:
>>>>
>>>>
>>>> Am 02.03.2012 19:47, schrieb Thomas Mortagne:
>>>>> On Fri, Mar 2, 2012 at 7:36 PM, Thomas Mortagne
>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>> On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>> Hi Thomas,
>>>>>>>>
>>>>>>>> thank you for the last modifications on the deb packages.
>>>>>>>>
>>>>>>>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>>>>>>>> installation ran without probelms.
>>>>>>>> Great!
>>>>>>>>
>>>>>>>> But I'am sorry to inform you that after pointing the webbrowser to
>>>>>>>> http://xwikipg:8080/xwiki/ I got the well known
>>>>>>>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configurati=
on"
>>>>>>>> message.
>>>>>>>>
>>>>>>>> A quik look into /etc/xwiki showed
>>>>>>>> -rw-r----- 1 root root 8.1K Mar =A02 16:08 hibernate.cfg.xml
>>>>>>>>
>>>>>>>> Changing group from root to tomcat7 and restarting the tomcat7 ser=
vice
>>>>>>>> solved the problem.
>>>>>>>>
>>>>>>>> Maybe there is still a problem with setting group/rights on
>>>>>>>> hibernate.cfg.xml. I'am not shure.
>>>>>>>
>>>>>>> That's weird I was sure I changed the right for it to be 644, will
>>>>>>> checking this, maybe I modified it only in the mysql package. Should
>>>>>>> be quickly fixed.
>>>>>>
>>>>>> I did fixed it but forgot to backport it on 3.5 actually...
>>>>>
>>>>> Should be better now. Thanks for the report !
>>>> I think it is very dangerous to make hibernate.cfg.xml readable for
>>>> evryone. If you can not avoid it you should mention this fact in the
>>>> installation documentation.
>>>
>>> I can probably change the owner to tomcat and remove the readright for
>>> all in the xwiki-enterprise-tomcat*-pgsql and
>>> xwiki-enterprise-tomcat*-mysql (my problem was that the install script
>>> does not know the aplication server in xwiki-enterprise-pgsql-common
>>> and xwiki-enterprise-mysql-common).
>
> Yes I see.
>
>>
>> Done, the right of the hibernate conf file is now 640 and the whole
>> /etc/xwiki folder has the proper tomcat5/tomcat6/tomcat7 user as
>> owner.
>>
>
> While installing the new package xwiki-enterprise-tomcat7-pgsql I ran
> into this regression bug
>
> dpkg: error processing
> /var/cache/apt/archives/xwiki-enterprise-common_3.5_all.deb (--unpack):
> =A0name of conffile (starting `/etc/xwiki/web.xml') is too long (>1000
> characters)
> ...
> dpkg: error processing
> /var/cache/apt/archives/xwiki-enterprise-tomcat-common_3.5_all.deb
> (--unpack):
> =A0name of conffile (starting `/etc/xwiki/xwiki-tomcat.xml') is too long
> (>1000 characters)

I probably forgot to re-apply the ending new line (restarted from the
tag). Checking.

>
>> Does this sounds right to you ?
>
> From a technical point of view this should work.
>
> But what are you thinking about the idea to introduce a user and group
> xwiki, set the needed rights for the user xwiki and group xwiki in the
> packages xwiki-enterprise-common and xwiki-enterprise-<data base>-common
> (so the install script does not to have to know the application server)
> and let the package xwiki-enterprise-<application server>-common add the
> user of the application server to the group xwiki (e.g. addgroup tomcat7
> xwiki).
>
> Adding and removing users to or form the group xwiki instead of
> fiddleling around with file permissions will make the live of the system
> administrator more convenient (e.g. if one want to try out a different
> application server).
>
> But i think more important is the fact that a group based right
> management will lead to more flexibility and so to fewer future preblems.
>
> Your opinion?

Sounds like a good idea. Could you create a jira issue for it ? I will
not have time to work on it right now.

>
>>
>>>
>>>>
>>>> Richard
>>>>
>>>>>
>>>>>>
>>>>>>>
>>>>>>>>
>>>>>>>> Richard
>>>>>>>>
>>>>>>>> Am 29.02.2012 18:02, schrieb Thomas Mortagne:
>>>>>>>>> On Wed, Feb 29, 2012 at 10:35 AM, Thomas Mortagne
>>>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>>>> On Wed, Feb 29, 2012 at 9:24 AM, Richard Rafalski
>>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>>>
>>>>>>>>>>> Am 28.02.2012 20:10, schrieb Thomas Mortagne:
>>>>>>>>>>>> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
>>>>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>>>>> Hi,
>>>>>>>>>>>>>
>>>>>>>>>>>>> i have installed xwiki form the deb package
>>>>>>>>>>>>> xwiki-enterprise-tomcat-pgsql version 3.5. =A0Then tried to c=
ontact the
>>>>>>>>>>>>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg i=
s the
>>>>>>>>>>>>> hostname where xwiki is running). No page came up. I got this=
 error:
>>>>>>>>>>>>>
>>>>>>>>>>>>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configu=
ration
>>>>>>>>>>>>>
>>>>>>>>>>>>> What to do now?
>>>>>>>>>>>>
>>>>>>>>>>>> Looks like there is something wrong with the potgre packages a=
ctually,
>>>>>>>>>>>> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (i=
t's
>>>>>>>>>>>> supposed to contain the version of tomcat now). But that's not
>>>>>>>>>>>> related;
>>>>>>>>>>>
>>>>>>>>>>> Do you mean something like xwiki-enterprise-tomcat6-pgsql,
>>>>>>>>>>> xwiki-enterprise-tomcat7-pgsql ? That would be nice.
>>>>>>>>>>
>>>>>>>>>> Yes, see you can see how it's done for mysql but for postgre the=
y are
>>>>>>>>>> all there but with the same xwiki-enterprise-tomcat-pgsql name..=
. I
>>>>>>>>>> forgot to change it during the refactoring and I mostly test mys=
ql.
>>>>>>>>>> Sorry about that.
>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg=
.xml
>>>>>>>>>>>> template file ? I think there is an issue with the generation =
of the
>>>>>>>>>>>> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looki=
ng at
>>>>>>>>>>>> it.
>>>>>>>>>>>
>>>>>>>>>>> I tried a new install on a completely fresh debian system. The =
problem
>>>>>>>>>>> does not appear now. I think my old system was broken due to ol=
d failed
>>>>>>>>>>> installations. Or did you change something meanwhile?
>>>>>>>>>>
>>>>>>>>>> Nop I did not change anything but I actually suspect that the is=
sue is
>>>>>>>>>> not fresh install but that the purge is wrong. That's what I pla=
n to
>>>>>>>>>> look at, thanks for the confirmation.
>>>>>>>>>
>>>>>>>>> Should be OK now.
>>>>>>>>>
>>>>>>>>> The issue was indeed in the purge script. This mean that you might
>>>>>>>>> still have an issue with install, in that case you will need to do
>>>>>>>>> install/remove --purge/install to cleanup everything.
>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Richard
>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks for help
>>>>>>>>>>>>>
>>>>>>>>>>>>> Here is the full error text:
>>>>>>>>>>>>>
>>>>>>>>>>>>> HTTP Status 500 -
>>>>>>>>>>>>>
>>>>>>>>>>>>> type Exception report
>>>>>>>>>>>>>
>>>>>>>>>>>>> message
>>>>>>>>>>>>>
>>>>>>>>>>>>> description The server encountered an internal error () that =
prevented
>>>>>>>>>>>>> it from fulfilling this request.
>>>>>>>>>>>>>
>>>>>>>>>>>>> exception
>>>>>>>>>>>>>
>>>>>>>>>>>>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException:=
 Error
>>>>>>>>>>>>> number 3 in 0: Could not initialize main XWiki context
>>>>>>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while re=
ading
>>>>>>>>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], p=
arent =3D [name =3D
>>>>>>>>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type=
 =3D [WIKI], parent
>>>>>>>>>>>>> =3D [null]]]]
>>>>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] fo=
r hibernate
>>>>>>>>>>>>> configuration
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proc=
essException(RequestProcessor.java:535)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proc=
essActionPerform(RequestProcessor.java:433)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proc=
ess(RequestProcessor.java:236)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process=
(ActionServlet.java:1196)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(A=
ctionServlet.java:414)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSer=
vlet.java:617)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSer=
vlet.java:717)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(Action=
Filter.java:128)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilt=
er.doFilter(ConversionFilter.java:144)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doF=
ilter(XWikiDavFilter.java:68)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.S=
avedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.S=
etCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>>>> root cause
>>>>>>>>>>>>>
>>>>>>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not =
initialize
>>>>>>>>>>>>> main XWiki context
>>>>>>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while re=
ading
>>>>>>>>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], p=
arent =3D [name =3D
>>>>>>>>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type=
 =3D [WIKI], parent
>>>>>>>>>>>>> =3D [null]]]]
>>>>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] fo=
r hibernate
>>>>>>>>>>>>> configuration
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:41=
8)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAct=
ion.java:136)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAct=
ion.java:116)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proc=
essActionPerform(RequestProcessor.java:431)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proc=
ess(RequestProcessor.java:236)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process=
(ActionServlet.java:1196)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(A=
ctionServlet.java:414)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSer=
vlet.java:617)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSer=
vlet.java:717)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(Action=
Filter.java:128)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilt=
er.doFilter(ConversionFilter.java:144)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doF=
ilter(XWikiDavFilter.java:68)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.S=
avedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.S=
etCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>>>> root cause
>>>>>>>>>>>>>
>>>>>>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Excepti=
on while
>>>>>>>>>>>>> reading document [name =3D [XWikiPreferences], type =3D [DOCU=
MENT], parent =3D
>>>>>>>>>>>>> [name =3D [XWiki], type =3D [SPACE], parent =3D [name =3D [xw=
iki], type =3D
>>>>>>>>>>>>> [WIKI], parent =3D [null]]]]
>>>>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] fo=
r hibernate
>>>>>>>>>>>>> configuration
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXW=
ikiDoc(XWikiHibernateStore.java:856)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiD=
oc(XWikiCacheStore.java:283)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:142=
7)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:147=
0)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3=
104)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses=
(XWiki.java:821)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:40=
1)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAct=
ion.java:136)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAct=
ion.java:116)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proc=
essActionPerform(RequestProcessor.java:431)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proc=
ess(RequestProcessor.java:236)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process=
(ActionServlet.java:1196)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(A=
ctionServlet.java:414)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSer=
vlet.java:617)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSer=
vlet.java:717)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(Action=
Filter.java:128)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilt=
er.doFilter(ConversionFilter.java:144)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doF=
ilter(XWikiDavFilter.java:68)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.S=
avedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.S=
etCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>>>> root cause
>>>>>>>>>>>>>
>>>>>>>>>>>>> org.hibernate.HibernateException: Can't find
>>>>>>>>>>>>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernate=
SessionFactory$1.getConfigurationInputStream(DefaultHibernateSessionFactory=
.java:118)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.hibernate.cfg.Configuration.configure(Conf=
iguration.java:2157)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernate=
SessionFactory$1.configure(DefaultHibernateSessionFactory.java:80)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.in=
itHibernate(XWikiHibernateBaseStore.java:167)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.ch=
eckHibernate(XWikiHibernateBaseStore.java:550)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXW=
ikiDoc(XWikiHibernateStore.java:728)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiD=
oc(XWikiCacheStore.java:283)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:142=
7)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:147=
0)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3=
104)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses=
(XWiki.java:821)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:40=
1)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAct=
ion.java:136)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAct=
ion.java:116)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proc=
essActionPerform(RequestProcessor.java:431)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proc=
ess(RequestProcessor.java:236)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process=
(ActionServlet.java:1196)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(A=
ctionServlet.java:414)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSer=
vlet.java:617)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpSer=
vlet.java:717)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(Action=
Filter.java:128)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilt=
er.doFilter(ConversionFilter.java:144)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doF=
ilter(XWikiDavFilter.java:68)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.S=
avedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.S=
etCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>>>> note The full stack trace of the root cause is available in t=
he Apache
>>>>>>>>>>>>> Tomcat/6.0.35 logs.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Apache Tomcat/6.0.35
>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>> users mailing list
>>>>>>>>>>>>> users@xwiki.org
>>>>>>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>> _______________________________________________
>>>>>>>>>>> users mailing list
>>>>>>>>>>> users@xwiki.org
>>>>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>> Thomas Mortagne
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> users mailing list
>>>>>>>> users@xwiki.org
>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> Thomas Mortagne
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Thomas Mortagne
>>>>>
>>>>>
>>>>>
>>>> _______________________________________________
>>>> users mailing list
>>>> users@xwiki.org
>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>
>>>
>>>
>>> --
>>> Thomas Mortagne
>>
>>
>>
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:37 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp82003igc;
        Sun, 4 Mar 2012 05:06:42 -0800 (PST)
Received: by 10.14.184.3 with SMTP id r3mr7056654eem.109.1330866393511;
        Sun, 04 Mar 2012 05:06:33 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id w47si10298956een.138.2012.03.04.05.06.19;
        Sun, 04 Mar 2012 05:06:33 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 192696A64A2B;
	Sun,  4 Mar 2012 13:02:13 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330866133; bh=3p7iukaPvgvZQs8ZaFJtcX3Qdv8/y5lBgSUqki5hvWw=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=TQ9fX4wx2CusVfkkxMNnLHoMthWiK6EYaYMASjEwHb/4K1QgEGETclirYICx6Q9mT
	 jtEQYVYz+5T+yCYajDSCksFMBGPMF27R3Ee0/EqMmI/HZvIIl2JZYMK0So0IQn9sj4
	 NbCmz4mkhS4AV+6Gv4mXHHgXCruK7yU4VbuOBcyY=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id tx4ARV1Jvwju; Sun,  4 Mar 2012 13:02:12 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 0354F6A64A2D;
	Sun,  4 Mar 2012 13:02:10 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330866130; bh=3p7iukaPvgvZQs8ZaFJtcX3Qdv8/y5lBgSUqki5hvWw=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=jISh6ciOtOGXEmqZ/aUYp0nkUIlOUyD54oxIQaxHb3PDV/XsADrhKfQlkVy0/4PnF
	 YL5dgSHhz1omxwdi2nnM4Y4hIsGs/38k1y7aErFTKe8rQ8jE4+osE6bDBTf633D6s2
	 6CPcthHQGRb3J7epYJ3BgNdNVk5EHEpLk59t/dL4=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id ECE076A64A2B
	for <users@xwiki.org>; Sun,  4 Mar 2012 13:02:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id ZjPJDK9ktnMt for <users@xwiki.org>;
	Sun,  4 Mar 2012 13:01:56 +0000 (UTC)
Received: from mailout3.hostsharing.net (mailout3.hostsharing.net
	[176.9.242.54])
	by borabora.xwiki.com (Postfix) with ESMTPS id 62FCD6A6447B
	for <users@xwiki.org>; Sun,  4 Mar 2012 13:01:55 +0000 (UTC)
Received: from h06.hostsharing.net (h06.hostsharing.net [83.223.95.25])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailout3.hostsharing.net (Postfix) with ESMTPS id 0A1FA72515
	for <users@xwiki.org>; Sun,  4 Mar 2012 14:05:57 +0100 (CET)
Received: from kenny.bismarck.richard-rafalski.de (unknown [194.231.230.250])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by h06.hostsharing.net (Postfix) with ESMTPSA id 8D45F195013F8
	for <users@xwiki.org>; Sun,  4 Mar 2012 14:05:58 +0100 (CET)
Received: from localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTP id
	BF7A61211B
	for <users@xwiki.org>; Sun,  4 Mar 2012 14:05:57 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at richard-rafalski.de
Received: from kenny.bismarck.richard-rafalski.de ([127.0.0.1])
	by localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	(amavisd-new, port 10024)
	with ESMTP id 3quA8WGqKreF for <users@xwiki.org>;
	Sun,  4 Mar 2012 14:05:53 +0100 (CET)
Received: from [192.168.2.2] (sparky.bismarck.richard-rafalski.de
	[192.168.2.2]) (using TLSv1 with cipher AES256-SHA (256/256 bits))
	(No client certificate requested)
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTPSA id
	35A7E1210E
	for <users@xwiki.org>; Sun,  4 Mar 2012 14:05:53 +0100 (CET)
Message-ID: <4F536932.4020406@richard-rafalski.de>
Date: Sun, 04 Mar 2012 14:08:02 +0100
From: Richard Rafalski <mail@richard-rafalski.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US;
	rv:1.9.2.24) Gecko/20111114 Iceowl/1.0b2 Icedove/3.1.16
MIME-Version: 1.0
To: users@xwiki.org
References: <4F4D2037.6020105@richard-rafalski.de>	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>	<4F4DE0BC.8030706@richard-rafalski.de>	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>	<4F50F673.6080300@richard-rafalski.de>	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>	<CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>	<CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>	<4F515BC2.2080809@richard-rafalski.de>	<CAPnKnLGjLdcNfMAT2Mn9Apjka9LbSRKhd8n0yWvYyFFGvOphBQ@mail.gmail.com>
	<CAPnKnLEVV08y8ns=h2fWGOrPKjF3tm+8z-EX0EBvF4NZ8aA5TA@mail.gmail.com>
In-Reply-To: <CAPnKnLEVV08y8ns=h2fWGOrPKjF3tm+8z-EX0EBvF4NZ8aA5TA@mail.gmail.com>
X-Enigmail-Version: 1.1.2
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org


Am 03.03.2012 13:07, schrieb Thomas Mortagne:
> On Sat, Mar 3, 2012 at 11:56 AM, Thomas Mortagne
> <thomas.mortagne@xwiki.com> wrote:
>> On Sat, Mar 3, 2012 at 12:46 AM, Richard Rafalski
>> <mail@richard-rafalski.de> wrote:
>>>
>>>
>>> Am 02.03.2012 19:47, schrieb Thomas Mortagne:
>>>> On Fri, Mar 2, 2012 at 7:36 PM, Thomas Mortagne
>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>> On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>> Hi Thomas,
>>>>>>>
>>>>>>> thank you for the last modifications on the deb packages.
>>>>>>>
>>>>>>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>>>>>>> installation ran without probelms.
>>>>>>> Great!
>>>>>>>
>>>>>>> But I'am sorry to inform you that after pointing the webbrowser to
>>>>>>> http://xwikipg:8080/xwiki/ I got the well known
>>>>>>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration"
>>>>>>> message.
>>>>>>>
>>>>>>> A quik look into /etc/xwiki showed
>>>>>>> -rw-r----- 1 root root 8.1K Mar  2 16:08 hibernate.cfg.xml
>>>>>>>
>>>>>>> Changing group from root to tomcat7 and restarting the tomcat7 service
>>>>>>> solved the problem.
>>>>>>>
>>>>>>> Maybe there is still a problem with setting group/rights on
>>>>>>> hibernate.cfg.xml. I'am not shure.
>>>>>>
>>>>>> That's weird I was sure I changed the right for it to be 644, will
>>>>>> checking this, maybe I modified it only in the mysql package. Should
>>>>>> be quickly fixed.
>>>>>
>>>>> I did fixed it but forgot to backport it on 3.5 actually...
>>>>
>>>> Should be better now. Thanks for the report !
>>> I think it is very dangerous to make hibernate.cfg.xml readable for
>>> evryone. If you can not avoid it you should mention this fact in the
>>> installation documentation.
>>
>> I can probably change the owner to tomcat and remove the readright for
>> all in the xwiki-enterprise-tomcat*-pgsql and
>> xwiki-enterprise-tomcat*-mysql (my problem was that the install script
>> does not know the aplication server in xwiki-enterprise-pgsql-common
>> and xwiki-enterprise-mysql-common).

Yes I see.

> 
> Done, the right of the hibernate conf file is now 640 and the whole
> /etc/xwiki folder has the proper tomcat5/tomcat6/tomcat7 user as
> owner.
> 

While installing the new package xwiki-enterprise-tomcat7-pgsql I ran
into this regression bug

dpkg: error processing
/var/cache/apt/archives/xwiki-enterprise-common_3.5_all.deb (--unpack):
 name of conffile (starting `/etc/xwiki/web.xml') is too long (>1000
characters)
...
dpkg: error processing
/var/cache/apt/archives/xwiki-enterprise-tomcat-common_3.5_all.deb
(--unpack):
 name of conffile (starting `/etc/xwiki/xwiki-tomcat.xml') is too long
(>1000 characters)

> Does this sounds right to you ?

From a technical point of view this should work.

But what are you thinking about the idea to introduce a user and group
xwiki, set the needed rights for the user xwiki and group xwiki in the
packages xwiki-enterprise-common and xwiki-enterprise-<data base>-common
(so the install script does not to have to know the application server)
and let the package xwiki-enterprise-<application server>-common add the
user of the application server to the group xwiki (e.g. addgroup tomcat7
xwiki).

Adding and removing users to or form the group xwiki instead of
fiddleling around with file permissions will make the live of the system
administrator more convenient (e.g. if one want to try out a different
application server).

But i think more important is the fact that a group based right
management will lead to more flexibility and so to fewer future preblems.

Your opinion?

> 
>>
>>>
>>> Richard
>>>
>>>>
>>>>>
>>>>>>
>>>>>>>
>>>>>>> Richard
>>>>>>>
>>>>>>> Am 29.02.2012 18:02, schrieb Thomas Mortagne:
>>>>>>>> On Wed, Feb 29, 2012 at 10:35 AM, Thomas Mortagne
>>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>>> On Wed, Feb 29, 2012 at 9:24 AM, Richard Rafalski
>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>>
>>>>>>>>>> Am 28.02.2012 20:10, schrieb Thomas Mortagne:
>>>>>>>>>>> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
>>>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>>>> Hi,
>>>>>>>>>>>>
>>>>>>>>>>>> i have installed xwiki form the deb package
>>>>>>>>>>>> xwiki-enterprise-tomcat-pgsql version 3.5.  Then tried to contact the
>>>>>>>>>>>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is the
>>>>>>>>>>>> hostname where xwiki is running). No page came up. I got this error:
>>>>>>>>>>>>
>>>>>>>>>>>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>>>>>>>
>>>>>>>>>>>> What to do now?
>>>>>>>>>>>
>>>>>>>>>>> Looks like there is something wrong with the potgre packages actually,
>>>>>>>>>>> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
>>>>>>>>>>> supposed to contain the version of tomcat now). But that's not
>>>>>>>>>>> related;
>>>>>>>>>>
>>>>>>>>>> Do you mean something like xwiki-enterprise-tomcat6-pgsql,
>>>>>>>>>> xwiki-enterprise-tomcat7-pgsql ? That would be nice.
>>>>>>>>>
>>>>>>>>> Yes, see you can see how it's done for mysql but for postgre they are
>>>>>>>>> all there but with the same xwiki-enterprise-tomcat-pgsql name... I
>>>>>>>>> forgot to change it during the refactoring and I mostly test mysql.
>>>>>>>>> Sorry about that.
>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.xml
>>>>>>>>>>> template file ? I think there is an issue with the generation of the
>>>>>>>>>>> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking at
>>>>>>>>>>> it.
>>>>>>>>>>
>>>>>>>>>> I tried a new install on a completely fresh debian system. The problem
>>>>>>>>>> does not appear now. I think my old system was broken due to old failed
>>>>>>>>>> installations. Or did you change something meanwhile?
>>>>>>>>>
>>>>>>>>> Nop I did not change anything but I actually suspect that the issue is
>>>>>>>>> not fresh install but that the purge is wrong. That's what I plan to
>>>>>>>>> look at, thanks for the confirmation.
>>>>>>>>
>>>>>>>> Should be OK now.
>>>>>>>>
>>>>>>>> The issue was indeed in the purge script. This mean that you might
>>>>>>>> still have an issue with install, in that case you will need to do
>>>>>>>> install/remove --purge/install to cleanup everything.
>>>>>>>>
>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Richard
>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks for help
>>>>>>>>>>>>
>>>>>>>>>>>> Here is the full error text:
>>>>>>>>>>>>
>>>>>>>>>>>> HTTP Status 500 -
>>>>>>>>>>>>
>>>>>>>>>>>> type Exception report
>>>>>>>>>>>>
>>>>>>>>>>>> message
>>>>>>>>>>>>
>>>>>>>>>>>> description The server encountered an internal error () that prevented
>>>>>>>>>>>> it from fulfilling this request.
>>>>>>>>>>>>
>>>>>>>>>>>> exception
>>>>>>>>>>>>
>>>>>>>>>>>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error
>>>>>>>>>>>> number 3 in 0: Could not initialize main XWiki context
>>>>>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>>>>>>>>>> document [name = [XWikiPreferences], type = [DOCUMENT], parent = [name =
>>>>>>>>>>>> [XWiki], type = [SPACE], parent = [name = [xwiki], type = [WIKI], parent
>>>>>>>>>>>> = [null]]]]
>>>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>>>>>>>>>>>> configuration
>>>>>>>>>>>>        org.apache.struts.action.RequestProcessor.processException(RequestProcessor.java:535)
>>>>>>>>>>>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:433)
>>>>>>>>>>>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>>>>>>>>>>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>>>>>>>>>>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>>>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>>>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>>>>>>>>>>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>>>>>>>>>>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>>>>>>>>>>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>>>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>>> root cause
>>>>>>>>>>>>
>>>>>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initialize
>>>>>>>>>>>> main XWiki context
>>>>>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>>>>>>>>>> document [name = [XWikiPreferences], type = [DOCUMENT], parent = [name =
>>>>>>>>>>>> [XWiki], type = [SPACE], parent = [name = [xwiki], type = [WIKI], parent
>>>>>>>>>>>> = [null]]]]
>>>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>>>>>>>>>>>> configuration
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
>>>>>>>>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
>>>>>>>>>>>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
>>>>>>>>>>>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>>>>>>>>>>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>>>>>>>>>>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>>>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>>>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>>>>>>>>>>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>>>>>>>>>>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>>>>>>>>>>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>>>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>>> root cause
>>>>>>>>>>>>
>>>>>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception while
>>>>>>>>>>>> reading document [name = [XWikiPreferences], type = [DOCUMENT], parent =
>>>>>>>>>>>> [name = [XWiki], type = [SPACE], parent = [name = [xwiki], type =
>>>>>>>>>>>> [WIKI], parent = [null]]]]
>>>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>>>>>>>>>>>> configuration
>>>>>>>>>>>>        com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWikiHibernateStore.java:856)
>>>>>>>>>>>>        com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCacheStore.java:283)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java:821)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
>>>>>>>>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
>>>>>>>>>>>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
>>>>>>>>>>>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>>>>>>>>>>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>>>>>>>>>>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>>>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>>>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>>>>>>>>>>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>>>>>>>>>>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>>>>>>>>>>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>>>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>>> root cause
>>>>>>>>>>>>
>>>>>>>>>>>> org.hibernate.HibernateException: Can't find
>>>>>>>>>>>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>>>>>>>        com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFactory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.java:118)
>>>>>>>>>>>>        org.hibernate.cfg.Configuration.configure(Configuration.java:2157)
>>>>>>>>>>>>        com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFactory$1.configure(DefaultHibernateSessionFactory.java:80)
>>>>>>>>>>>>        com.xpn.xwiki.store.XWikiHibernateBaseStore.initHibernate(XWikiHibernateBaseStore.java:167)
>>>>>>>>>>>>        com.xpn.xwiki.store.XWikiHibernateBaseStore.checkHibernate(XWikiHibernateBaseStore.java:550)
>>>>>>>>>>>>        com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWikiHibernateStore.java:728)
>>>>>>>>>>>>        com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCacheStore.java:283)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java:821)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>>>>>>>>        com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
>>>>>>>>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
>>>>>>>>>>>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
>>>>>>>>>>>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>>>>>>>>>>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>>>>>>>>>>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>>>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>>>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>>>>>>>>>>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>>>>>>>>>>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>>>>>>>>>>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>>>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>>> note The full stack trace of the root cause is available in the Apache
>>>>>>>>>>>> Tomcat/6.0.35 logs.
>>>>>>>>>>>>
>>>>>>>>>>>> Apache Tomcat/6.0.35
>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>> users mailing list
>>>>>>>>>>>> users@xwiki.org
>>>>>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>> _______________________________________________
>>>>>>>>>> users mailing list
>>>>>>>>>> users@xwiki.org
>>>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>> Thomas Mortagne
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> users mailing list
>>>>>>> users@xwiki.org
>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Thomas Mortagne
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Thomas Mortagne
>>>>
>>>>
>>>>
>>> _______________________________________________
>>> users mailing list
>>> users@xwiki.org
>>> http://lists.xwiki.org/mailman/listinfo/users
>>
>>
>>
>> --
>> Thomas Mortagne
> 
> 
> 
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:37 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp61433igc;
        Sat, 3 Mar 2012 04:08:16 -0800 (PST)
Received: by 10.14.188.144 with SMTP id a16mr6124059een.38.1330776488403;
        Sat, 03 Mar 2012 04:08:08 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id e5si7906418eeb.189.2012.03.03.04.08.07;
        Sat, 03 Mar 2012 04:08:08 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 534776A64A29;
	Sat,  3 Mar 2012 12:04:09 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330776249; bh=u61SClAnr8yRRGOqxf290jQKde8tsmGY5R44CFRUhD8=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=ggzmrDb+2vDiixJcvy5EHOxukCV7MAcDK4K97WhWgSgjhaiWtwk2pVoO3QtSokMj7
	 Lugh3Cd180P/MHe4j6uFehe/cXxtXl4WzA9PMW6SHVcXo3rsjYhjBXr4emkGcPj+U9
	 uPza1xB8EIpfJW3eZNBPmOEuENdWLvfrV1lqPzNY=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id lOdT+BMyVgga; Sat,  3 Mar 2012 12:04:09 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id BF3536A64A2A;
	Sat,  3 Mar 2012 12:04:04 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330776244; bh=u61SClAnr8yRRGOqxf290jQKde8tsmGY5R44CFRUhD8=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=ZaLtS0etfoge6Zogkq+I6olKU2zqQg4ZBx0t347Esa4g4dGrABPDEpP9QPsmrDTuK
	 xmlwqNVBHvttGbBDZ8usEQxCaBeeTNGU18bZubYL6nhcoZahzCMjTshXze0ed3ft8U
	 L7VX0g12QUW4K+wsZk2GM+YMlDFqdixduCjpnERw=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 12BE76A64A29
	for <users@xwiki.org>; Sat,  3 Mar 2012 12:04:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id THQVZuLxrlUT for <users@xwiki.org>;
	Sat,  3 Mar 2012 12:04:00 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 736F96A646EE
	for <users@xwiki.org>; Sat,  3 Mar 2012 12:03:59 +0000 (UTC)
Received: by obbup3 with SMTP id up3so5229754obb.24
	for <users@xwiki.org>; Sat, 03 Mar 2012 04:07:53 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.41.6 as permitted sender) client-ip=10.182.41.6;
Received: from mr.google.com ([10.182.41.6])
	by 10.182.41.6 with SMTP id b6mr5524250obl.10.1330776473570 (num_hops =
	1); Sat, 03 Mar 2012 04:07:53 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.41.6 with SMTP id b6mr4794392obl.10.1330776472980; Sat, 03
	Mar 2012 04:07:52 -0800 (PST)
Received: by 10.182.172.66 with HTTP; Sat, 3 Mar 2012 04:07:52 -0800 (PST)
In-Reply-To: <CAPnKnLGjLdcNfMAT2Mn9Apjka9LbSRKhd8n0yWvYyFFGvOphBQ@mail.gmail.com>
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
	<4F4DE0BC.8030706@richard-rafalski.de>
	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
	<4F50F673.6080300@richard-rafalski.de>
	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>
	<CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>
	<CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>
	<4F515BC2.2080809@richard-rafalski.de>
	<CAPnKnLGjLdcNfMAT2Mn9Apjka9LbSRKhd8n0yWvYyFFGvOphBQ@mail.gmail.com>
Date: Sat, 3 Mar 2012 13:07:52 +0100
Message-ID: <CAPnKnLEVV08y8ns=h2fWGOrPKjF3tm+8z-EX0EBvF4NZ8aA5TA@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQllkOu5UZXA8Vts3sV5pAd4124vFp7UaVhAjhjG63h51j9WbvRnK9r5zUwCh94WErfl19k6
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Sat, Mar 3, 2012 at 11:56 AM, Thomas Mortagne
<thomas.mortagne@xwiki.com> wrote:
> On Sat, Mar 3, 2012 at 12:46 AM, Richard Rafalski
> <mail@richard-rafalski.de> wrote:
>>
>>
>> Am 02.03.2012 19:47, schrieb Thomas Mortagne:
>>> On Fri, Mar 2, 2012 at 7:36 PM, Thomas Mortagne
>>> <thomas.mortagne@xwiki.com> wrote:
>>>> On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
>>>>> <mail@richard-rafalski.de> wrote:
>>>>>> Hi Thomas,
>>>>>>
>>>>>> thank you for the last modifications on the deb packages.
>>>>>>
>>>>>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>>>>>> installation ran without probelms.
>>>>>> Great!
>>>>>>
>>>>>> But I'am sorry to inform you that after pointing the webbrowser to
>>>>>> http://xwikipg:8080/xwiki/ I got the well known
>>>>>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration"
>>>>>> message.
>>>>>>
>>>>>> A quik look into /etc/xwiki showed
>>>>>> -rw-r----- 1 root root 8.1K Mar =A02 16:08 hibernate.cfg.xml
>>>>>>
>>>>>> Changing group from root to tomcat7 and restarting the tomcat7 servi=
ce
>>>>>> solved the problem.
>>>>>>
>>>>>> Maybe there is still a problem with setting group/rights on
>>>>>> hibernate.cfg.xml. I'am not shure.
>>>>>
>>>>> That's weird I was sure I changed the right for it to be 644, will
>>>>> checking this, maybe I modified it only in the mysql package. Should
>>>>> be quickly fixed.
>>>>
>>>> I did fixed it but forgot to backport it on 3.5 actually...
>>>
>>> Should be better now. Thanks for the report !
>> I think it is very dangerous to make hibernate.cfg.xml readable for
>> evryone. If you can not avoid it you should mention this fact in the
>> installation documentation.
>
> I can probably change the owner to tomcat and remove the readright for
> all in the xwiki-enterprise-tomcat*-pgsql and
> xwiki-enterprise-tomcat*-mysql (my problem was that the install script
> does not know the aplication server in xwiki-enterprise-pgsql-common
> and xwiki-enterprise-mysql-common).

Done, the right of the hibernate conf file is now 640 and the whole
/etc/xwiki folder has the proper tomcat5/tomcat6/tomcat7 user as
owner.

Does this sounds right to you ?

>
>>
>> Richard
>>
>>>
>>>>
>>>>>
>>>>>>
>>>>>> Richard
>>>>>>
>>>>>> Am 29.02.2012 18:02, schrieb Thomas Mortagne:
>>>>>>> On Wed, Feb 29, 2012 at 10:35 AM, Thomas Mortagne
>>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>>> On Wed, Feb 29, 2012 at 9:24 AM, Richard Rafalski
>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>
>>>>>>>>> Am 28.02.2012 20:10, schrieb Thomas Mortagne:
>>>>>>>>>> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
>>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>>> Hi,
>>>>>>>>>>>
>>>>>>>>>>> i have installed xwiki form the deb package
>>>>>>>>>>> xwiki-enterprise-tomcat-pgsql version 3.5. =A0Then tried to con=
tact the
>>>>>>>>>>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is =
the
>>>>>>>>>>> hostname where xwiki is running). No page came up. I got this e=
rror:
>>>>>>>>>>>
>>>>>>>>>>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configura=
tion
>>>>>>>>>>>
>>>>>>>>>>> What to do now?
>>>>>>>>>>
>>>>>>>>>> Looks like there is something wrong with the potgre packages act=
ually,
>>>>>>>>>> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
>>>>>>>>>> supposed to contain the version of tomcat now). But that's not
>>>>>>>>>> related;
>>>>>>>>>
>>>>>>>>> Do you mean something like xwiki-enterprise-tomcat6-pgsql,
>>>>>>>>> xwiki-enterprise-tomcat7-pgsql ? That would be nice.
>>>>>>>>
>>>>>>>> Yes, see you can see how it's done for mysql but for postgre they =
are
>>>>>>>> all there but with the same xwiki-enterprise-tomcat-pgsql name... I
>>>>>>>> forgot to change it during the refactoring and I mostly test mysql.
>>>>>>>> Sorry about that.
>>>>>>>>
>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.x=
ml
>>>>>>>>>> template file ? I think there is an issue with the generation of=
 the
>>>>>>>>>> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking=
 at
>>>>>>>>>> it.
>>>>>>>>>
>>>>>>>>> I tried a new install on a completely fresh debian system. The pr=
oblem
>>>>>>>>> does not appear now. I think my old system was broken due to old =
failed
>>>>>>>>> installations. Or did you change something meanwhile?
>>>>>>>>
>>>>>>>> Nop I did not change anything but I actually suspect that the issu=
e is
>>>>>>>> not fresh install but that the purge is wrong. That's what I plan =
to
>>>>>>>> look at, thanks for the confirmation.
>>>>>>>
>>>>>>> Should be OK now.
>>>>>>>
>>>>>>> The issue was indeed in the purge script. This mean that you might
>>>>>>> still have an issue with install, in that case you will need to do
>>>>>>> install/remove --purge/install to cleanup everything.
>>>>>>>
>>>>>>>>
>>>>>>>>>
>>>>>>>>> Richard
>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Thanks for help
>>>>>>>>>>>
>>>>>>>>>>> Here is the full error text:
>>>>>>>>>>>
>>>>>>>>>>> HTTP Status 500 -
>>>>>>>>>>>
>>>>>>>>>>> type Exception report
>>>>>>>>>>>
>>>>>>>>>>> message
>>>>>>>>>>>
>>>>>>>>>>> description The server encountered an internal error () that pr=
evented
>>>>>>>>>>> it from fulfilling this request.
>>>>>>>>>>>
>>>>>>>>>>> exception
>>>>>>>>>>>
>>>>>>>>>>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: E=
rror
>>>>>>>>>>> number 3 in 0: Could not initialize main XWiki context
>>>>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while read=
ing
>>>>>>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], par=
ent =3D [name =3D
>>>>>>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =
=3D [WIKI], parent
>>>>>>>>>>> =3D [null]]]]
>>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for =
hibernate
>>>>>>>>>>> configuration
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proces=
sException(RequestProcessor.java:535)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proces=
sActionPerform(RequestProcessor.java:433)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proces=
s(RequestProcessor.java:236)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(A=
ctionServlet.java:1196)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(Act=
ionServlet.java:414)
>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServl=
et.java:617)
>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServl=
et.java:717)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFi=
lter.java:128)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter=
.doFilter(ConversionFilter.java:144)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFil=
ter(XWikiDavFilter.java:68)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.Sav=
edRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.Set=
CharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>> root cause
>>>>>>>>>>>
>>>>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not in=
itialize
>>>>>>>>>>> main XWiki context
>>>>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while read=
ing
>>>>>>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], par=
ent =3D [name =3D
>>>>>>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =
=3D [WIKI], parent
>>>>>>>>>>> =3D [null]]]]
>>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for =
hibernate
>>>>>>>>>>> configuration
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiActio=
n.java:136)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiActio=
n.java:116)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proces=
sActionPerform(RequestProcessor.java:431)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proces=
s(RequestProcessor.java:236)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(A=
ctionServlet.java:1196)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(Act=
ionServlet.java:414)
>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServl=
et.java:617)
>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServl=
et.java:717)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFi=
lter.java:128)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter=
.doFilter(ConversionFilter.java:144)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFil=
ter(XWikiDavFilter.java:68)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.Sav=
edRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.Set=
CharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>> root cause
>>>>>>>>>>>
>>>>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception=
 while
>>>>>>>>>>> reading document [name =3D [XWikiPreferences], type =3D [DOCUME=
NT], parent =3D
>>>>>>>>>>> [name =3D [XWiki], type =3D [SPACE], parent =3D [name =3D [xwik=
i], type =3D
>>>>>>>>>>> [WIKI], parent =3D [null]]]]
>>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for =
hibernate
>>>>>>>>>>> configuration
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWik=
iDoc(XWikiHibernateStore.java:856)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc=
(XWikiCacheStore.java:283)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:310=
4)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(X=
Wiki.java:821)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiActio=
n.java:136)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiActio=
n.java:116)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proces=
sActionPerform(RequestProcessor.java:431)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proces=
s(RequestProcessor.java:236)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(A=
ctionServlet.java:1196)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(Act=
ionServlet.java:414)
>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServl=
et.java:617)
>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServl=
et.java:717)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFi=
lter.java:128)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter=
.doFilter(ConversionFilter.java:144)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFil=
ter(XWikiDavFilter.java:68)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.Sav=
edRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.Set=
CharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>> root cause
>>>>>>>>>>>
>>>>>>>>>>> org.hibernate.HibernateException: Can't find
>>>>>>>>>>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSe=
ssionFactory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.j=
ava:118)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.hibernate.cfg.Configuration.configure(Config=
uration.java:2157)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSe=
ssionFactory$1.configure(DefaultHibernateSessionFactory.java:80)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.init=
Hibernate(XWikiHibernateBaseStore.java:167)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.chec=
kHibernate(XWikiHibernateBaseStore.java:550)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWik=
iDoc(XWikiHibernateStore.java:728)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc=
(XWikiCacheStore.java:283)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:310=
4)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(X=
Wiki.java:821)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiActio=
n.java:136)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiActio=
n.java:116)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proces=
sActionPerform(RequestProcessor.java:431)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.proces=
s(RequestProcessor.java:236)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(A=
ctionServlet.java:1196)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(Act=
ionServlet.java:414)
>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServl=
et.java:617)
>>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServl=
et.java:717)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFi=
lter.java:128)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter=
.doFilter(ConversionFilter.java:144)
>>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFil=
ter(XWikiDavFilter.java:68)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.Sav=
edRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.Set=
CharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>>> note The full stack trace of the root cause is available in the=
 Apache
>>>>>>>>>>> Tomcat/6.0.35 logs.
>>>>>>>>>>>
>>>>>>>>>>> Apache Tomcat/6.0.35
>>>>>>>>>>> _______________________________________________
>>>>>>>>>>> users mailing list
>>>>>>>>>>> users@xwiki.org
>>>>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>> users mailing list
>>>>>>>>> users@xwiki.org
>>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> Thomas Mortagne
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>> _______________________________________________
>>>>>> users mailing list
>>>>>> users@xwiki.org
>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Thomas Mortagne
>>>>
>>>>
>>>>
>>>> --
>>>> Thomas Mortagne
>>>
>>>
>>>
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
>
>
>
> --
> Thomas Mortagne



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:37 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp47855igc;
        Fri, 2 Mar 2012 15:44:34 -0800 (PST)
Received: by 10.14.39.145 with SMTP id d17mr4701789eeb.86.1330731865404;
        Fri, 02 Mar 2012 15:44:25 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id b15si6674741eec.149.2012.03.02.15.44.23;
        Fri, 02 Mar 2012 15:44:25 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 4EA2C6A64700;
	Fri,  2 Mar 2012 23:40:29 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330731629; bh=lr2j+o4F/6gb78mAlkJCxbqun+fLBIHQ829/7ADKgyw=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=n7ewADuoxB1SvoA7ecHrMezbh1QAxnbHSI8d4Btfro0zh9k7vS1bbyzbSvpgPQQ8j
	 iELbK4x1vMUw/Ojuqc2UA8R3ZmcMkfav4uPj3mutJGKaZdJhzVKyI2w3ig30Wiudou
	 plyHlw2pwXihdXj941pJA794QjRHVDoI5x3PNlWM=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id R6TBcw9DX5JU; Fri,  2 Mar 2012 23:40:29 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 7CB3F6A64702;
	Fri,  2 Mar 2012 23:40:26 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330731626; bh=lr2j+o4F/6gb78mAlkJCxbqun+fLBIHQ829/7ADKgyw=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=aKlIwq2DUXt6XraZ293LIXKXSatRznwaZ+qIHiRnlC4NXdgVQG6Ti7dXAFtAKUwWl
	 +vG5hjHkHebGxkqP6oEskvf4KSTwc591lYG6ckRljBv7PhCQBj/xWudb1O7gyj7QJC
	 VmBIpC3MpsUqX8Y00PJICa6H2+lomoRcrwjKmGY4=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id AD7B66A64700
	for <users@xwiki.org>; Fri,  2 Mar 2012 23:40:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id UWUHBhtPaq2a for <users@xwiki.org>;
	Fri,  2 Mar 2012 23:40:22 +0000 (UTC)
Received: from mailout3.hostsharing.net (mailout3.hostsharing.net
	[176.9.242.54])
	by borabora.xwiki.com (Postfix) with ESMTPS id 02C7F6A644AE
	for <users@xwiki.org>; Fri,  2 Mar 2012 23:40:22 +0000 (UTC)
Received: from h06.hostsharing.net (h06.hostsharing.net [83.223.95.25])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailout3.hostsharing.net (Postfix) with ESMTPS id C1A9672502
	for <users@xwiki.org>; Sat,  3 Mar 2012 00:44:13 +0100 (CET)
Received: from kenny.bismarck.richard-rafalski.de (unknown [194.231.230.250])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by h06.hostsharing.net (Postfix) with ESMTPSA id 31B7E180233A0
	for <users@xwiki.org>; Sat,  3 Mar 2012 00:44:15 +0100 (CET)
Received: from localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTP id
	33A3B120F7
	for <users@xwiki.org>; Sat,  3 Mar 2012 00:44:14 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at richard-rafalski.de
Received: from kenny.bismarck.richard-rafalski.de ([127.0.0.1])
	by localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	(amavisd-new, port 10024)
	with ESMTP id PYmxCp-lNSSI for <users@xwiki.org>;
	Sat,  3 Mar 2012 00:44:04 +0100 (CET)
Received: from [192.168.2.2] (sparky.bismarck.richard-rafalski.de
	[192.168.2.2]) (using TLSv1 with cipher AES256-SHA (256/256 bits))
	(No client certificate requested)
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTPSA id
	B8C8A120F6
	for <users@xwiki.org>; Sat,  3 Mar 2012 00:44:03 +0100 (CET)
Message-ID: <4F515BC2.2080809@richard-rafalski.de>
Date: Sat, 03 Mar 2012 00:46:10 +0100
From: Richard Rafalski <mail@richard-rafalski.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US;
	rv:1.9.2.24) Gecko/20111114 Iceowl/1.0b2 Icedove/3.1.16
MIME-Version: 1.0
To: users@xwiki.org
References: <4F4D2037.6020105@richard-rafalski.de>	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>	<4F4DE0BC.8030706@richard-rafalski.de>	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>	<4F50F673.6080300@richard-rafalski.de>	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>	<CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>
	<CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>
In-Reply-To: <CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>
X-Enigmail-Version: 1.1.2
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org



Am 02.03.2012 19:47, schrieb Thomas Mortagne:
> On Fri, Mar 2, 2012 at 7:36 PM, Thomas Mortagne
> <thomas.mortagne@xwiki.com> wrote:
>> On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
>> <thomas.mortagne@xwiki.com> wrote:
>>> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
>>> <mail@richard-rafalski.de> wrote:
>>>> Hi Thomas,
>>>>
>>>> thank you for the last modifications on the deb packages.
>>>>
>>>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>>>> installation ran without probelms.
>>>> Great!
>>>>
>>>> But I'am sorry to inform you that after pointing the webbrowser to
>>>> http://xwikipg:8080/xwiki/ I got the well known
>>>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration"
>>>> message.
>>>>
>>>> A quik look into /etc/xwiki showed
>>>> -rw-r----- 1 root root 8.1K Mar  2 16:08 hibernate.cfg.xml
>>>>
>>>> Changing group from root to tomcat7 and restarting the tomcat7 service
>>>> solved the problem.
>>>>
>>>> Maybe there is still a problem with setting group/rights on
>>>> hibernate.cfg.xml. I'am not shure.
>>>
>>> That's weird I was sure I changed the right for it to be 644, will
>>> checking this, maybe I modified it only in the mysql package. Should
>>> be quickly fixed.
>>
>> I did fixed it but forgot to backport it on 3.5 actually...
> 
> Should be better now. Thanks for the report !
I think it is very dangerous to make hibernate.cfg.xml readable for
evryone. If you can not avoid it you should mention this fact in the
installation documentation.

Richard

> 
>>
>>>
>>>>
>>>> Richard
>>>>
>>>> Am 29.02.2012 18:02, schrieb Thomas Mortagne:
>>>>> On Wed, Feb 29, 2012 at 10:35 AM, Thomas Mortagne
>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>> On Wed, Feb 29, 2012 at 9:24 AM, Richard Rafalski
>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>
>>>>>>> Am 28.02.2012 20:10, schrieb Thomas Mortagne:
>>>>>>>> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>> Hi,
>>>>>>>>>
>>>>>>>>> i have installed xwiki form the deb package
>>>>>>>>> xwiki-enterprise-tomcat-pgsql version 3.5.  Then tried to contact the
>>>>>>>>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is the
>>>>>>>>> hostname where xwiki is running). No page came up. I got this error:
>>>>>>>>>
>>>>>>>>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>>>>
>>>>>>>>> What to do now?
>>>>>>>>
>>>>>>>> Looks like there is something wrong with the potgre packages actually,
>>>>>>>> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
>>>>>>>> supposed to contain the version of tomcat now). But that's not
>>>>>>>> related;
>>>>>>>
>>>>>>> Do you mean something like xwiki-enterprise-tomcat6-pgsql,
>>>>>>> xwiki-enterprise-tomcat7-pgsql ? That would be nice.
>>>>>>
>>>>>> Yes, see you can see how it's done for mysql but for postgre they are
>>>>>> all there but with the same xwiki-enterprise-tomcat-pgsql name... I
>>>>>> forgot to change it during the refactoring and I mostly test mysql.
>>>>>> Sorry about that.
>>>>>>
>>>>>>>
>>>>>>>>
>>>>>>>> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.xml
>>>>>>>> template file ? I think there is an issue with the generation of the
>>>>>>>> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking at
>>>>>>>> it.
>>>>>>>
>>>>>>> I tried a new install on a completely fresh debian system. The problem
>>>>>>> does not appear now. I think my old system was broken due to old failed
>>>>>>> installations. Or did you change something meanwhile?
>>>>>>
>>>>>> Nop I did not change anything but I actually suspect that the issue is
>>>>>> not fresh install but that the purge is wrong. That's what I plan to
>>>>>> look at, thanks for the confirmation.
>>>>>
>>>>> Should be OK now.
>>>>>
>>>>> The issue was indeed in the purge script. This mean that you might
>>>>> still have an issue with install, in that case you will need to do
>>>>> install/remove --purge/install to cleanup everything.
>>>>>
>>>>>>
>>>>>>>
>>>>>>> Richard
>>>>>>>
>>>>>>>>
>>>>>>>>>
>>>>>>>>> Thanks for help
>>>>>>>>>
>>>>>>>>> Here is the full error text:
>>>>>>>>>
>>>>>>>>> HTTP Status 500 -
>>>>>>>>>
>>>>>>>>> type Exception report
>>>>>>>>>
>>>>>>>>> message
>>>>>>>>>
>>>>>>>>> description The server encountered an internal error () that prevented
>>>>>>>>> it from fulfilling this request.
>>>>>>>>>
>>>>>>>>> exception
>>>>>>>>>
>>>>>>>>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error
>>>>>>>>> number 3 in 0: Could not initialize main XWiki context
>>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>>>>>>> document [name = [XWikiPreferences], type = [DOCUMENT], parent = [name =
>>>>>>>>> [XWiki], type = [SPACE], parent = [name = [xwiki], type = [WIKI], parent
>>>>>>>>> = [null]]]]
>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>>>>>>>>> configuration
>>>>>>>>>        org.apache.struts.action.RequestProcessor.processException(RequestProcessor.java:535)
>>>>>>>>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:433)
>>>>>>>>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>>>>>>>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>>>>>>>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>>>>>>>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>>>>>>>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>>>>>>>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>> root cause
>>>>>>>>>
>>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initialize
>>>>>>>>> main XWiki context
>>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>>>>>>> document [name = [XWikiPreferences], type = [DOCUMENT], parent = [name =
>>>>>>>>> [XWiki], type = [SPACE], parent = [name = [xwiki], type = [WIKI], parent
>>>>>>>>> = [null]]]]
>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>>>>>>>>> configuration
>>>>>>>>>        com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
>>>>>>>>>        com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
>>>>>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
>>>>>>>>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
>>>>>>>>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>>>>>>>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>>>>>>>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>>>>>>>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>>>>>>>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>>>>>>>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>> root cause
>>>>>>>>>
>>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception while
>>>>>>>>> reading document [name = [XWikiPreferences], type = [DOCUMENT], parent =
>>>>>>>>> [name = [XWiki], type = [SPACE], parent = [name = [xwiki], type =
>>>>>>>>> [WIKI], parent = [null]]]]
>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>>>>>>>>> configuration
>>>>>>>>>        com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWikiHibernateStore.java:856)
>>>>>>>>>        com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCacheStore.java:283)
>>>>>>>>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>>>>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>>>>>        com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>>>>>        com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java:821)
>>>>>>>>>        com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>>>        com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>>>        com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>>>>>        com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
>>>>>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
>>>>>>>>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
>>>>>>>>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>>>>>>>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>>>>>>>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>>>>>>>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>>>>>>>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>>>>>>>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>> root cause
>>>>>>>>>
>>>>>>>>> org.hibernate.HibernateException: Can't find
>>>>>>>>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>>>>        com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFactory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.java:118)
>>>>>>>>>        org.hibernate.cfg.Configuration.configure(Configuration.java:2157)
>>>>>>>>>        com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFactory$1.configure(DefaultHibernateSessionFactory.java:80)
>>>>>>>>>        com.xpn.xwiki.store.XWikiHibernateBaseStore.initHibernate(XWikiHibernateBaseStore.java:167)
>>>>>>>>>        com.xpn.xwiki.store.XWikiHibernateBaseStore.checkHibernate(XWikiHibernateBaseStore.java:550)
>>>>>>>>>        com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWikiHibernateStore.java:728)
>>>>>>>>>        com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCacheStore.java:283)
>>>>>>>>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>>>>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>>>>>        com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>>>>>        com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java:821)
>>>>>>>>>        com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>>>        com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>>>        com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>>>>>        com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
>>>>>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
>>>>>>>>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
>>>>>>>>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>>>>>>>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>>>>>>>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>>>>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>>>>>>>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>>>>>>>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>>>>>>>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>> note The full stack trace of the root cause is available in the Apache
>>>>>>>>> Tomcat/6.0.35 logs.
>>>>>>>>>
>>>>>>>>> Apache Tomcat/6.0.35
>>>>>>>>> _______________________________________________
>>>>>>>>> users mailing list
>>>>>>>>> users@xwiki.org
>>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> users mailing list
>>>>>>> users@xwiki.org
>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Thomas Mortagne
>>>>>
>>>>>
>>>>>
>>>> _______________________________________________
>>>> users mailing list
>>>> users@xwiki.org
>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>
>>>
>>>
>>> --
>>> Thomas Mortagne
>>
>>
>>
>> --
>> Thomas Mortagne
> 
> 
> 
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:37 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp59271igc;
        Sat, 3 Mar 2012 02:57:04 -0800 (PST)
Received: by 10.213.31.137 with SMTP id y9mr453967ebc.174.1330772216726;
        Sat, 03 Mar 2012 02:56:56 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id q2si7808311eef.63.2012.03.03.02.56.55;
        Sat, 03 Mar 2012 02:56:56 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 523AC6A64A33;
	Sat,  3 Mar 2012 10:52:57 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330771977; bh=v4zKM+SRTMivCK/EEkO30uNHSK4Jw3I3BLli9c6oBH0=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=UGF0MmaKLU31vDC4P0AfpPAUheoED4+DCka2S3tUk+ZrlkF+PkJ4HPvPssTO9xUGV
	 awt60iRVMH6ooUM85aX6KUyWTZ8YGd/Lr9AgpgsgQLZbxU+iArrGXW6znNNIvrBqU2
	 R5AUB/uSliTfY7xN5bWovoEeSiW4UfInkFuQ6jJc=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id zqWNrjhCvMZn; Sat,  3 Mar 2012 10:52:57 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 226426A64A2A;
	Sat,  3 Mar 2012 10:52:56 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330771976; bh=v4zKM+SRTMivCK/EEkO30uNHSK4Jw3I3BLli9c6oBH0=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=GHIxp7a1LYzSBZueziv4sMCLWpoAVSEqYyivfF14HrygOl/bXxqFFCcbDiP455U8S
	 skj5kokN/kgAC45YbAKYNIeFsQVCBR9FlBTSS+F+07dRNve5j1bh4qeO5UQorxPW5w
	 6d6s4irfhTQXbN7ZUl6DVakwbbhZ8cJEM+v+WIBY=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 039936A64A29
	for <users@xwiki.org>; Sat,  3 Mar 2012 10:52:53 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id CyPCq+lIWTbo for <users@xwiki.org>;
	Sat,  3 Mar 2012 10:52:49 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id D67736A646F6
	for <users@xwiki.org>; Sat,  3 Mar 2012 10:52:48 +0000 (UTC)
Received: by obbup3 with SMTP id up3so5171873obb.24
	for <users@xwiki.org>; Sat, 03 Mar 2012 02:56:43 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.114.70 as permitted sender) client-ip=10.182.114.70;
Received: from mr.google.com ([10.182.114.70])
	by 10.182.114.70 with SMTP id je6mr1236138obb.30.1330772203217
	(num_hops = 1); Sat, 03 Mar 2012 02:56:43 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.114.70 with SMTP id je6mr1084020obb.30.1330772203110; Sat,
	03 Mar 2012 02:56:43 -0800 (PST)
Received: by 10.182.172.66 with HTTP; Sat, 3 Mar 2012 02:56:43 -0800 (PST)
In-Reply-To: <4F515BC2.2080809@richard-rafalski.de>
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
	<4F4DE0BC.8030706@richard-rafalski.de>
	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
	<4F50F673.6080300@richard-rafalski.de>
	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>
	<CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>
	<CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>
	<4F515BC2.2080809@richard-rafalski.de>
Date: Sat, 3 Mar 2012 11:56:43 +0100
Message-ID: <CAPnKnLGjLdcNfMAT2Mn9Apjka9LbSRKhd8n0yWvYyFFGvOphBQ@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQlipj3b2geGtPX7IxLf22gIc9tKBek4wa2zXrLyTv1GAjS8deq+q+NjkpPGuZMaof/bHEfJ
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Sat, Mar 3, 2012 at 12:46 AM, Richard Rafalski
<mail@richard-rafalski.de> wrote:
>
>
> Am 02.03.2012 19:47, schrieb Thomas Mortagne:
>> On Fri, Mar 2, 2012 at 7:36 PM, Thomas Mortagne
>> <thomas.mortagne@xwiki.com> wrote:
>>> On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
>>> <thomas.mortagne@xwiki.com> wrote:
>>>> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
>>>> <mail@richard-rafalski.de> wrote:
>>>>> Hi Thomas,
>>>>>
>>>>> thank you for the last modifications on the deb packages.
>>>>>
>>>>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>>>>> installation ran without probelms.
>>>>> Great!
>>>>>
>>>>> But I'am sorry to inform you that after pointing the webbrowser to
>>>>> http://xwikipg:8080/xwiki/ I got the well known
>>>>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration"
>>>>> message.
>>>>>
>>>>> A quik look into /etc/xwiki showed
>>>>> -rw-r----- 1 root root 8.1K Mar =A02 16:08 hibernate.cfg.xml
>>>>>
>>>>> Changing group from root to tomcat7 and restarting the tomcat7 service
>>>>> solved the problem.
>>>>>
>>>>> Maybe there is still a problem with setting group/rights on
>>>>> hibernate.cfg.xml. I'am not shure.
>>>>
>>>> That's weird I was sure I changed the right for it to be 644, will
>>>> checking this, maybe I modified it only in the mysql package. Should
>>>> be quickly fixed.
>>>
>>> I did fixed it but forgot to backport it on 3.5 actually...
>>
>> Should be better now. Thanks for the report !
> I think it is very dangerous to make hibernate.cfg.xml readable for
> evryone. If you can not avoid it you should mention this fact in the
> installation documentation.

I can probably change the owner to tomcat and remove the readright for
all in the xwiki-enterprise-tomcat*-pgsql and
xwiki-enterprise-tomcat*-mysql (my problem was that the install script
does not know the aplication server in xwiki-enterprise-pgsql-common
and xwiki-enterprise-mysql-common).

>
> Richard
>
>>
>>>
>>>>
>>>>>
>>>>> Richard
>>>>>
>>>>> Am 29.02.2012 18:02, schrieb Thomas Mortagne:
>>>>>> On Wed, Feb 29, 2012 at 10:35 AM, Thomas Mortagne
>>>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>>>> On Wed, Feb 29, 2012 at 9:24 AM, Richard Rafalski
>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>
>>>>>>>> Am 28.02.2012 20:10, schrieb Thomas Mortagne:
>>>>>>>>> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
>>>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>>>> Hi,
>>>>>>>>>>
>>>>>>>>>> i have installed xwiki form the deb package
>>>>>>>>>> xwiki-enterprise-tomcat-pgsql version 3.5. =A0Then tried to cont=
act the
>>>>>>>>>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is t=
he
>>>>>>>>>> hostname where xwiki is running). No page came up. I got this er=
ror:
>>>>>>>>>>
>>>>>>>>>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configurat=
ion
>>>>>>>>>>
>>>>>>>>>> What to do now?
>>>>>>>>>
>>>>>>>>> Looks like there is something wrong with the potgre packages actu=
ally,
>>>>>>>>> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
>>>>>>>>> supposed to contain the version of tomcat now). But that's not
>>>>>>>>> related;
>>>>>>>>
>>>>>>>> Do you mean something like xwiki-enterprise-tomcat6-pgsql,
>>>>>>>> xwiki-enterprise-tomcat7-pgsql ? That would be nice.
>>>>>>>
>>>>>>> Yes, see you can see how it's done for mysql but for postgre they a=
re
>>>>>>> all there but with the same xwiki-enterprise-tomcat-pgsql name... I
>>>>>>> forgot to change it during the refactoring and I mostly test mysql.
>>>>>>> Sorry about that.
>>>>>>>
>>>>>>>>
>>>>>>>>>
>>>>>>>>> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.xml
>>>>>>>>> template file ? I think there is an issue with the generation of =
the
>>>>>>>>> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking =
at
>>>>>>>>> it.
>>>>>>>>
>>>>>>>> I tried a new install on a completely fresh debian system. The pro=
blem
>>>>>>>> does not appear now. I think my old system was broken due to old f=
ailed
>>>>>>>> installations. Or did you change something meanwhile?
>>>>>>>
>>>>>>> Nop I did not change anything but I actually suspect that the issue=
 is
>>>>>>> not fresh install but that the purge is wrong. That's what I plan to
>>>>>>> look at, thanks for the confirmation.
>>>>>>
>>>>>> Should be OK now.
>>>>>>
>>>>>> The issue was indeed in the purge script. This mean that you might
>>>>>> still have an issue with install, in that case you will need to do
>>>>>> install/remove --purge/install to cleanup everything.
>>>>>>
>>>>>>>
>>>>>>>>
>>>>>>>> Richard
>>>>>>>>
>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Thanks for help
>>>>>>>>>>
>>>>>>>>>> Here is the full error text:
>>>>>>>>>>
>>>>>>>>>> HTTP Status 500 -
>>>>>>>>>>
>>>>>>>>>> type Exception report
>>>>>>>>>>
>>>>>>>>>> message
>>>>>>>>>>
>>>>>>>>>> description The server encountered an internal error () that pre=
vented
>>>>>>>>>> it from fulfilling this request.
>>>>>>>>>>
>>>>>>>>>> exception
>>>>>>>>>>
>>>>>>>>>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Er=
ror
>>>>>>>>>> number 3 in 0: Could not initialize main XWiki context
>>>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while readi=
ng
>>>>>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], pare=
nt =3D [name =3D
>>>>>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =
=3D [WIKI], parent
>>>>>>>>>> =3D [null]]]]
>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for h=
ibernate
>>>>>>>>>> configuration
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process=
Exception(RequestProcessor.java:535)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process=
ActionPerform(RequestProcessor.java:433)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process=
(RequestProcessor.java:236)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Ac=
tionServlet.java:1196)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(Acti=
onServlet.java:414)
>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServle=
t.java:617)
>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServle=
t.java:717)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFil=
ter.java:128)
>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.=
doFilter(ConversionFilter.java:144)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilt=
er(XWikiDavFilter.java:68)
>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.Save=
dRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetC=
haracterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>> root cause
>>>>>>>>>>
>>>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not ini=
tialize
>>>>>>>>>> main XWiki context
>>>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while readi=
ng
>>>>>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], pare=
nt =3D [name =3D
>>>>>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =
=3D [WIKI], parent
>>>>>>>>>> =3D [null]]]]
>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for h=
ibernate
>>>>>>>>>> configuration
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction=
.java:136)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction=
.java:116)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process=
ActionPerform(RequestProcessor.java:431)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process=
(RequestProcessor.java:236)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Ac=
tionServlet.java:1196)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(Acti=
onServlet.java:414)
>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServle=
t.java:617)
>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServle=
t.java:717)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFil=
ter.java:128)
>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.=
doFilter(ConversionFilter.java:144)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilt=
er(XWikiDavFilter.java:68)
>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.Save=
dRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetC=
haracterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>> root cause
>>>>>>>>>>
>>>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception =
while
>>>>>>>>>> reading document [name =3D [XWikiPreferences], type =3D [DOCUMEN=
T], parent =3D
>>>>>>>>>> [name =3D [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki=
], type =3D
>>>>>>>>>> [WIKI], parent =3D [null]]]]
>>>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for h=
ibernate
>>>>>>>>>> configuration
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWiki=
Doc(XWikiHibernateStore.java:856)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(=
XWikiCacheStore.java:283)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XW=
iki.java:821)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction=
.java:136)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction=
.java:116)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process=
ActionPerform(RequestProcessor.java:431)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process=
(RequestProcessor.java:236)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Ac=
tionServlet.java:1196)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(Acti=
onServlet.java:414)
>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServle=
t.java:617)
>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServle=
t.java:717)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFil=
ter.java:128)
>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.=
doFilter(ConversionFilter.java:144)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilt=
er(XWikiDavFilter.java:68)
>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.Save=
dRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetC=
haracterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>> root cause
>>>>>>>>>>
>>>>>>>>>> org.hibernate.HibernateException: Can't find
>>>>>>>>>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSes=
sionFactory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.ja=
va:118)
>>>>>>>>>> =A0 =A0 =A0 =A0org.hibernate.cfg.Configuration.configure(Configu=
ration.java:2157)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSes=
sionFactory$1.configure(DefaultHibernateSessionFactory.java:80)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.initH=
ibernate(XWikiHibernateBaseStore.java:167)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.check=
Hibernate(XWikiHibernateBaseStore.java:550)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWiki=
Doc(XWikiHibernateStore.java:728)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(=
XWikiCacheStore.java:283)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XW=
iki.java:821)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction=
.java:136)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction=
.java:116)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process=
ActionPerform(RequestProcessor.java:431)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process=
(RequestProcessor.java:236)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Ac=
tionServlet.java:1196)
>>>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(Acti=
onServlet.java:414)
>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServle=
t.java:617)
>>>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServle=
t.java:717)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFil=
ter.java:128)
>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.=
doFilter(ConversionFilter.java:144)
>>>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilt=
er(XWikiDavFilter.java:68)
>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.Save=
dRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetC=
haracterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>>>> note The full stack trace of the root cause is available in the =
Apache
>>>>>>>>>> Tomcat/6.0.35 logs.
>>>>>>>>>>
>>>>>>>>>> Apache Tomcat/6.0.35
>>>>>>>>>> _______________________________________________
>>>>>>>>>> users mailing list
>>>>>>>>>> users@xwiki.org
>>>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> users mailing list
>>>>>>>> users@xwiki.org
>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> Thomas Mortagne
>>>>>>
>>>>>>
>>>>>>
>>>>> _______________________________________________
>>>>> users mailing list
>>>>> users@xwiki.org
>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>
>>>>
>>>>
>>>> --
>>>> Thomas Mortagne
>>>
>>>
>>>
>>> --
>>> Thomas Mortagne
>>
>>
>>
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:38 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp43728igc;
        Fri, 2 Mar 2012 10:47:22 -0800 (PST)
Received: by 10.14.27.142 with SMTP id e14mr5138851eea.70.1330714034726;
        Fri, 02 Mar 2012 10:47:14 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id r6si4486353eef.88.2012.03.02.10.47.11;
        Fri, 02 Mar 2012 10:47:14 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 762066A64708;
	Fri,  2 Mar 2012 18:43:18 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330713798; bh=osjHRCElXIqx6PUtoMsv4vDFf0mXbLSpDOETJ+SFmIs=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=SrMHpYC9/Gnus79OPge2UOIc1SWWmHXcMd26sFKvfLXy2U3jLmfKEKnkHfIdHAvc6
	 pauzb7VGAPT1jZYUU0o/VgAdoilarueqedDNTLtmbzeqp5mqEtgT9JMXN6zlq5Vu6x
	 jqyWY9qwR9lomVAS/2IVcnzIgAVJMhMsWBDqiNpY=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id PPAtQl900jkF; Fri,  2 Mar 2012 18:43:18 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 446F06A646F4;
	Fri,  2 Mar 2012 18:43:17 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330713797; bh=osjHRCElXIqx6PUtoMsv4vDFf0mXbLSpDOETJ+SFmIs=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=g5RCfcBgYxLN7NxBHtsRflQ6HF5HrAtYM/SvJ611fQ7AJo04cQky5K6VyXCrKM/Uk
	 J9EEmWbg96aC6u8KTpGQlnmZ/i1hT8ReDM4BhOjviUodw3DvuAgRJt8ifLBl/NwrDr
	 jsL9qCnmfDyqoZqefa93E48tdQAur1c6V6zm8QWE=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id AF8716A646F3
	for <users@xwiki.org>; Fri,  2 Mar 2012 18:43:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id 5BCgTSsuuFJB for <users@xwiki.org>;
	Fri,  2 Mar 2012 18:43:13 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id D8D8F6A63054
	for <users@xwiki.org>; Fri,  2 Mar 2012 18:43:12 +0000 (UTC)
Received: by obbup3 with SMTP id up3so3945701obb.24
	for <users@xwiki.org>; Fri, 02 Mar 2012 10:47:04 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.114.70 as permitted sender) client-ip=10.182.114.70;
Received: from mr.google.com ([10.182.114.70])
	by 10.182.114.70 with SMTP id je6mr265723obb.30.1330714024445 (num_hops
	= 1); Fri, 02 Mar 2012 10:47:04 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.114.70 with SMTP id je6mr226725obb.30.1330714024260; Fri,
	02 Mar 2012 10:47:04 -0800 (PST)
Received: by 10.182.172.66 with HTTP; Fri, 2 Mar 2012 10:47:04 -0800 (PST)
In-Reply-To: <CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
	<4F4DE0BC.8030706@richard-rafalski.de>
	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
	<4F50F673.6080300@richard-rafalski.de>
	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>
	<CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>
Date: Fri, 2 Mar 2012 19:47:04 +0100
Message-ID: <CAPnKnLFpwuPx1XSNkAE5CJatF1zdX6vCm8MeQU5xjg5hR80WfA@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQnQaEqbgz9Ny2UiYtNSGrisb2L0xPew/MBN4gNxw8YrXPu6mA9uJaOqXBNGwTzKRAiWntWs
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Fri, Mar 2, 2012 at 7:36 PM, Thomas Mortagne
<thomas.mortagne@xwiki.com> wrote:
> On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
> <thomas.mortagne@xwiki.com> wrote:
>> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
>> <mail@richard-rafalski.de> wrote:
>>> Hi Thomas,
>>>
>>> thank you for the last modifications on the deb packages.
>>>
>>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>>> installation ran without probelms.
>>> Great!
>>>
>>> But I'am sorry to inform you that after pointing the webbrowser to
>>> http://xwikipg:8080/xwiki/ I got the well known
>>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration"
>>> message.
>>>
>>> A quik look into /etc/xwiki showed
>>> -rw-r----- 1 root root 8.1K Mar =A02 16:08 hibernate.cfg.xml
>>>
>>> Changing group from root to tomcat7 and restarting the tomcat7 service
>>> solved the problem.
>>>
>>> Maybe there is still a problem with setting group/rights on
>>> hibernate.cfg.xml. I'am not shure.
>>
>> That's weird I was sure I changed the right for it to be 644, will
>> checking this, maybe I modified it only in the mysql package. Should
>> be quickly fixed.
>
> I did fixed it but forgot to backport it on 3.5 actually...

Should be better now. Thanks for the report !

>
>>
>>>
>>> Richard
>>>
>>> Am 29.02.2012 18:02, schrieb Thomas Mortagne:
>>>> On Wed, Feb 29, 2012 at 10:35 AM, Thomas Mortagne
>>>> <thomas.mortagne@xwiki.com> wrote:
>>>>> On Wed, Feb 29, 2012 at 9:24 AM, Richard Rafalski
>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>
>>>>>> Am 28.02.2012 20:10, schrieb Thomas Mortagne:
>>>>>>> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
>>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>>> Hi,
>>>>>>>>
>>>>>>>> i have installed xwiki form the deb package
>>>>>>>> xwiki-enterprise-tomcat-pgsql version 3.5. =A0Then tried to contac=
t the
>>>>>>>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is the
>>>>>>>> hostname where xwiki is running). No page came up. I got this erro=
r:
>>>>>>>>
>>>>>>>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>>>
>>>>>>>> What to do now?
>>>>>>>
>>>>>>> Looks like there is something wrong with the potgre packages actual=
ly,
>>>>>>> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
>>>>>>> supposed to contain the version of tomcat now). But that's not
>>>>>>> related;
>>>>>>
>>>>>> Do you mean something like xwiki-enterprise-tomcat6-pgsql,
>>>>>> xwiki-enterprise-tomcat7-pgsql ? That would be nice.
>>>>>
>>>>> Yes, see you can see how it's done for mysql but for postgre they are
>>>>> all there but with the same xwiki-enterprise-tomcat-pgsql name... I
>>>>> forgot to change it during the refactoring and I mostly test mysql.
>>>>> Sorry about that.
>>>>>
>>>>>>
>>>>>>>
>>>>>>> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.xml
>>>>>>> template file ? I think there is an issue with the generation of the
>>>>>>> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking at
>>>>>>> it.
>>>>>>
>>>>>> I tried a new install on a completely fresh debian system. The probl=
em
>>>>>> does not appear now. I think my old system was broken due to old fai=
led
>>>>>> installations. Or did you change something meanwhile?
>>>>>
>>>>> Nop I did not change anything but I actually suspect that the issue is
>>>>> not fresh install but that the purge is wrong. That's what I plan to
>>>>> look at, thanks for the confirmation.
>>>>
>>>> Should be OK now.
>>>>
>>>> The issue was indeed in the purge script. This mean that you might
>>>> still have an issue with install, in that case you will need to do
>>>> install/remove --purge/install to cleanup everything.
>>>>
>>>>>
>>>>>>
>>>>>> Richard
>>>>>>
>>>>>>>
>>>>>>>>
>>>>>>>> Thanks for help
>>>>>>>>
>>>>>>>> Here is the full error text:
>>>>>>>>
>>>>>>>> HTTP Status 500 -
>>>>>>>>
>>>>>>>> type Exception report
>>>>>>>>
>>>>>>>> message
>>>>>>>>
>>>>>>>> description The server encountered an internal error () that preve=
nted
>>>>>>>> it from fulfilling this request.
>>>>>>>>
>>>>>>>> exception
>>>>>>>>
>>>>>>>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error
>>>>>>>> number 3 in 0: Could not initialize main XWiki context
>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent=
 =3D [name =3D
>>>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D =
[WIKI], parent
>>>>>>>> =3D [null]]]]
>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hib=
ernate
>>>>>>>> configuration
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processEx=
ception(RequestProcessor.java:535)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processAc=
tionPerform(RequestProcessor.java:433)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(R=
equestProcessor.java:236)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Acti=
onServlet.java:1196)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(Action=
Servlet.java:414)
>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.=
java:617)
>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.=
java:717)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilte=
r.java:128)
>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.do=
Filter(ConversionFilter.java:144)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter=
(XWikiDavFilter.java:68)
>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedR=
equestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCha=
racterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>> root cause
>>>>>>>>
>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initi=
alize
>>>>>>>> main XWiki context
>>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent=
 =3D [name =3D
>>>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D =
[WIKI], parent
>>>>>>>> =3D [null]]]]
>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hib=
ernate
>>>>>>>> configuration
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.j=
ava:136)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.j=
ava:116)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processAc=
tionPerform(RequestProcessor.java:431)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(R=
equestProcessor.java:236)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Acti=
onServlet.java:1196)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(Action=
Servlet.java:414)
>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.=
java:617)
>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.=
java:717)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilte=
r.java:128)
>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.do=
Filter(ConversionFilter.java:144)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter=
(XWikiDavFilter.java:68)
>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedR=
equestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCha=
racterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>> root cause
>>>>>>>>
>>>>>>>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception wh=
ile
>>>>>>>> reading document [name =3D [XWikiPreferences], type =3D [DOCUMENT]=
, parent =3D
>>>>>>>> [name =3D [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki],=
 type =3D
>>>>>>>> [WIKI], parent =3D [null]]]]
>>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hib=
ernate
>>>>>>>> configuration
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDo=
c(XWikiHibernateStore.java:856)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XW=
ikiCacheStore.java:283)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWik=
i.java:821)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.j=
ava:136)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.j=
ava:116)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processAc=
tionPerform(RequestProcessor.java:431)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(R=
equestProcessor.java:236)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Acti=
onServlet.java:1196)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(Action=
Servlet.java:414)
>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.=
java:617)
>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.=
java:717)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilte=
r.java:128)
>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.do=
Filter(ConversionFilter.java:144)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter=
(XWikiDavFilter.java:68)
>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedR=
equestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCha=
racterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>> root cause
>>>>>>>>
>>>>>>>> org.hibernate.HibernateException: Can't find
>>>>>>>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSessi=
onFactory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.java=
:118)
>>>>>>>> =A0 =A0 =A0 =A0org.hibernate.cfg.Configuration.configure(Configura=
tion.java:2157)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSessi=
onFactory$1.configure(DefaultHibernateSessionFactory.java:80)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.initHib=
ernate(XWikiHibernateBaseStore.java:167)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.checkHi=
bernate(XWikiHibernateBaseStore.java:550)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDo=
c(XWikiHibernateStore.java:728)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XW=
ikiCacheStore.java:283)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWik=
i.java:821)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.j=
ava:136)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.j=
ava:116)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processAc=
tionPerform(RequestProcessor.java:431)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(R=
equestProcessor.java:236)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Acti=
onServlet.java:1196)
>>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(Action=
Servlet.java:414)
>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.=
java:617)
>>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.=
java:717)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilte=
r.java:128)
>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.do=
Filter(ConversionFilter.java:144)
>>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter=
(XWikiDavFilter.java:68)
>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedR=
equestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCha=
racterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>>> note The full stack trace of the root cause is available in the Ap=
ache
>>>>>>>> Tomcat/6.0.35 logs.
>>>>>>>>
>>>>>>>> Apache Tomcat/6.0.35
>>>>>>>> _______________________________________________
>>>>>>>> users mailing list
>>>>>>>> users@xwiki.org
>>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>> _______________________________________________
>>>>>> users mailing list
>>>>>> users@xwiki.org
>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Thomas Mortagne
>>>>
>>>>
>>>>
>>> _______________________________________________
>>> users mailing list
>>> users@xwiki.org
>>> http://lists.xwiki.org/mailman/listinfo/users
>>
>>
>>
>> --
>> Thomas Mortagne
>
>
>
> --
> Thomas Mortagne



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:38 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp43552igc;
        Fri, 2 Mar 2012 10:37:11 -0800 (PST)
Received: by 10.14.94.202 with SMTP id n50mr4988578eef.65.1330713423819;
        Fri, 02 Mar 2012 10:37:03 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id e53si2042634eea.204.2012.03.02.10.37.02;
        Fri, 02 Mar 2012 10:37:03 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 4611E6A64700;
	Fri,  2 Mar 2012 18:33:09 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330713189; bh=SX3PBzncqmANMAcX8ZpgzcfDSsoQzbk0NeueQVWfgNM=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=Qn7kJN9aoBJgpLjA3VfZqw0L9MEv6Bl0nWV8ggK2T57CjxTcQ9+Yzwf/MW2D2cW3n
	 tXp1DUl8CitY7tH43JtdLQ0VNyNMl6mAww05OwyjK524eF9iau4MHRdhg9L+C3Y2q8
	 VhcR/JsDRfH3BuLN7My248V5ZJsBJoMTg1L/Z5c8=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Pw+IDlskkA4U; Fri,  2 Mar 2012 18:33:09 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E6BDB6A64702;
	Fri,  2 Mar 2012 18:33:07 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330713188; bh=SX3PBzncqmANMAcX8ZpgzcfDSsoQzbk0NeueQVWfgNM=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=Ji+rIBasO5uIXR2R8Vmvs0DlV7bdpAGN7jjUUsw0nsT+0kD9ENKzSvxwmAtkAYkug
	 0itPkPxNEOMNcQgcgxN14ecyMFjbtf6t4Sn8dGiwY/6Z+2+bZHI7vwdKsYP2ROVXG6
	 n1/378hEzjfVdN+cPF8mydYGVH7u8jxqIXo1K1tU=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 64B486A64700
	for <users@xwiki.org>; Fri,  2 Mar 2012 18:33:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id GLpMx0KFtlIb for <users@xwiki.org>;
	Fri,  2 Mar 2012 18:33:00 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 550606A644E3
	for <users@xwiki.org>; Fri,  2 Mar 2012 18:32:59 +0000 (UTC)
Received: by obbup3 with SMTP id up3so3926259obb.24
	for <users@xwiki.org>; Fri, 02 Mar 2012 10:36:50 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.60.22.233 as permitted sender) client-ip=10.60.22.233;
Received: from mr.google.com ([10.60.22.233])
	by 10.60.22.233 with SMTP id h9mr5101491oef.30.1330713410652 (num_hops
	= 1); Fri, 02 Mar 2012 10:36:50 -0800 (PST)
MIME-Version: 1.0
Received: by 10.60.22.233 with SMTP id h9mr4337779oef.30.1330713410539; Fri,
	02 Mar 2012 10:36:50 -0800 (PST)
Received: by 10.182.172.66 with HTTP; Fri, 2 Mar 2012 10:36:50 -0800 (PST)
In-Reply-To: <CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
	<4F4DE0BC.8030706@richard-rafalski.de>
	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
	<4F50F673.6080300@richard-rafalski.de>
	<CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>
Date: Fri, 2 Mar 2012 19:36:50 +0100
Message-ID: <CAPnKnLGTAPtxG2RPTwUmeOqeT-wzPU412RUq0fB9vjvm6X5A1A@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQk3R/xbJqci2gzNieHFY5d1x7dWk/Nl1F+t256gQlNxSOCMRsXBV+4n13UphYpwYBSs1ywc
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Fri, Mar 2, 2012 at 7:34 PM, Thomas Mortagne
<thomas.mortagne@xwiki.com> wrote:
> On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
> <mail@richard-rafalski.de> wrote:
>> Hi Thomas,
>>
>> thank you for the last modifications on the deb packages.
>>
>> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
>> installation ran without probelms.
>> Great!
>>
>> But I'am sorry to inform you that after pointing the webbrowser to
>> http://xwikipg:8080/xwiki/ I got the well known
>> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration"
>> message.
>>
>> A quik look into /etc/xwiki showed
>> -rw-r----- 1 root root 8.1K Mar =A02 16:08 hibernate.cfg.xml
>>
>> Changing group from root to tomcat7 and restarting the tomcat7 service
>> solved the problem.
>>
>> Maybe there is still a problem with setting group/rights on
>> hibernate.cfg.xml. I'am not shure.
>
> That's weird I was sure I changed the right for it to be 644, will
> checking this, maybe I modified it only in the mysql package. Should
> be quickly fixed.

I did fixed it but forgot to backport it on 3.5 actually...

>
>>
>> Richard
>>
>> Am 29.02.2012 18:02, schrieb Thomas Mortagne:
>>> On Wed, Feb 29, 2012 at 10:35 AM, Thomas Mortagne
>>> <thomas.mortagne@xwiki.com> wrote:
>>>> On Wed, Feb 29, 2012 at 9:24 AM, Richard Rafalski
>>>> <mail@richard-rafalski.de> wrote:
>>>>>
>>>>> Am 28.02.2012 20:10, schrieb Thomas Mortagne:
>>>>>> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
>>>>>> <mail@richard-rafalski.de> wrote:
>>>>>>> Hi,
>>>>>>>
>>>>>>> i have installed xwiki form the deb package
>>>>>>> xwiki-enterprise-tomcat-pgsql version 3.5. =A0Then tried to contact=
 the
>>>>>>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is the
>>>>>>> hostname where xwiki is running). No page came up. I got this error:
>>>>>>>
>>>>>>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>>
>>>>>>> What to do now?
>>>>>>
>>>>>> Looks like there is something wrong with the potgre packages actuall=
y,
>>>>>> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
>>>>>> supposed to contain the version of tomcat now). But that's not
>>>>>> related;
>>>>>
>>>>> Do you mean something like xwiki-enterprise-tomcat6-pgsql,
>>>>> xwiki-enterprise-tomcat7-pgsql ? That would be nice.
>>>>
>>>> Yes, see you can see how it's done for mysql but for postgre they are
>>>> all there but with the same xwiki-enterprise-tomcat-pgsql name... I
>>>> forgot to change it during the refactoring and I mostly test mysql.
>>>> Sorry about that.
>>>>
>>>>>
>>>>>>
>>>>>> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.xml
>>>>>> template file ? I think there is an issue with the generation of the
>>>>>> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking at
>>>>>> it.
>>>>>
>>>>> I tried a new install on a completely fresh debian system. The problem
>>>>> does not appear now. I think my old system was broken due to old fail=
ed
>>>>> installations. Or did you change something meanwhile?
>>>>
>>>> Nop I did not change anything but I actually suspect that the issue is
>>>> not fresh install but that the purge is wrong. That's what I plan to
>>>> look at, thanks for the confirmation.
>>>
>>> Should be OK now.
>>>
>>> The issue was indeed in the purge script. This mean that you might
>>> still have an issue with install, in that case you will need to do
>>> install/remove --purge/install to cleanup everything.
>>>
>>>>
>>>>>
>>>>> Richard
>>>>>
>>>>>>
>>>>>>>
>>>>>>> Thanks for help
>>>>>>>
>>>>>>> Here is the full error text:
>>>>>>>
>>>>>>> HTTP Status 500 -
>>>>>>>
>>>>>>> type Exception report
>>>>>>>
>>>>>>> message
>>>>>>>
>>>>>>> description The server encountered an internal error () that preven=
ted
>>>>>>> it from fulfilling this request.
>>>>>>>
>>>>>>> exception
>>>>>>>
>>>>>>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error
>>>>>>> number 3 in 0: Could not initialize main XWiki context
>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent =
=3D [name =3D
>>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D [=
WIKI], parent
>>>>>>> =3D [null]]]]
>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibe=
rnate
>>>>>>> configuration
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processExc=
eption(RequestProcessor.java:535)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processAct=
ionPerform(RequestProcessor.java:433)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Re=
questProcessor.java:236)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Actio=
nServlet.java:1196)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionS=
ervlet.java:414)
>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.j=
ava:617)
>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.j=
ava:717)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter=
.java:128)
>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doF=
ilter(ConversionFilter.java:144)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(=
XWikiDavFilter.java:68)
>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedRe=
questRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetChar=
acterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>> root cause
>>>>>>>
>>>>>>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initia=
lize
>>>>>>> main XWiki context
>>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent =
=3D [name =3D
>>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D [=
WIKI], parent
>>>>>>> =3D [null]]]]
>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibe=
rnate
>>>>>>> configuration
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.ja=
va:136)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.ja=
va:116)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processAct=
ionPerform(RequestProcessor.java:431)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Re=
questProcessor.java:236)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Actio=
nServlet.java:1196)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionS=
ervlet.java:414)
>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.j=
ava:617)
>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.j=
ava:717)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter=
.java:128)
>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doF=
ilter(ConversionFilter.java:144)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(=
XWikiDavFilter.java:68)
>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedRe=
questRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetChar=
acterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>> root cause
>>>>>>>
>>>>>>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception whi=
le
>>>>>>> reading document [name =3D [XWikiPreferences], type =3D [DOCUMENT],=
 parent =3D
>>>>>>> [name =3D [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], =
type =3D
>>>>>>> [WIKI], parent =3D [null]]]]
>>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibe=
rnate
>>>>>>> configuration
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc=
(XWikiHibernateStore.java:856)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWi=
kiCacheStore.java:283)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki=
.java:821)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.ja=
va:136)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.ja=
va:116)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processAct=
ionPerform(RequestProcessor.java:431)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Re=
questProcessor.java:236)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Actio=
nServlet.java:1196)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionS=
ervlet.java:414)
>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.j=
ava:617)
>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.j=
ava:717)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter=
.java:128)
>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doF=
ilter(ConversionFilter.java:144)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(=
XWikiDavFilter.java:68)
>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedRe=
questRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetChar=
acterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>> root cause
>>>>>>>
>>>>>>> org.hibernate.HibernateException: Can't find
>>>>>>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSessio=
nFactory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.java:=
118)
>>>>>>> =A0 =A0 =A0 =A0org.hibernate.cfg.Configuration.configure(Configurat=
ion.java:2157)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSessio=
nFactory$1.configure(DefaultHibernateSessionFactory.java:80)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.initHibe=
rnate(XWikiHibernateBaseStore.java:167)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.checkHib=
ernate(XWikiHibernateBaseStore.java:550)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc=
(XWikiHibernateStore.java:728)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWi=
kiCacheStore.java:283)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki=
.java:821)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.ja=
va:136)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.ja=
va:116)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processAct=
ionPerform(RequestProcessor.java:431)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Re=
questProcessor.java:236)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Actio=
nServlet.java:1196)
>>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionS=
ervlet.java:414)
>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.j=
ava:617)
>>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.j=
ava:717)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter=
.java:128)
>>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doF=
ilter(ConversionFilter.java:144)
>>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(=
XWikiDavFilter.java:68)
>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedRe=
questRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetChar=
acterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>>> note The full stack trace of the root cause is available in the Apa=
che
>>>>>>> Tomcat/6.0.35 logs.
>>>>>>>
>>>>>>> Apache Tomcat/6.0.35
>>>>>>> _______________________________________________
>>>>>>> users mailing list
>>>>>>> users@xwiki.org
>>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>>
>>>>>>
>>>>>>
>>>>> _______________________________________________
>>>>> users mailing list
>>>>> users@xwiki.org
>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>
>>>>
>>>>
>>>> --
>>>> Thomas Mortagne
>>>
>>>
>>>
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
>
>
>
> --
> Thomas Mortagne



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:38 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp32873igc;
        Fri, 2 Mar 2012 03:12:03 -0800 (PST)
Received: by 10.213.7.80 with SMTP id c16mr528290ebc.7.1330686715852;
        Fri, 02 Mar 2012 03:11:55 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id v16si4824867eeb.150.2012.03.02.03.11.54;
        Fri, 02 Mar 2012 03:11:55 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id DBA606A64A33;
	Fri,  2 Mar 2012 11:08:02 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330686482; bh=Q2p6OvUOfJsXhVjMB9juOy8jxBhipLjXwfsqnW38FGc=;
	h=Date:From:To:Message-ID:MIME-Version:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=KpY8u2z6cOrclvKGLpIEY5lGAHjEUBtGVeAdY8UQvpXAp225rbGinnDIZJ4nzWMqy
	 UmRt16OzgggiT0EssphObhP8UOaXLe4rte7KlGoM4/FOV4XtU/+xrfLvXVjvOGP6VY
	 3r+RFYeVW9ilrLGEfdRuMbL5ecEqHEQtinwiGBxU=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id m-yWrN8r5UJJ; Fri,  2 Mar 2012 11:08:02 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id BCA406A64A30;
	Fri,  2 Mar 2012 11:07:58 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330686478; bh=Q2p6OvUOfJsXhVjMB9juOy8jxBhipLjXwfsqnW38FGc=;
	h=Date:From:To:Message-ID:MIME-Version:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=v1JBgHQWe2HiZ9r2Vss4tSXHewsF9T7S6HDsIYDA+s0Fh95EN8nh3iVQHmtUqzIKL
	 d7RiFCtmsD5jA1SUCPRcU0tEoJwugClSnXNCv7x79Tdl1bYcaUFUSjF4E3NXyjkasT
	 QUAcKvwI/wHNGFQyaOF8ji3UY7R8D8PUK2/oKvzA=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 80D356A64A2E
	for <users@xwiki.org>; Fri,  2 Mar 2012 11:07:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id 4flV01OSowFg for <users@xwiki.org>;
	Fri,  2 Mar 2012 11:07:54 +0000 (UTC)
Received: from sam.nabble.com (sam.nabble.com [216.139.236.26])
	by borabora.xwiki.com (Postfix) with ESMTPS id 3499A6A642A0
	for <users@xwiki.org>; Fri,  2 Mar 2012 11:07:54 +0000 (UTC)
Received: from jim.nabble.com ([192.168.236.80])
	by sam.nabble.com with esmtp (Exim 4.72)
	(envelope-from <jeremie.bousquet@gmail.com>) id 1S3QOl-0001Nq-95
	for users@xwiki.org; Fri, 02 Mar 2012 03:11:43 -0800
Date: Fri, 2 Mar 2012 03:11:43 -0800 (PST)
From: jerem <jeremie.bousquet@gmail.com>
To: users@xwiki.org
Message-ID: <1330686703218-7336167.post@n2.nabble.com>
MIME-Version: 1.0
Subject: [xwiki-users] Translations field length
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hello xwiki community,

I'm playing with the new (and wonderful) xwiki 3.5, and as I'm playing I'm
adding extensions ... and values in the internationalization bundles list.

Problem is, I reached the limit, and can't add new bundles anymore because
of :

Caused by: java.sql.BatchUpdateException: Data truncation: Data too long for
column 'XWP_DOCUMENT_BUNDLES' at row 1

It seems that (MySql) this field is varchar(255). Problem is that this limit
is easily reached when you add applications (and I use it also for my own
apps ...).

Would it be possible to extend this limitation ? can I alter this

BR,
Jeremie

--
View this message in context: http://xwiki.475771.n2.nabble.com/Translations-field-length-tp7336167p7336167.html
Sent from the XWiki- Users mailing list archive at Nabble.com.
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:38 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp39760igc;
        Fri, 2 Mar 2012 07:58:05 -0800 (PST)
Received: by 10.14.127.76 with SMTP id c52mr4951994eei.37.1330703877953;
        Fri, 02 Mar 2012 07:57:57 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id q2si5611249eef.171.2012.03.02.07.57.56;
        Fri, 02 Mar 2012 07:57:57 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 97F276A64A31;
	Fri,  2 Mar 2012 15:54:03 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330703643; bh=5YKFLtf10D6p+bKdC7csmjUQ8ggT6Zu1x82rfVq14ek=;
	h=Date:From:To:Message-ID:MIME-Version:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=hpRpwUoEzgx1MzVrY3E313T8DscU5o65SIeNJ41r/Mb+f+VH0p7ul80gBo5Q6GKSp
	 1VsQ2wPJ0oN76j7gajOLkNuq8ODe53l8v/QN/G4Vx9/feXBWGO5DrYz/296MiCEl3o
	 AKqcyy8n0ssHsmUmsQNNVdrXXC6wRIgcjAJGm2Uo=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id HVutxkA1mIYD; Fri,  2 Mar 2012 15:54:03 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id AC0CC6A64A2A;
	Fri,  2 Mar 2012 15:54:02 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330703642; bh=5YKFLtf10D6p+bKdC7csmjUQ8ggT6Zu1x82rfVq14ek=;
	h=Date:From:To:Message-ID:MIME-Version:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=KtReiVPwLcmYALQUechmSovZpzVbLPy9GTXg0MIbhrhQNz3RzExjNrw7xqm4IlzpF
	 F3ItUUBK9cFDlhxSPal/KLumfR8c+yo7bmM8F0MU6yg5S2JMDHuOPlVUTDFk0DDnL6
	 MDtPZutHZaojKIYGbMHIITsKntSnUlwkFiC50A9o=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 46E226A64829
	for <users@xwiki.org>; Fri,  2 Mar 2012 15:53:55 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id MGmGY-Ru-XbF for <users@xwiki.org>;
	Fri,  2 Mar 2012 15:53:53 +0000 (UTC)
Received: from sam.nabble.com (sam.nabble.com [216.139.236.26])
	by borabora.xwiki.com (Postfix) with ESMTPS id B8C736A646EC
	for <users@xwiki.org>; Fri,  2 Mar 2012 15:53:52 +0000 (UTC)
Received: from jim.nabble.com ([192.168.236.80])
	by sam.nabble.com with esmtp (Exim 4.72)
	(envelope-from <jeremie.bousquet@gmail.com>) id 1S3UrW-000537-Pp
	for users@xwiki.org; Fri, 02 Mar 2012 07:57:42 -0800
Date: Fri, 2 Mar 2012 07:57:42 -0800 (PST)
From: jerem <jeremie.bousquet@gmail.com>
To: users@xwiki.org
Message-ID: <1330703862769-7337034.post@n2.nabble.com>
MIME-Version: 1.0
Subject: [xwiki-users] "Cascading" livetables
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hello,

I'd like to do that :
In a page, have 2 livetables on 2 different wiki classes. A column in first
livetable shows a clickable link. If user clicks this link, I would like to
have second livetable updated depending on the row that was clicked in the
first.
In fact on click, an event should be fired to the second livetable to
refresh itself, with a parameter depending on the link.
What I don't know is how to trigger ajax refresh on second livetable and how
to parameterize it from the first link.

Any help welcome on how to do that - I believe it's possible but need a
little help to know how to start...

thanks,
Jeremie

--
View this message in context: http://xwiki.475771.n2.nabble.com/Cascading-livetables-tp7337034p7337034.html
Sent from the XWiki- Users mailing list archive at Nabble.com.
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:38 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp40405igc;
        Fri, 2 Mar 2012 08:32:17 -0800 (PST)
Received: by 10.14.101.134 with SMTP id b6mr4916624eeg.81.1330705929498;
        Fri, 02 Mar 2012 08:32:09 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id o43si3158285eeb.193.2012.03.02.08.32.07;
        Fri, 02 Mar 2012 08:32:09 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 8D7756A64A32;
	Fri,  2 Mar 2012 16:28:14 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330705694; bh=sdyY/p4UdryH9+81U3ajQujuy77mEtMP/hB3H7Bixxo=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=bHRHtxelzhncJL46GeORgUUHeWOH+eUrj+/ml38RSsWSb73s6+kF3KxQwUe0Eyk6D
	 CMykLUqar52KbOedKtALePdTxNdxT6dWcFaXQMdbjcFBtOe9g6eweJTPw2+N/ZtCoJ
	 arVHc+x5NAwVewzVO7X/1z/qp4mmLtmVc83IcixU=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZjcPqmoas4Wo; Fri,  2 Mar 2012 16:28:14 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 21AE56A64A2A;
	Fri,  2 Mar 2012 16:28:13 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330705693; bh=sdyY/p4UdryH9+81U3ajQujuy77mEtMP/hB3H7Bixxo=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=hswqEKe9cECAi2/ccP2vIKxeia2ko9aGdMZOqbLQMCcAmOufeGmMAGh/F/5oVNVz7
	 qaoEDH746JM/l6cPPtSWIIPsY7v7L/PSJiRGm6ajKh7CRcYv4Qh1KSDWaVFrF/7F25
	 mqWs2IHQBOXfDfNbpCMWphjKvyWj2kMHE9dq5NVk=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id C44CD6A64829
	for <users@xwiki.org>; Fri,  2 Mar 2012 16:28:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id uNvT0+xwIbYj for <users@xwiki.org>;
	Fri,  2 Mar 2012 16:28:04 +0000 (UTC)
Received: from mailout2.hostsharing.net (mailout2.hostsharing.net
	[83.223.90.233])
	by borabora.xwiki.com (Postfix) with ESMTPS id 668F56A646D7
	for <users@xwiki.org>; Fri,  2 Mar 2012 16:28:04 +0000 (UTC)
Received: from h06.hostsharing.net (h06.hostsharing.net [83.223.95.25])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailout2.hostsharing.net (Postfix) with ESMTPS id 592AB89D8A3
	for <users@xwiki.org>; Fri,  2 Mar 2012 17:31:55 +0100 (CET)
Received: from kenny.bismarck.richard-rafalski.de (unknown [194.231.230.250])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by h06.hostsharing.net (Postfix) with ESMTPSA id E76961811E006
	for <users@xwiki.org>; Fri,  2 Mar 2012 17:31:55 +0100 (CET)
Received: from localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTP id
	241FB120B4
	for <users@xwiki.org>; Fri,  2 Mar 2012 17:31:55 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at richard-rafalski.de
Received: from kenny.bismarck.richard-rafalski.de ([127.0.0.1])
	by localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	(amavisd-new, port 10024)
	with ESMTP id KH0kLlEiiKH9 for <users@xwiki.org>;
	Fri,  2 Mar 2012 17:31:48 +0100 (CET)
Received: from [192.168.2.2] (sparky.bismarck.richard-rafalski.de
	[192.168.2.2]) (using TLSv1 with cipher AES256-SHA (256/256 bits))
	(No client certificate requested)
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTPSA id
	0EAD0120B0
	for <users@xwiki.org>; Fri,  2 Mar 2012 17:31:48 +0100 (CET)
Message-ID: <4F50F673.6080300@richard-rafalski.de>
Date: Fri, 02 Mar 2012 17:33:55 +0100
From: Richard Rafalski <mail@richard-rafalski.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US;
	rv:1.9.2.24) Gecko/20111114 Iceowl/1.0b2 Icedove/3.1.16
MIME-Version: 1.0
To: users@xwiki.org
References: <4F4D2037.6020105@richard-rafalski.de>	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>	<4F4DE0BC.8030706@richard-rafalski.de>	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
In-Reply-To: <CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
X-Enigmail-Version: 1.1.2
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi Thomas,

thank you for the last modifications on the deb packages.

I've installed the package xwiki-enterprise-tomcat7-pgsql. The
installation ran without probelms.
Great!

But I'am sorry to inform you that after pointing the webbrowser to
http://xwikipg:8080/xwiki/ I got the well known
"Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration"
message.

A quik look into /etc/xwiki showed
-rw-r----- 1 root root 8.1K Mar  2 16:08 hibernate.cfg.xml

Changing group from root to tomcat7 and restarting the tomcat7 service
solved the problem.

Maybe there is still a problem with setting group/rights on
hibernate.cfg.xml. I'am not shure.

Richard

Am 29.02.2012 18:02, schrieb Thomas Mortagne:
> On Wed, Feb 29, 2012 at 10:35 AM, Thomas Mortagne
> <thomas.mortagne@xwiki.com> wrote:
>> On Wed, Feb 29, 2012 at 9:24 AM, Richard Rafalski
>> <mail@richard-rafalski.de> wrote:
>>>
>>> Am 28.02.2012 20:10, schrieb Thomas Mortagne:
>>>> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
>>>> <mail@richard-rafalski.de> wrote:
>>>>> Hi,
>>>>>
>>>>> i have installed xwiki form the deb package
>>>>> xwiki-enterprise-tomcat-pgsql version 3.5.  Then tried to contact the
>>>>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is the
>>>>> hostname where xwiki is running). No page came up. I got this error:
>>>>>
>>>>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>
>>>>> What to do now?
>>>>
>>>> Looks like there is something wrong with the potgre packages actually,
>>>> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
>>>> supposed to contain the version of tomcat now). But that's not
>>>> related;
>>>
>>> Do you mean something like xwiki-enterprise-tomcat6-pgsql,
>>> xwiki-enterprise-tomcat7-pgsql ? That would be nice.
>>
>> Yes, see you can see how it's done for mysql but for postgre they are
>> all there but with the same xwiki-enterprise-tomcat-pgsql name... I
>> forgot to change it during the refactoring and I mostly test mysql.
>> Sorry about that.
>>
>>>
>>>>
>>>> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.xml
>>>> template file ? I think there is an issue with the generation of the
>>>> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking at
>>>> it.
>>>
>>> I tried a new install on a completely fresh debian system. The problem
>>> does not appear now. I think my old system was broken due to old failed
>>> installations. Or did you change something meanwhile?
>>
>> Nop I did not change anything but I actually suspect that the issue is
>> not fresh install but that the purge is wrong. That's what I plan to
>> look at, thanks for the confirmation.
> 
> Should be OK now.
> 
> The issue was indeed in the purge script. This mean that you might
> still have an issue with install, in that case you will need to do
> install/remove --purge/install to cleanup everything.
> 
>>
>>>
>>> Richard
>>>
>>>>
>>>>>
>>>>> Thanks for help
>>>>>
>>>>> Here is the full error text:
>>>>>
>>>>> HTTP Status 500 -
>>>>>
>>>>> type Exception report
>>>>>
>>>>> message
>>>>>
>>>>> description The server encountered an internal error () that prevented
>>>>> it from fulfilling this request.
>>>>>
>>>>> exception
>>>>>
>>>>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error
>>>>> number 3 in 0: Could not initialize main XWiki context
>>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>>> document [name = [XWikiPreferences], type = [DOCUMENT], parent = [name =
>>>>> [XWiki], type = [SPACE], parent = [name = [xwiki], type = [WIKI], parent
>>>>> = [null]]]]
>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>>>>> configuration
>>>>>        org.apache.struts.action.RequestProcessor.processException(RequestProcessor.java:535)
>>>>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:433)
>>>>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>>>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>>>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>>>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>>>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>>>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>>>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>> root cause
>>>>>
>>>>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initialize
>>>>> main XWiki context
>>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>>> document [name = [XWikiPreferences], type = [DOCUMENT], parent = [name =
>>>>> [XWiki], type = [SPACE], parent = [name = [xwiki], type = [WIKI], parent
>>>>> = [null]]]]
>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>>>>> configuration
>>>>>        com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
>>>>>        com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
>>>>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
>>>>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>>>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>>>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>>>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>>>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>>>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>>>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>> root cause
>>>>>
>>>>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception while
>>>>> reading document [name = [XWikiPreferences], type = [DOCUMENT], parent =
>>>>> [name = [XWiki], type = [SPACE], parent = [name = [xwiki], type =
>>>>> [WIKI], parent = [null]]]]
>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>>>>> configuration
>>>>>        com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWikiHibernateStore.java:856)
>>>>>        com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCacheStore.java:283)
>>>>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>        com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>        com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java:821)
>>>>>        com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>        com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>        com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>        com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
>>>>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
>>>>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>>>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>>>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>>>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>>>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>>>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>>>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>> root cause
>>>>>
>>>>> org.hibernate.HibernateException: Can't find
>>>>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>        com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFactory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.java:118)
>>>>>        org.hibernate.cfg.Configuration.configure(Configuration.java:2157)
>>>>>        com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFactory$1.configure(DefaultHibernateSessionFactory.java:80)
>>>>>        com.xpn.xwiki.store.XWikiHibernateBaseStore.initHibernate(XWikiHibernateBaseStore.java:167)
>>>>>        com.xpn.xwiki.store.XWikiHibernateBaseStore.checkHibernate(XWikiHibernateBaseStore.java:550)
>>>>>        com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWikiHibernateStore.java:728)
>>>>>        com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCacheStore.java:283)
>>>>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>        com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>        com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java:821)
>>>>>        com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>        com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>        com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>        com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
>>>>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
>>>>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
>>>>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>>>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>>>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>>>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>>>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>>>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>>>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>>>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>> note The full stack trace of the root cause is available in the Apache
>>>>> Tomcat/6.0.35 logs.
>>>>>
>>>>> Apache Tomcat/6.0.35
>>>>> _______________________________________________
>>>>> users mailing list
>>>>> users@xwiki.org
>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>
>>>>
>>>>
>>> _______________________________________________
>>> users mailing list
>>> users@xwiki.org
>>> http://lists.xwiki.org/mailman/listinfo/users
>>
>>
>>
>> --
>> Thomas Mortagne
> 
> 
> 
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:38 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp43518igc;
        Fri, 2 Mar 2012 10:35:50 -0800 (PST)
Received: by 10.14.47.8 with SMTP id s8mr5165710eeb.91.1330713342825;
        Fri, 02 Mar 2012 10:35:42 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id w2si6031684eef.98.2012.03.02.10.35.39;
        Fri, 02 Mar 2012 10:35:42 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id C54DC6A646FE;
	Fri,  2 Mar 2012 18:31:45 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330713105; bh=oCUriBJ2HcaEQ4ip+5i+5Gw8miZWSagwjbJhnX6fGLw=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=ZZgas94+XARZgvg9z+3nu5yXxdU1RxqI8rQ5OjfApU1UxXpa9CHqx2HYUlCS0NKia
	 9er5eg3C9MLQIMt2joKRFrWDQafHCJ/TaJzLA2kZZiyGP6fNEc4XsSreNPhvHcGyUj
	 2nlt/zNqNNwf6LA0/asjtrt9eVGQ/VmvK4RHoEaw=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id BSLWRWumuzBC; Fri,  2 Mar 2012 18:31:45 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 359ED6A64700;
	Fri,  2 Mar 2012 18:31:44 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330713104; bh=oCUriBJ2HcaEQ4ip+5i+5Gw8miZWSagwjbJhnX6fGLw=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=kV+mdpS+yYOWAd+7N6FLxShJEeIieBIPTaxE/QxgHPgSKZRAmE2T+Zg4UfpuC7QoO
	 hehEVE7Xsn0XzcUF+JZ9i+NdhX7297fiu6FdkoHaaByigTTyg94OKq5pMpWuhgAJlf
	 Ttw3m/PfatUOAojp68hVQgZiH683VN3sWYNDYyNE=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 902C66A6469B
	for <users@xwiki.org>; Fri,  2 Mar 2012 18:31:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id XFRCCoyelQaJ for <users@xwiki.org>;
	Fri,  2 Mar 2012 18:30:48 +0000 (UTC)
Received: from mail-gx0-f179.google.com (mail-gx0-f179.google.com
	[209.85.161.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 55DED6A64700
	for <users@xwiki.org>; Fri,  2 Mar 2012 18:30:37 +0000 (UTC)
Received: by ggni2 with SMTP id i2so1200712ggn.24
	for <users@xwiki.org>; Fri, 02 Mar 2012 10:34:28 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.60.4.202 as permitted sender) client-ip=10.60.4.202;
Received: from mr.google.com ([10.60.4.202])
	by 10.60.4.202 with SMTP id m10mr5129824oem.10.1330713268022 (num_hops
	= 1); Fri, 02 Mar 2012 10:34:28 -0800 (PST)
MIME-Version: 1.0
Received: by 10.60.4.202 with SMTP id m10mr4366866oem.10.1330713267938; Fri,
	02 Mar 2012 10:34:27 -0800 (PST)
Received: by 10.182.172.66 with HTTP; Fri, 2 Mar 2012 10:34:27 -0800 (PST)
In-Reply-To: <4F50F673.6080300@richard-rafalski.de>
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
	<4F4DE0BC.8030706@richard-rafalski.de>
	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
	<CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
	<4F50F673.6080300@richard-rafalski.de>
Date: Fri, 2 Mar 2012 19:34:27 +0100
Message-ID: <CAPnKnLGFZD4_cHLLShUmGrbTHbs8dhfz0GJafGO4D8=+NeC8vQ@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQnEypJz3Wp2OYVaf2+X+xAvhGiNAU0EszFzxwCpmb7z3wyn5Hb2HIXcznKgm691kSXemkmV
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Fri, Mar 2, 2012 at 5:33 PM, Richard Rafalski
<mail@richard-rafalski.de> wrote:
> Hi Thomas,
>
> thank you for the last modifications on the deb packages.
>
> I've installed the package xwiki-enterprise-tomcat7-pgsql. The
> installation ran without probelms.
> Great!
>
> But I'am sorry to inform you that after pointing the webbrowser to
> http://xwikipg:8080/xwiki/ I got the well known
> "Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration"
> message.
>
> A quik look into /etc/xwiki showed
> -rw-r----- 1 root root 8.1K Mar =A02 16:08 hibernate.cfg.xml
>
> Changing group from root to tomcat7 and restarting the tomcat7 service
> solved the problem.
>
> Maybe there is still a problem with setting group/rights on
> hibernate.cfg.xml. I'am not shure.

That's weird I was sure I changed the right for it to be 644, will
checking this, maybe I modified it only in the mysql package. Should
be quickly fixed.

>
> Richard
>
> Am 29.02.2012 18:02, schrieb Thomas Mortagne:
>> On Wed, Feb 29, 2012 at 10:35 AM, Thomas Mortagne
>> <thomas.mortagne@xwiki.com> wrote:
>>> On Wed, Feb 29, 2012 at 9:24 AM, Richard Rafalski
>>> <mail@richard-rafalski.de> wrote:
>>>>
>>>> Am 28.02.2012 20:10, schrieb Thomas Mortagne:
>>>>> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
>>>>> <mail@richard-rafalski.de> wrote:
>>>>>> Hi,
>>>>>>
>>>>>> i have installed xwiki form the deb package
>>>>>> xwiki-enterprise-tomcat-pgsql version 3.5. =A0Then tried to contact =
the
>>>>>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is the
>>>>>> hostname where xwiki is running). No page came up. I got this error:
>>>>>>
>>>>>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>>
>>>>>> What to do now?
>>>>>
>>>>> Looks like there is something wrong with the potgre packages actually,
>>>>> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
>>>>> supposed to contain the version of tomcat now). But that's not
>>>>> related;
>>>>
>>>> Do you mean something like xwiki-enterprise-tomcat6-pgsql,
>>>> xwiki-enterprise-tomcat7-pgsql ? That would be nice.
>>>
>>> Yes, see you can see how it's done for mysql but for postgre they are
>>> all there but with the same xwiki-enterprise-tomcat-pgsql name... I
>>> forgot to change it during the refactoring and I mostly test mysql.
>>> Sorry about that.
>>>
>>>>
>>>>>
>>>>> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.xml
>>>>> template file ? I think there is an issue with the generation of the
>>>>> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking at
>>>>> it.
>>>>
>>>> I tried a new install on a completely fresh debian system. The problem
>>>> does not appear now. I think my old system was broken due to old failed
>>>> installations. Or did you change something meanwhile?
>>>
>>> Nop I did not change anything but I actually suspect that the issue is
>>> not fresh install but that the purge is wrong. That's what I plan to
>>> look at, thanks for the confirmation.
>>
>> Should be OK now.
>>
>> The issue was indeed in the purge script. This mean that you might
>> still have an issue with install, in that case you will need to do
>> install/remove --purge/install to cleanup everything.
>>
>>>
>>>>
>>>> Richard
>>>>
>>>>>
>>>>>>
>>>>>> Thanks for help
>>>>>>
>>>>>> Here is the full error text:
>>>>>>
>>>>>> HTTP Status 500 -
>>>>>>
>>>>>> type Exception report
>>>>>>
>>>>>> message
>>>>>>
>>>>>> description The server encountered an internal error () that prevent=
ed
>>>>>> it from fulfilling this request.
>>>>>>
>>>>>> exception
>>>>>>
>>>>>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error
>>>>>> number 3 in 0: Could not initialize main XWiki context
>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent =
=3D [name =3D
>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D [W=
IKI], parent
>>>>>> =3D [null]]]]
>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hiber=
nate
>>>>>> configuration
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processExce=
ption(RequestProcessor.java:535)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActi=
onPerform(RequestProcessor.java:433)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Req=
uestProcessor.java:236)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Action=
Servlet.java:1196)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionSe=
rvlet.java:414)
>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.ja=
va:617)
>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.ja=
va:717)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.=
java:128)
>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFi=
lter(ConversionFilter.java:144)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(X=
WikiDavFilter.java:68)
>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedReq=
uestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetChara=
cterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>> root cause
>>>>>>
>>>>>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initial=
ize
>>>>>> main XWiki context
>>>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent =
=3D [name =3D
>>>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D [W=
IKI], parent
>>>>>> =3D [null]]]]
>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hiber=
nate
>>>>>> configuration
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.jav=
a:136)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.jav=
a:116)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActi=
onPerform(RequestProcessor.java:431)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Req=
uestProcessor.java:236)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Action=
Servlet.java:1196)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionSe=
rvlet.java:414)
>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.ja=
va:617)
>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.ja=
va:717)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.=
java:128)
>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFi=
lter(ConversionFilter.java:144)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(X=
WikiDavFilter.java:68)
>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedReq=
uestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetChara=
cterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>> root cause
>>>>>>
>>>>>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception while
>>>>>> reading document [name =3D [XWikiPreferences], type =3D [DOCUMENT], =
parent =3D
>>>>>> [name =3D [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], t=
ype =3D
>>>>>> [WIKI], parent =3D [null]]]]
>>>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hiber=
nate
>>>>>> configuration
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(=
XWikiHibernateStore.java:856)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWik=
iCacheStore.java:283)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.=
java:821)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.jav=
a:136)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.jav=
a:116)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActi=
onPerform(RequestProcessor.java:431)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Req=
uestProcessor.java:236)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Action=
Servlet.java:1196)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionSe=
rvlet.java:414)
>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.ja=
va:617)
>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.ja=
va:717)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.=
java:128)
>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFi=
lter(ConversionFilter.java:144)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(X=
WikiDavFilter.java:68)
>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedReq=
uestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetChara=
cterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>> root cause
>>>>>>
>>>>>> org.hibernate.HibernateException: Can't find
>>>>>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSession=
Factory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.java:1=
18)
>>>>>> =A0 =A0 =A0 =A0org.hibernate.cfg.Configuration.configure(Configurati=
on.java:2157)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSession=
Factory$1.configure(DefaultHibernateSessionFactory.java:80)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.initHiber=
nate(XWikiHibernateBaseStore.java:167)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.checkHibe=
rnate(XWikiHibernateBaseStore.java:550)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(=
XWikiHibernateStore.java:728)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWik=
iCacheStore.java:283)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.=
java:821)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.jav=
a:136)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.jav=
a:116)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActi=
onPerform(RequestProcessor.java:431)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Req=
uestProcessor.java:236)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(Action=
Servlet.java:1196)
>>>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionSe=
rvlet.java:414)
>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.ja=
va:617)
>>>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.ja=
va:717)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.=
java:128)
>>>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFi=
lter(ConversionFilter.java:144)
>>>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(X=
WikiDavFilter.java:68)
>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedReq=
uestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetChara=
cterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>>>> note The full stack trace of the root cause is available in the Apac=
he
>>>>>> Tomcat/6.0.35 logs.
>>>>>>
>>>>>> Apache Tomcat/6.0.35
>>>>>> _______________________________________________
>>>>>> users mailing list
>>>>>> users@xwiki.org
>>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>>
>>>>>
>>>>>
>>>> _______________________________________________
>>>> users mailing list
>>>> users@xwiki.org
>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>
>>>
>>>
>>> --
>>> Thomas Mortagne
>>
>>
>>
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:39 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp15173igc;
        Thu, 1 Mar 2012 09:48:07 -0800 (PST)
Received: by 10.14.200.132 with SMTP id z4mr2767466een.122.1330624079956;
        Thu, 01 Mar 2012 09:47:59 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id c42si2586831eeo.73.2012.03.01.09.47.56;
        Thu, 01 Mar 2012 09:47:59 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id C8EA66A64702;
	Thu,  1 Mar 2012 17:44:08 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330623848; bh=USf2TDb8uXy8hHfcHg+Upx/k0SiascZQTnWO2gT0wxg=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=DptKNy4riJBLsNZpZZ4shMq+8bqjPxB0MSQt3GBy8bu4JIZYaMqcvd9pa+AE2HK39
	 eEPnJyP5PQNDHrPFAN3Z2oHL8C2ce0gyNG8jx7tgzGY+TxPvin/dl84qZFrdlUB/rc
	 HHeo57aPdyqGvkdZr7kOx3fkJE2S+dU4rdF4Yi38=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id sCBs65AavePj; Thu,  1 Mar 2012 17:44:08 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 6F3DC6A646F8;
	Thu,  1 Mar 2012 17:44:00 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330623840; bh=USf2TDb8uXy8hHfcHg+Upx/k0SiascZQTnWO2gT0wxg=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=s/jlVhLm43yrjeh+O8SctziR4sadL21GL/ZY/PPlgwMD6sNdvPEKUIWYPTVceVPjD
	 jrw3RkO6KsAjqTXpCPY7IaS8vnDQJiXsLnzBuC8+dvhTMWnkQ3MjWAP8xMTK6Cd1l6
	 UH/mKi/uMmQ5XUEy3uOFQ4UbkNt0wsL8PNgO+1O0=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id A04866A646F6
	for <users@xwiki.org>; Thu,  1 Mar 2012 17:43:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id cDP9+PMQ23TX for <users@xwiki.org>;
	Thu,  1 Mar 2012 17:43:53 +0000 (UTC)
Received: from mail-ww0-f43.google.com (mail-ww0-f43.google.com [74.125.82.43])
	by borabora.xwiki.com (Postfix) with ESMTPS id 3212E6A646F2
	for <users@xwiki.org>; Thu,  1 Mar 2012 17:43:53 +0000 (UTC)
Received: by wgbdr12 with SMTP id dr12so705265wgb.24
	for <users@xwiki.org>; Thu, 01 Mar 2012 09:47:39 -0800 (PST)
Received-SPF: pass (google.com: domain of maxime.sinclair@gmail.com designates
	10.180.92.229 as permitted sender) client-ip=10.180.92.229;
Received: from mr.google.com ([10.180.92.229])
	by 10.180.92.229 with SMTP id cp5mr13058695wib.8.1330624059464
	(num_hops = 1); Thu, 01 Mar 2012 09:47:39 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type:content-transfer-encoding;
	bh=vM47uNh24cAyCjCDMdnh8rScqYWpVg59Adrx/5c7TsM=;
	b=k9so4tiWJNl0JQ9JksXW3kk4hbLnwac5+KXSlcIY+LgUpmpKo4h+Ikf/Cchx/79dJc
	sk43vFVAshkfyVrDQVz9V6e4VPB8F8hjdljjTpjLwXdOlgDrjT1CScoqEqOT6ioSrXJm
	flsVB+BFCsSyizF6E/WUo1S6Su88QiOeFs3FQ=
MIME-Version: 1.0
Received: by 10.180.92.229 with SMTP id cp5mr10470601wib.8.1330624059393; Thu,
	01 Mar 2012 09:47:39 -0800 (PST)
Received: by 10.227.152.134 with HTTP; Thu, 1 Mar 2012 09:47:39 -0800 (PST)
In-Reply-To: <4F1F5687-6FEA-42CB-94FE-B49D0B09E843@massol.net>
References: <CAOFWY-NFSSmr+MSOUUVwkM54_9UHM6Aiz-xbaw+AH3t=A3P+CQ@mail.gmail.com>
	<CALC6keWKpXHVr8ef35SoDNsjhVpmTKLw9jv0=Q+Vj-gciwofjg@mail.gmail.com>
	<CAOFWY-OX4U5rCNXArx=uHdLAZZBDZweq3g5RUuw8C5hXs1H0ww@mail.gmail.com>
	<4F1F5687-6FEA-42CB-94FE-B49D0B09E843@massol.net>
Date: Thu, 1 Mar 2012 18:47:39 +0100
Message-ID: <CAOFWY-MY3gCgi_T7wO7_BPEZ5GawRZu=VBM7Efg9S0ZA8aH4rg@mail.gmail.com>
From: Maxime Sinclair <maxime.sinclair@gmail.com>
To: XWiki Users <users@xwiki.org>
Subject: Re: [xwiki-users] A link to create a page from a template
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="windows-1252"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi Vincent,

I would be very happy to use XWiki syntax 2.1, when the farm will be
in 3.5 (today in 2.7). I hope this will be soon.

Maxime

2012/3/1 Vincent Massol <vincent@massol.net>:
> Hi Maxime,
>
> On Mar 1, 2012, at 11:53 AM, Maxime Sinclair wrote:
>
>> Thanks a lot Guillaume for your quick answer.
>>
>> When I run the snippet on my xwiki farm, the link is invalid:
>> http://<server>/bin/create/Space//bin/edit/Space/Doc?template=3DSapce.My=
Template
>>
>> The trick I found (to keep it in the archive):
>> #set($myURL =3D $xwiki.getURL("Space.Doc", "create", "template=3DSpace.M=
yTemplate"))
>> {{html}}<a href=3D"$myURL">Create Space Doc</a>{{/html}}
>
> Don't use the HTML macro that's bad=85
>
> Instead use XWiki Syntax 2.1 and:
>
> [[label>>path:<relativepathhere>]]
>
> Thanks
> -Vincent
>
>>
>> Maxime
>>
>> 2012/2/29 Guillaume Lerouge <guillaume@xwiki.com>:
>>> Hi Maxime,
>>>
>>> something like this maybe:
>>>
>>> #set($myURL =3D $xwiki.getURL("Space.Doc", "edit",
>>> "template=3DSpace.MyTemplate"))
>>>
>>> [[Create Space Doc>>$myURL]]
>>>
>>> Guillaume
>>>
>>> On Wed, Feb 29, 2012 at 6:22 PM, Maxime Sinclair
>>> <maxime.sinclair@gmail.com>wrote:
>>>
>>>> Hi XWiki Users,
>>>>
>>>> I have defined a template page and the associated termplate provider.
>>>> All is functional: the template selection popup shows up when a new
>>>> page is created.
>>>> Now, I try to build a link (using Velocity) that will create a new
>>>> page from the template. Any idea ?
>>>>
>>>> Regards,
>>>> Maxime
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:39 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp23925igc;
        Thu, 1 Mar 2012 18:15:01 -0800 (PST)
Received: by 10.14.182.2 with SMTP id n2mr3478579eem.75.1330654493342;
        Thu, 01 Mar 2012 18:14:53 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id y13si3723758eeb.180.2012.03.01.18.14.50;
        Thu, 01 Mar 2012 18:14:53 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 12ECB6A646F9;
	Fri,  2 Mar 2012 02:11:01 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330654261; bh=L35lVkq/o+j5R43hSujM7sZDUB9i5EzFKG1ost7j2Lw=;
	h=From:To:Date:Message-ID:References:In-Reply-To:MIME-Version:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=WvHD7cmY4fJZiecwgTvWQJxNajo+tziYyG17y96TYkO8e6DUwdY7BlalHAMsWbzmB
	 aawzpig6eQVsoJt1WlqTNz36AkwmrD3zBuSeoepKOLEN99sVc0X7+yKl/g9hsLYnyC
	 BjQpSnlspvd2GjVAPWQibprUDxgk7LWV6tAwfsOY=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VY03PQCDWCBN; Fri,  2 Mar 2012 02:11:00 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 4B7846A646FD;
	Fri,  2 Mar 2012 02:11:00 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330654260; bh=L35lVkq/o+j5R43hSujM7sZDUB9i5EzFKG1ost7j2Lw=;
	h=From:To:Date:Message-ID:References:In-Reply-To:MIME-Version:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=t4Js6f009nG6y8D7yymhDnYLSKTkRzpPCInBKpv5RGrEZbEkqdVyJoMUJtQa/pa/y
	 bHScBzr1wgZKBMJLM2sEGrsztcNA+YOrk4R+2iglgbkuaSon7vkBqS+SA8gC57/9p2
	 FGsIKFmjGxLevP8R7a84FRMaewqON/rNCOH5drJw=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 7D9386A646F9
	for <users@xwiki.org>; Fri,  2 Mar 2012 02:10:58 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id VKziIcHu3xO8 for <users@xwiki.org>;
	Fri,  2 Mar 2012 02:10:57 +0000 (UTC)
Received: from mail01.sergas.es (mail01.sergas.es [217.124.244.71])
	by borabora.xwiki.com (Postfix) with ESMTP id 976DD6A640C9
	for <users@xwiki.org>; Fri,  2 Mar 2012 02:10:56 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="4.73,515,1325458800"; d="scan'208";a="59929640"
Received: from unknown (HELO asscc1025s.sergas.local) ([217.124.244.80])
	by mail01.sergas.es with ESMTP; 02 Mar 2012 03:14:44 +0100
Received: from ASSCCEVS03.sergas.local ([69.117.38.38]) by
	asscc1025s.sergas.local ([69.117.37.34]) with mapi;
	Fri, 2 Mar 2012 03:14:44 +0100
From: <Ricardo.Julio.Rodriguez.Fernandez@sergas.es>
To: <users@xwiki.org>
Date: Fri, 2 Mar 2012 03:14:44 +0100
Thread-Topic: [xwiki-users] SQL vs HQL cross join ()
Thread-Index: Acz39AcoWRRTxw7eQMesjBqUu0F61QAI2+Oz
Message-ID: <244BFA3AE9F83C4A8261E27189707237010296CF7036@ASSCCEVS03.sergas.local>
References: <244BFA3AE9F83C4A8261E27189707237010293C749A3@ASSCCEVS03.sergas.local>,
	<167AF387-A126-45EA-B558-A3213474F4DD@massol.net>
In-Reply-To: <167AF387-A126-45EA-B558-A3213474F4DD@massol.net>
Accept-Language: en-US, es-ES
Content-Language: en-GB
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US, es-ES
MIME-Version: 1.0
Subject: Re: [xwiki-users] SQL vs HQL cross join ()
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi!
________________________________________
From: users-bounces@xwiki.org [users-bounces@xwiki.org] On Behalf Of Vincen=
t Massol [vincent@massol.net]
Sent: 01 March 2012 22:10
To: XWiki Users
Subject: Re: [xwiki-users] SQL vs HQL cross join ()

>> Hi,
>>
>> I haven't looked in your mail in details but maybe it's related to http:=
//jira.xwiki.org/jira/browse/XWIKI-7542

It sounds like a similar issue although we are using MySQL and HQL here. I'=
ll install a snapshot ASAP and test the query, then I'll provide more infor=
mation in the pieces used here it it keeps failing.

Thanks, Vincent!

Ricardo

>>
>> -Vincent

On Mar 1, 2012, at 9:52 PM, <Ricardo.Julio.Rodriguez.Fernandez@sergas.es> <=
Ricardo.Julio.Rodriguez.Fernandez@sergas.es> wrote:

> Hi,
>
> I'm trying to get the values of two fields from xwikiattahment table with=
 this HQL query:
>
> select att.filename,att.date from xwiki.xwikiattachment att, xwiki.xwikid=
oc doc where doc.fullName=3D'Event.IIXornadaIDIS' and att.filename like '%a=
bstract%' and att.date > '2012-03-01' and att.docId=3Ddoc.id order by att.f=
ilename;
>
> The query fails. When used to get only one field, it works fine. For inst=
ance...
>
> select att.date from xwiki.xwikiattachment att, xwiki.xwikidoc doc where =
doc.fullName=3D'Event.IIXornadaIDIS' and att.filename like '%abstract%' and=
 att.date > '2012-03-01' and att.docId=3Ddoc.id order by att.filename;
>
> or
>
> select att.filename from xwiki.xwikiattachment att, xwiki.xwikidoc doc wh=
ere doc.fullName=3D'Event.IIXornadaIDIS' and att.filename like '%abstract%'=
 and att.date > '2012-03-01' and att.docId=3Ddoc.id order by att.filename;
>
> and, the SQL equivalent to the in troubles query works also fine. This wa=
y...
>
> select att.XWA_FILENAME,att.XWA_DATE from xwiki.xwikiattachment att, xwik=
i.xwikidoc doc
> where doc.XWD_FULLNAME=3D'Event.IIXornadaIDIS' and att.XWA_FILENAME like =
'%abstract%' and att.XWA_DATE > '2012-03-01' and att.XWA_DOC_ID=3Ddoc.XWD_I=
D order by att.XWA_FILENAME;
>
> Please, where am I wrong when trying select att.filename,att.date from xw=
iki.xwikiattachment att,...?
>
> I'm running XWiki Enterprise 2.4.30451.
>
> Thanks for your help!
>
> Ricardo
>
> --
> Ricardo Rodr=EDguez
> Research Management and Promotion Technician
> Health Research Institute of Santiago de Compostela (IDIS)
> http://www.idisantiago.es
>
> Nota: A informaci=F3n contida nesta mensaxe e os seus posibles documentos=
 adxuntos =E9 privada e confidencial e est=E1 dirixida =FAnicamente =F3 seu=
 destinatario/a. Se vostede non =E9 o/a destinatario/a orixinal desta mensa=
xe, por favor elim=EDnea. A distribuci=F3n ou copia desta mensaxe non est=
=E1 autorizada.
>
> Nota: La informaci=F3n contenida en este mensaje y sus posibles documento=
s adjuntos es privada y confidencial y est=E1 dirigida =FAnicamente a su de=
stinatario/a. Si usted no es el/la destinatario/a original de este mensaje,=
 por favor elim=EDnelo. La distribuci=F3n o copia de este mensaje no est=E1=
 autorizada.
>
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users

Nota: A informaci=F3n contida nesta mensaxe e os seus posibles documentos a=
dxuntos =E9 privada e confidencial e est=E1 dirixida =FAnicamente =F3 seu d=
estinatario/a. Se vostede non =E9 o/a destinatario/a orixinal desta mensaxe=
, por favor elim=EDnea. A distribuci=F3n ou copia desta mensaxe non est=E1 =
autorizada.

Nota: La informaci=F3n contenida en este mensaje y sus posibles documentos =
adjuntos es privada y confidencial y est=E1 dirigida =FAnicamente a su dest=
inatario/a. Si usted no es el/la destinatario/a original de este mensaje, p=
or favor elim=EDnelo. La distribuci=F3n o copia de este mensaje no est=E1 a=
utorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:39 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp19769igc;
        Thu, 1 Mar 2012 12:53:07 -0800 (PST)
Received: by 10.213.113.10 with SMTP id y10mr733148ebp.36.1330635179282;
        Thu, 01 Mar 2012 12:52:59 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id p9si3038638eef.156.2012.03.01.12.52.51;
        Thu, 01 Mar 2012 12:52:59 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 5E29D6A64708;
	Thu,  1 Mar 2012 20:49:03 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330634943; bh=RqXbcrsxkw0gR9pU751VTGD1haiKV09DRFSos9BW3jU=;
	h=From:To:Date:Message-ID:MIME-Version:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=fTEuqAMrg/Wt8/mdl357yY7g1Qz5SGSyCnE+dOf7gvlj/Gz+6zIqT4NWbI9Nvu7Dn
	 KIQ2caJOgHss1WEG29Bw6crVl8kYB1u6UiqJNwZVWIF0KhiY34IwZJNcfcIZaqp0A2
	 s/6fmScf/Zx+qmPAZWpYo3x1Zqg8tDwSSYU2QxLo=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id pcX6pt6PxC37; Thu,  1 Mar 2012 20:49:03 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id CD6BE6A64705;
	Thu,  1 Mar 2012 20:49:02 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330634943; bh=RqXbcrsxkw0gR9pU751VTGD1haiKV09DRFSos9BW3jU=;
	h=From:To:Date:Message-ID:MIME-Version:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=fTEuqAMrg/Wt8/mdl357yY7g1Qz5SGSyCnE+dOf7gvlj/Gz+6zIqT4NWbI9Nvu7Dn
	 KIQ2caJOgHss1WEG29Bw6crVl8kYB1u6UiqJNwZVWIF0KhiY34IwZJNcfcIZaqp0A2
	 s/6fmScf/Zx+qmPAZWpYo3x1Zqg8tDwSSYU2QxLo=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id CF6F86A646F9
	for <users@xwiki.org>; Thu,  1 Mar 2012 20:48:57 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id LtDmjrhYUzRA for <users@xwiki.org>;
	Thu,  1 Mar 2012 20:48:54 +0000 (UTC)
Received: from mail02.sergas.es (mail02.sergas.es [217.124.244.72])
	by borabora.xwiki.com (Postfix) with ESMTP id 0DC6A6A6455C
	for <users@xwiki.org>; Thu,  1 Mar 2012 20:48:54 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="4.73,513,1325458800"; 
   d="scan'208";a="6408783"
Received: from unknown (HELO ASSCC462S.sergas.local) ([217.124.244.78])
	by mail02.sergas.es with ESMTP; 01 Mar 2012 21:52:39 +0100
Received: from ASSCCEVS03.sergas.local ([69.117.38.36]) by
	ASSCC462S.sergas.local ([69.117.36.32]) with mapi;
	Thu, 1 Mar 2012 21:52:38 +0100
From: <Ricardo.Julio.Rodriguez.Fernandez@sergas.es>
To: <users@xwiki.org>
Date: Thu, 1 Mar 2012 21:52:38 +0100
Thread-Topic: SQL vs HQL cross join ()
Thread-Index: AQHM9+08O37UNNPhMkGYySIlEL1LaA==
Message-ID: <244BFA3AE9F83C4A8261E27189707237010293C749A3@ASSCCEVS03.sergas.local>
Accept-Language: en-US, es-ES
Content-Language: en-GB
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US, es-ES
MIME-Version: 1.0
Subject: [xwiki-users] SQL vs HQL cross join ()
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi,

I'm trying to get the values of two fields from xwikiattahment table with t=
his HQL query:

select att.filename,att.date from xwiki.xwikiattachment att, xwiki.xwikidoc=
 doc where doc.fullName=3D'Event.IIXornadaIDIS' and att.filename like '%abs=
tract%' and att.date > '2012-03-01' and att.docId=3Ddoc.id order by att.fil=
ename;

The query fails. When used to get only one field, it works fine. For instan=
ce...

select att.date from xwiki.xwikiattachment att, xwiki.xwikidoc doc where do=
c.fullName=3D'Event.IIXornadaIDIS' and att.filename like '%abstract%' and a=
tt.date > '2012-03-01' and att.docId=3Ddoc.id order by att.filename;

or

select att.filename from xwiki.xwikiattachment att, xwiki.xwikidoc doc wher=
e doc.fullName=3D'Event.IIXornadaIDIS' and att.filename like '%abstract%' a=
nd att.date > '2012-03-01' and att.docId=3Ddoc.id order by att.filename;

and, the SQL equivalent to the in troubles query works also fine. This way.=
..

select att.XWA_FILENAME,att.XWA_DATE from xwiki.xwikiattachment att, xwiki.=
xwikidoc doc
where doc.XWD_FULLNAME=3D'Event.IIXornadaIDIS' and att.XWA_FILENAME like '%=
abstract%' and att.XWA_DATE > '2012-03-01' and att.XWA_DOC_ID=3Ddoc.XWD_ID =
order by att.XWA_FILENAME;

Please, where am I wrong when trying select att.filename,att.date from xwik=
i.xwikiattachment att,...?

I'm running XWiki Enterprise 2.4.30451.

Thanks for your help!

Ricardo

--
Ricardo Rodr=EDguez
Research Management and Promotion Technician
Health Research Institute of Santiago de Compostela (IDIS)
http://www.idisantiago.es

Nota: A informaci=F3n contida nesta mensaxe e os seus posibles documentos a=
dxuntos =E9 privada e confidencial e est=E1 dirixida =FAnicamente =F3 seu d=
estinatario/a. Se vostede non =E9 o/a destinatario/a orixinal desta mensaxe=
, por favor elim=EDnea. A distribuci=F3n ou copia desta mensaxe non est=E1 =
autorizada.

Nota: La informaci=F3n contenida en este mensaje y sus posibles documentos =
adjuntos es privada y confidencial y est=E1 dirigida =FAnicamente a su dest=
inatario/a. Si usted no es el/la destinatario/a original de este mensaje, p=
or favor elim=EDnelo. La distribuci=F3n o copia de este mensaje no est=E1 a=
utorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:39 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp15647igc;
        Thu, 1 Mar 2012 10:07:11 -0800 (PST)
Received: by 10.14.53.7 with SMTP id f7mr2759874eec.105.1330625223082;
        Thu, 01 Mar 2012 10:07:03 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id c43si2649745eeo.22.2012.03.01.10.07.01;
        Thu, 01 Mar 2012 10:07:03 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 030926A6306A;
	Thu,  1 Mar 2012 18:03:14 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330624994; bh=kbug+bWzP88glgPoEe+cgaKQvuIcjiGaUam+i4zyDGE=;
	h=Mime-Version:From:In-Reply-To:Date:Message-Id:References:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=akTBefk+LhT3TF7z6vohklTjAWePSn0IyQEVTY1sTHa3DhAV0cVpnqSCOeSwm1piy
	 DsZ9Tx0tchAMb2pwshwngQ+L5TR8NWFZn1jdVfX6CAEEs/Mcj7Qud9hN8nQV5svb+A
	 AXj6Tmdf4lxwVCvrvMhWspG32UOFsKjf0g3ovy7Q=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id kxoKH9nSxrt4; Thu,  1 Mar 2012 18:03:13 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 149716A646F6;
	Thu,  1 Mar 2012 18:03:05 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330624985; bh=kbug+bWzP88glgPoEe+cgaKQvuIcjiGaUam+i4zyDGE=;
	h=Mime-Version:From:In-Reply-To:Date:Message-Id:References:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=YBm7kMDycxkUA4Cc2Kcj1I94MI9J2dx9crMnNwboGgsHyybHXk6qE3rNBjONyRhPl
	 4MI0rd5yGIbQ/u87WBQnSUsuGMpSePoxf0XgtLmzRCbdFdlAyG+aqnTrd391psANww
	 s8pILXjJispW8mE3Hc/9d1VzzsHirUWtJpjRQgAg=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 9C62D6A646F8
	for <users@xwiki.org>; Thu,  1 Mar 2012 18:02:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id yuGOit0SSiHQ for <users@xwiki.org>;
	Thu,  1 Mar 2012 18:02:44 +0000 (UTC)
Received: from mail-we0-f179.google.com (mail-we0-f179.google.com
	[74.125.82.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id DC76C6A646F6
	for <users@xwiki.org>; Thu,  1 Mar 2012 18:02:41 +0000 (UTC)
Received: by werg1 with SMTP id g1so676535wer.24
	for <users@xwiki.org>; Thu, 01 Mar 2012 10:05:33 -0800 (PST)
Received-SPF: pass (google.com: domain of vmassol@gmail.com designates
	10.180.19.227 as permitted sender) client-ip=10.180.19.227;
Received: from mr.google.com ([10.180.19.227])
	by 10.180.19.227 with SMTP id i3mr4867195wie.17.1330625133173 (num_hops
	= 1); Thu, 01 Mar 2012 10:05:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=sender:content-type:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to:x-mailer;
	bh=Q6GjlhMcaMheaZoBIctCV0GR/rgGnD4XRriJtNRG7Gg=;
	b=fexALjGHtDoyOrBtwKUfVAmt54MDpJDO+ohHSK0SwYUal+Q6TtjYYEHHbWYJXXy2Ja
	PCYJm5cUhQoiKnFG1jsbYDhQfcUkOH4xQA9pPDugkY0ZlTaei2l5QRqpuYgMdjpKwyRq
	uBgiQ3ZpsKOjHAn317CHb+/oz9JS+daE1DqvM=
Received: by 10.180.19.227 with SMTP id i3mr3929972wie.17.1330625133013;
	Thu, 01 Mar 2012 10:05:33 -0800 (PST)
Received: from [192.168.0.10] (lam60-1-82-233-128-14.fbx.proxad.net.
	[82.233.128.14])
	by mx.google.com with ESMTPS id s8sm43341419wiz.8.2012.03.01.10.05.31
	(version=TLSv1/SSLv3 cipher=OTHER);
	Thu, 01 Mar 2012 10:05:32 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v1257)
From: Vincent Massol <vincent@massol.net>
In-Reply-To: <CAOFWY-MY3gCgi_T7wO7_BPEZ5GawRZu=VBM7Efg9S0ZA8aH4rg@mail.gmail.com>
Date: Thu, 1 Mar 2012 19:05:27 +0100
Message-Id: <1FF735BE-30DF-4C8B-ADDD-20073E7DAB39@massol.net>
References: <CAOFWY-NFSSmr+MSOUUVwkM54_9UHM6Aiz-xbaw+AH3t=A3P+CQ@mail.gmail.com>
	<CALC6keWKpXHVr8ef35SoDNsjhVpmTKLw9jv0=Q+Vj-gciwofjg@mail.gmail.com>
	<CAOFWY-OX4U5rCNXArx=uHdLAZZBDZweq3g5RUuw8C5hXs1H0ww@mail.gmail.com>
	<4F1F5687-6FEA-42CB-94FE-B49D0B09E843@massol.net>
	<CAOFWY-MY3gCgi_T7wO7_BPEZ5GawRZu=VBM7Efg9S0ZA8aH4rg@mail.gmail.com>
To: XWiki Users <users@xwiki.org>
X-Mailer: Apple Mail (2.1257)
Subject: Re: [xwiki-users] A link to create a page from a template
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="windows-1252"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org


On Mar 1, 2012, at 6:47 PM, Maxime Sinclair wrote:

> Hi Vincent,
> =

> I would be very happy to use XWiki syntax 2.1, when the farm will be
> in 3.5 (today in 2.7). I hope this will be soon.

ok ;)

Then indeed you have no other choice that either to make the URL absolute (=
with getExternalURL) or use the HTML macro.

-Vincent

> Maxime
> =

> 2012/3/1 Vincent Massol <vincent@massol.net>:
>> Hi Maxime,
>> =

>> On Mar 1, 2012, at 11:53 AM, Maxime Sinclair wrote:
>> =

>>> Thanks a lot Guillaume for your quick answer.
>>> =

>>> When I run the snippet on my xwiki farm, the link is invalid:
>>> http://<server>/bin/create/Space//bin/edit/Space/Doc?template=3DSapce.M=
yTemplate
>>> =

>>> The trick I found (to keep it in the archive):
>>> #set($myURL =3D $xwiki.getURL("Space.Doc", "create", "template=3DSpace.=
MyTemplate"))
>>> {{html}}<a href=3D"$myURL">Create Space Doc</a>{{/html}}
>> =

>> Don't use the HTML macro that's bad=85
>> =

>> Instead use XWiki Syntax 2.1 and:
>> =

>> [[label>>path:<relativepathhere>]]
>> =

>> Thanks
>> -Vincent
>> =

>>> =

>>> Maxime
>>> =

>>> 2012/2/29 Guillaume Lerouge <guillaume@xwiki.com>:
>>>> Hi Maxime,
>>>> =

>>>> something like this maybe:
>>>> =

>>>> #set($myURL =3D $xwiki.getURL("Space.Doc", "edit",
>>>> "template=3DSpace.MyTemplate"))
>>>> =

>>>> [[Create Space Doc>>$myURL]]
>>>> =

>>>> Guillaume
>>>> =

>>>> On Wed, Feb 29, 2012 at 6:22 PM, Maxime Sinclair
>>>> <maxime.sinclair@gmail.com>wrote:
>>>> =

>>>>> Hi XWiki Users,
>>>>> =

>>>>> I have defined a template page and the associated termplate provider.
>>>>> All is functional: the template selection popup shows up when a new
>>>>> page is created.
>>>>> Now, I try to build a link (using Velocity) that will create a new
>>>>> page from the template. Any idea ?
>>>>> =

>>>>> Regards,
>>>>> Maxime
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:39 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp28532igc;
        Thu, 1 Mar 2012 23:24:07 -0800 (PST)
Received: by 10.180.87.100 with SMTP id w4mr1863683wiz.22.1330673039863;
        Thu, 01 Mar 2012 23:23:59 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id y18si4348054eeh.37.2012.03.01.23.23.57;
        Thu, 01 Mar 2012 23:23:59 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 196CF6A646F9;
	Fri,  2 Mar 2012 07:20:07 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330672807; bh=dnnxHcqWeU9Y0DMnc3GlA/tq3iMDdsj/nuM+tHa25lA=;
	h=From:To:Date:Message-ID:MIME-Version:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=EEkYy3tLqUcgNwhklIQw9TVNDybu5REV3tgbsxZ6EcwC1g41vcvEp0RcD6eephQ+B
	 6CPskDze7XyEet4VJM8zikMDNVhq4nODCKiqtY85y66/4BpGhr69WgJ+ZMClVFMemd
	 r32V5lAR7QCcrj5GqmEyFgx9DCpipKafMSnpG2yg=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id I8yE7+auhvEj; Fri,  2 Mar 2012 07:20:06 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 410536A646FD;
	Fri,  2 Mar 2012 07:20:05 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330672805; bh=dnnxHcqWeU9Y0DMnc3GlA/tq3iMDdsj/nuM+tHa25lA=;
	h=From:To:Date:Message-ID:MIME-Version:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=psIaNkIBK5c/SqDMXHebfC7aYX1IZvr5VYXQlhCqiHk8TSolRzXXOReb0q0cro3Yj
	 N6Ukp+FEP5rLBQxc48Gt2wEpzJXGXwVvgJAQRVbbmUlx8zY0KXjv01a+L30Bi61+f5
	 0rylrSsEZVtV9F9ztwUywYdoHCIaZQkYuN5t1KQY=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id DDBB86A646F9
	for <users@xwiki.org>; Fri,  2 Mar 2012 07:20:02 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id uFdyeuImqqcw for <users@xwiki.org>;
	Fri,  2 Mar 2012 07:20:00 +0000 (UTC)
Received: from mail01.sergas.es (mail01.sergas.es [217.124.244.71])
	by borabora.xwiki.com (Postfix) with ESMTP id 68F6A6A63077
	for <users@xwiki.org>; Fri,  2 Mar 2012 07:20:00 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="4.73,517,1325458800"; d="scan'208";a="59934790"
Received: from unknown (HELO asscc1025s.sergas.local) ([217.124.244.80])
	by mail01.sergas.es with ESMTP; 02 Mar 2012 08:23:48 +0100
Received: from ASSCCEVS03.sergas.local ([69.117.38.38]) by
	asscc1025s.sergas.local ([69.117.37.34]) with mapi;
	Fri, 2 Mar 2012 08:23:44 +0100
From: <Ricardo.Julio.Rodriguez.Fernandez@sergas.es>
To: <users@xwiki.org>
Date: Fri, 2 Mar 2012 08:23:43 +0100
Thread-Topic: how to count the occurance of a string in a XWiki page content?
Thread-Index: AQHM+EVmDWlV4ecY8EGlqeN1qDbV3w==
Message-ID: <244BFA3AE9F83C4A8261E27189707237010296CF7038@ASSCCEVS03.sergas.local>
Accept-Language: en-US, es-ES
Content-Language: en-GB
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US, es-ES
MIME-Version: 1.0
Subject: [xwiki-users] how to count the occurance of a string in a XWiki
	page content?
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi everybody,

Sorry to jump into the list wihtout googling too much!

Please, is there any easy way to count the occurance of a string in a XWiki=
 page content?

I found examples for looping through a text looking for a given string usin=
g, for instance, Velocity. Please, is there some method/function that could=
 give us this result "out of the box"?

Thank you so much for your help!

Ricardo

--
Ricardo Rodr=EDguez
Research Management and Promotion Technician
Health Research Institute of Santiago de Compostela (IDIS)
http://www.idisantiago.es

Nota: A informaci=F3n contida nesta mensaxe e os seus posibles documentos a=
dxuntos =E9 privada e confidencial e est=E1 dirixida =FAnicamente =F3 seu d=
estinatario/a. Se vostede non =E9 o/a destinatario/a orixinal desta mensaxe=
, por favor elim=EDnea. A distribuci=F3n ou copia desta mensaxe non est=E1 =
autorizada.

Nota: La informaci=F3n contenida en este mensaje y sus posibles documentos =
adjuntos es privada y confidencial y est=E1 dirigida =FAnicamente a su dest=
inatario/a. Si usted no es el/la destinatario/a original de este mensaje, p=
or favor elim=EDnelo. La distribuci=F3n o copia de este mensaje no est=E1 a=
utorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:39 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp20028igc;
        Thu, 1 Mar 2012 13:11:19 -0800 (PST)
Received: by 10.14.39.130 with SMTP id d2mr1925125eeb.84.1330636271353;
        Thu, 01 Mar 2012 13:11:11 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id u8si3084088een.144.2012.03.01.13.11.08;
        Thu, 01 Mar 2012 13:11:09 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (2048-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id DCA046A6470F;
	Thu,  1 Mar 2012 21:07:20 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330636040; bh=wKszYvcS114yH+PRPTUU75uahKMCMfihhrgcKl/OEg0=;
	h=Mime-Version:From:In-Reply-To:Date:Message-Id:References:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=GDQFmmCC2CNuj/ig/NqqzgAaMDSVMJOBAToJJSDnixy9o56zm+6AdxIH5lvJviCCZ
	 +O3gGjvS586a7Ati1vSc6pGEH3z1IEfOCUK/jQNz7B5dHaZcfRM/gN6BxAQDATbaVM
	 jpOCEBPmCbumfaRdYvprHglH4APpvUdyW60O+w2o=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id XtbbShD7SoI7; Thu,  1 Mar 2012 21:07:20 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 539476A64707;
	Thu,  1 Mar 2012 21:07:19 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330636039; bh=wKszYvcS114yH+PRPTUU75uahKMCMfihhrgcKl/OEg0=;
	h=Mime-Version:From:In-Reply-To:Date:Message-Id:References:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=g4eQ5yHyLtg1SJFousDE8dfCcxIaMHAmWnziho18qS8RQ5xl7uxjI40n1MDaySVkL
	 uoNUC66L83nUdIN5xRfriBa1X+W5+FKCM/EncDfq1ApJZMqwSDYhtjRyOXRhdVaKrt
	 UpxLYDqEDsO3VVKHfNpnzlz0iKgTr8Da4vh1JScw=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 9B1146A64705
	for <users@xwiki.org>; Thu,  1 Mar 2012 21:07:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id DFW1xhoQM9Nc for <users@xwiki.org>;
	Thu,  1 Mar 2012 21:07:14 +0000 (UTC)
Received: from mail-ww0-f43.google.com (mail-ww0-f43.google.com [74.125.82.43])
	by borabora.xwiki.com (Postfix) with ESMTPS id A65E36A6306D
	for <users@xwiki.org>; Thu,  1 Mar 2012 21:07:14 +0000 (UTC)
Received: by wgbdr12 with SMTP id dr12so842463wgb.24
	for <users@xwiki.org>; Thu, 01 Mar 2012 13:11:00 -0800 (PST)
Received-SPF: pass (google.com: domain of vmassol@gmail.com designates
	10.180.103.35 as permitted sender) client-ip=10.180.103.35;
Received: from mr.google.com ([10.180.103.35])
	by 10.180.103.35 with SMTP id ft3mr14453595wib.0.1330636260764
	(num_hops = 1); Thu, 01 Mar 2012 13:11:00 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;
	h=sender:content-type:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to:x-mailer;
	bh=gz7U9WLfutyQdI1OzK7zOxL5JlxZHNu6EHzppZlVEMM=;
	b=hf/XrSBdq1mRvrzYed5nWfDtNzzViXNnijHSnI4WhDDMATRS3ivmXTJiKwEoBefR7B
	Y3Vl0ip5oFPsWmxM1MxLOVY2HeZwk6NzAfM3O1eNtH7NueEWibUznWNBkE/ZhFN2lhkA
	ttlo6cidVQJzEEA+sHo28xEQHRcOdveuRx+IGZ7jZbgbyxsteSUs7GZS7j3Mt5CyVUCX
	FNAtTUQo4Dl3Gmm4iXlFCe3rD3+kLTzxeogZvSFnhm8ssqgkkk/ggm1F4Snjm1HDqKPp
	ULic1erlHHJS7LOEy2/ctopBtD8rL2AaJ4ppr+YPV0ju4vQ+3JzmUJ3I+NqOHdl43wWr
	D1OQ==
Received: by 10.180.103.35 with SMTP id ft3mr11589359wib.0.1330636260666;
	Thu, 01 Mar 2012 13:11:00 -0800 (PST)
Received: from [192.168.0.10] (lam60-1-82-233-128-14.fbx.proxad.net.
	[82.233.128.14])
	by mx.google.com with ESMTPS id p10sm45030393wic.0.2012.03.01.13.10.58
	(version=TLSv1/SSLv3 cipher=OTHER);
	Thu, 01 Mar 2012 13:10:59 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v1257)
From: Vincent Massol <vincent@massol.net>
In-Reply-To: <244BFA3AE9F83C4A8261E27189707237010293C749A3@ASSCCEVS03.sergas.local>
Date: Thu, 1 Mar 2012 22:10:53 +0100
Message-Id: <167AF387-A126-45EA-B558-A3213474F4DD@massol.net>
References: <244BFA3AE9F83C4A8261E27189707237010293C749A3@ASSCCEVS03.sergas.local>
To: XWiki Users <users@xwiki.org>
X-Mailer: Apple Mail (2.1257)
Subject: Re: [xwiki-users] SQL vs HQL cross join ()
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi,

I haven't looked in your mail in details but maybe it's related to http://j=
ira.xwiki.org/jira/browse/XWIKI-7542

-Vincent

On Mar 1, 2012, at 9:52 PM, <Ricardo.Julio.Rodriguez.Fernandez@sergas.es> <=
Ricardo.Julio.Rodriguez.Fernandez@sergas.es> wrote:

> Hi,
> =

> I'm trying to get the values of two fields from xwikiattahment table with=
 this HQL query:
> =

> select att.filename,att.date from xwiki.xwikiattachment att, xwiki.xwikid=
oc doc where doc.fullName=3D'Event.IIXornadaIDIS' and att.filename like '%a=
bstract%' and att.date > '2012-03-01' and att.docId=3Ddoc.id order by att.f=
ilename;
> =

> The query fails. When used to get only one field, it works fine. For inst=
ance...
> =

> select att.date from xwiki.xwikiattachment att, xwiki.xwikidoc doc where =
doc.fullName=3D'Event.IIXornadaIDIS' and att.filename like '%abstract%' and=
 att.date > '2012-03-01' and att.docId=3Ddoc.id order by att.filename;
> =

> or
> =

> select att.filename from xwiki.xwikiattachment att, xwiki.xwikidoc doc wh=
ere doc.fullName=3D'Event.IIXornadaIDIS' and att.filename like '%abstract%'=
 and att.date > '2012-03-01' and att.docId=3Ddoc.id order by att.filename;
> =

> and, the SQL equivalent to the in troubles query works also fine. This wa=
y...
> =

> select att.XWA_FILENAME,att.XWA_DATE from xwiki.xwikiattachment att, xwik=
i.xwikidoc doc
> where doc.XWD_FULLNAME=3D'Event.IIXornadaIDIS' and att.XWA_FILENAME like =
'%abstract%' and att.XWA_DATE > '2012-03-01' and att.XWA_DOC_ID=3Ddoc.XWD_I=
D order by att.XWA_FILENAME;
> =

> Please, where am I wrong when trying select att.filename,att.date from xw=
iki.xwikiattachment att,...?
> =

> I'm running XWiki Enterprise 2.4.30451.
> =

> Thanks for your help!
> =

> Ricardo
> =

> --
> Ricardo Rodr=EDguez
> Research Management and Promotion Technician
> Health Research Institute of Santiago de Compostela (IDIS)
> http://www.idisantiago.es
> =

> Nota: A informaci=F3n contida nesta mensaxe e os seus posibles documentos=
 adxuntos =E9 privada e confidencial e est=E1 dirixida =FAnicamente =F3 seu=
 destinatario/a. Se vostede non =E9 o/a destinatario/a orixinal desta mensa=
xe, por favor elim=EDnea. A distribuci=F3n ou copia desta mensaxe non est=
=E1 autorizada.
> =

> Nota: La informaci=F3n contenida en este mensaje y sus posibles documento=
s adjuntos es privada y confidencial y est=E1 dirigida =FAnicamente a su de=
stinatario/a. Si usted no es el/la destinatario/a original de este mensaje,=
 por favor elim=EDnelo. La distribuci=F3n o copia de este mensaje no est=E1=
 autorizada.
> =

> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
> =

_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:39 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp7908igc;
        Thu, 1 Mar 2012 04:36:36 -0800 (PST)
Received: by 10.14.95.141 with SMTP id p13mr2239779eef.73.1330605388870;
        Thu, 01 Mar 2012 04:36:28 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id d4si1647770eei.32.2012.03.01.04.36.27;
        Thu, 01 Mar 2012 04:36:28 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 04FA36A6471A;
	Thu,  1 Mar 2012 12:32:42 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330605162; bh=k0Fry2Df9QX1zfo+epUgKrTNAa6npeDewIrc44QGaqA=;
	h=MIME-Version:Date:Message-ID:From:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=sxA3kJK/gCCTEkEmgz+byhI0b+TV5stCAbb1Q9fcDUX3xyC3l2Hcg+5e3VKXKTXjX
	 T7nYPRYwoKNRScqr9uvhqQYWVyo8yzPMbHa5ACJHYC5Pt/uLbYuXRc0CCAXyfNuTSA
	 XNZFkQ2OmKZDGk0ACrZB2Rqn+1qXyNcIHA5s8L/0=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id guAZyCDplv4J; Thu,  1 Mar 2012 12:32:41 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 3B7E76A64707;
	Thu,  1 Mar 2012 12:32:28 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330605149; bh=k0Fry2Df9QX1zfo+epUgKrTNAa6npeDewIrc44QGaqA=;
	h=MIME-Version:Date:Message-ID:From:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=XbkEEgsnDaBdPNB5TJM2KTL+kLvXBhIaClKW3v14tSrqNtms3z7HU1f8d3NDrCDb5
	 sdGqUD6se0KNDrviCBF7DKe7kapi8pvcvMr/lETL+1S0ayXJBR2FsyHdNwXDHIFspZ
	 Fc80yfEviM3PZLVE+eR6jYqX7lKUzKI9oPg8AAik=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 22B246A64712
	for <users@xwiki.org>; Thu,  1 Mar 2012 12:32:23 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id 0jVuDn0oQIzL for <users@xwiki.org>;
	Thu,  1 Mar 2012 12:32:16 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 65E526A6469B
	for <users@xwiki.org>; Thu,  1 Mar 2012 12:32:15 +0000 (UTC)
Received: by obbup3 with SMTP id up3so1041135obb.24
	for <users@xwiki.org>; Thu, 01 Mar 2012 04:35:58 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.75.40 as permitted sender) client-ip=10.182.75.40;
Received: from mr.google.com ([10.182.75.40])
	by 10.182.75.40 with SMTP id z8mr1936558obv.20.1330605358813 (num_hops
	= 1); Thu, 01 Mar 2012 04:35:58 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.75.40 with SMTP id z8mr1671913obv.20.1330605358670; Thu,
	01 Mar 2012 04:35:58 -0800 (PST)
Received: by 10.182.78.33 with HTTP; Thu, 1 Mar 2012 04:35:58 -0800 (PST)
Date: Thu, 1 Mar 2012 13:35:58 +0100
Message-ID: <CAPnKnLHMuO08qMqHXRm2v2OO9=AGTSO9M+VR093tVu6rRMGwAg@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>, XWiki Developers <devs@xwiki.org>
X-Gm-Message-State: ALoCoQmmZrLPm27aMYj9XXw3v7rAiXNFcP20OV5ykIVqbHS34BftNVufwNDPh+qJpvthGKAphtLV
Subject: [xwiki-users] [myxwiki] XWiki Enterprise 3.5 Upgrade
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi everyone,

myxwiki.org has been upgraded to XE 3.5. If you own a wiki hosted
there you should have a look at the release notes for this version at:
http://www.xwiki.org/xwiki/bin/view/ReleaseNotes/

We also strongly recommend an upgrade to the latest wiki version. To
upgrade you must download XE 3.5 XWiki XAR from :
http://www.xwiki.org/xwiki/bin/view/Main/Download

And follow the upgrade guide available at :
http://platform.xwiki.org/xwiki/bin/view/AdminGuide/Installation#HUpgradingwikidocuments

To be notified of the myxwiki.org server upgrade you can follow
myxwiki on twitter:
http://twitter.com/myxwiki

Thanks,
-XWiki Community
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:39 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp97726igc;
        Wed, 29 Feb 2012 09:23:15 -0800 (PST)
Received: by 10.213.3.197 with SMTP id 5mr742743ebo.93.1330536187915;
        Wed, 29 Feb 2012 09:23:07 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id g15si16360285eea.64.2012.02.29.09.23.04;
        Wed, 29 Feb 2012 09:23:07 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 170176A646F4;
	Wed, 29 Feb 2012 17:19:24 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330535964; bh=K8CaLjasj4gPNQAHw11KKrozyUm0Q4cKgGURZaCXPe0=;
	h=MIME-Version:Date:Message-ID:From:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=iE2zE3F7KMrxlSsPgR56Um6MXDHAD0H0GmiFPK/Yd97ZSP6PzTztFG6Ql9X9OD+q9
	 ZSdGacFoG06muFk+VGFvBXT6YHAgSxEuru/0lWIHFhPf6QS7M4kkznYQi+8Ywj+xIu
	 xuDRP25zqfzVBojuIDrsrvMwK1fDQWCM2hTsdCIM=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id wPwpAnw6DluT; Wed, 29 Feb 2012 17:19:23 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id A9B6F6A646F6;
	Wed, 29 Feb 2012 17:19:19 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330535959; bh=K8CaLjasj4gPNQAHw11KKrozyUm0Q4cKgGURZaCXPe0=;
	h=MIME-Version:Date:Message-ID:From:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=OUVeAHO1jvaAsVvpXXj1Hf317c5Shym0G8jIHIZ9GxvgSCiJycJ/bqO40p4bx42J9
	 vZB8JC8ZdutUqmOIr4KRNLiZBpBIEVb/ijMrFvl8nP3AzIfrJ4XCg1SMdwIXmz1lsG
	 TjTMs6XjlI+js8xu4sjvLhxNjCinEOPD3WU5B9Yc=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id F0F846A646F4
	for <users@xwiki.org>; Wed, 29 Feb 2012 17:19:16 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id rxXkwf0LRGkC for <users@xwiki.org>;
	Wed, 29 Feb 2012 17:19:16 +0000 (UTC)
Received: from mail-we0-f179.google.com (mail-we0-f179.google.com
	[74.125.82.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 018036A64685
	for <users@xwiki.org>; Wed, 29 Feb 2012 17:19:15 +0000 (UTC)
Received: by werg1 with SMTP id g1so3058370wer.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:22:56 -0800 (PST)
Received-SPF: pass (google.com: domain of maxime.sinclair@gmail.com designates
	10.180.99.164 as permitted sender) client-ip=10.180.99.164;
Received: from mr.google.com ([10.180.99.164])
	by 10.180.99.164 with SMTP id er4mr2786524wib.11.1330536176013
	(num_hops = 1); Wed, 29 Feb 2012 09:22:56 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=mime-version:date:message-id:subject:from:to:content-type;
	bh=+uum9rNHddGbV2pnSUcfY6Ba1n4FxyoeaMnHOq/DajU=;
	b=ZoehgixEYK7ZRtRjvxkS8T+XJcF3r2bf+Q77eQbVKC0ieSA/jLf9hw3oQ5nyNKUEme
	tF94SSs29qE9KnsAOzvI9bKHsLEXkKTiN8+S29GkQyjTn9WMBoHciqeGsfal9OYwCqda
	BBJvmcsy8ZJZ3LF9jvE9bkW8bjOmjfxAz1rNg=
MIME-Version: 1.0
Received: by 10.180.99.164 with SMTP id er4mr2237229wib.11.1330536175964; Wed,
	29 Feb 2012 09:22:55 -0800 (PST)
Received: by 10.227.152.134 with HTTP; Wed, 29 Feb 2012 09:22:55 -0800 (PST)
Date: Wed, 29 Feb 2012 18:22:55 +0100
Message-ID: <CAOFWY-NFSSmr+MSOUUVwkM54_9UHM6Aiz-xbaw+AH3t=A3P+CQ@mail.gmail.com>
From: Maxime Sinclair <maxime.sinclair@gmail.com>
To: XWiki Users <users@xwiki.org>
Subject: [xwiki-users] A link to create a page from a template
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi XWiki Users,

I have defined a template page and the associated termplate provider.
All is functional: the template selection popup shows up when a new
page is created.
Now, I try to build a link (using Velocity) that will create a new
page from the template. Any idea ?

Regards,
Maxime
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:39 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp98175igc;
        Wed, 29 Feb 2012 09:46:36 -0800 (PST)
Received: by 10.14.47.130 with SMTP id t2mr559322eeb.100.1330537588937;
        Wed, 29 Feb 2012 09:46:28 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id d5si672398eei.213.2012.02.29.09.46.26;
        Wed, 29 Feb 2012 09:46:27 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E677F6A646EB;
	Wed, 29 Feb 2012 17:42:45 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330537365; bh=ognrEy6lYLlj7f5WTz9EIuf+Crc+rV5wPtHg60QZsOU=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=Wq2FZcmD6Gs/oRGy7iI4T2k5xLVz7gji90tM8pQftEcF/5GfaIWhUmHFZEwR9KX+u
	 FLmMd+/Gd8Jb3JNGPuEizCXJN/+kza9813Ldywij/klMSYOKfGi+xnIQiUSy/buDdF
	 SICX7Dy4sSomGNo6g6991xQbi6KFfMQmmJTtXGh0=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1NFo1H3ibcZm; Wed, 29 Feb 2012 17:42:45 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 0A1BE6A646F9;
	Wed, 29 Feb 2012 17:42:44 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330537364; bh=ognrEy6lYLlj7f5WTz9EIuf+Crc+rV5wPtHg60QZsOU=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=Uiyw4C0cdY5NvJ7ROyaeUFJdVYGH35hEeceA6hcO+Bdr6XYZzhWPWS8We4ru0fkEj
	 hRv+pEBMZvJ0QqTcBTsuGKtixNWw6sEHXbPxsywqeRY8HuTWTx4EK09ulQF13OdeeL
	 5KhaBV+sqwNCsPhx76byPVsJ7vUMwASEPjptRKJs=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 14D3B6A646F8
	for <users@xwiki.org>; Wed, 29 Feb 2012 17:42:41 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id a+qDW8yGLw4I for <users@xwiki.org>;
	Wed, 29 Feb 2012 17:42:39 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id E4BEA6A646EB
	for <users@xwiki.org>; Wed, 29 Feb 2012 17:42:38 +0000 (UTC)
Received: by obbup3 with SMTP id up3so1217814obb.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:46:16 -0800 (PST)
Received-SPF: pass (google.com: domain of guillaume@xwiki.com designates
	10.182.231.100 as permitted sender) client-ip=10.182.231.100;
Received: from mr.google.com ([10.182.231.100])
	by 10.182.231.100 with SMTP id tf4mr476059obc.56.1330537576075
	(num_hops = 1); Wed, 29 Feb 2012 09:46:16 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.231.100 with SMTP id tf4mr409962obc.56.1330537575951; Wed,
	29 Feb 2012 09:46:15 -0800 (PST)
Received: by 10.182.53.193 with HTTP; Wed, 29 Feb 2012 09:46:15 -0800 (PST)
In-Reply-To: <CAOFWY-NFSSmr+MSOUUVwkM54_9UHM6Aiz-xbaw+AH3t=A3P+CQ@mail.gmail.com>
References: <CAOFWY-NFSSmr+MSOUUVwkM54_9UHM6Aiz-xbaw+AH3t=A3P+CQ@mail.gmail.com>
Date: Wed, 29 Feb 2012 18:46:15 +0100
Message-ID: <CALC6keWKpXHVr8ef35SoDNsjhVpmTKLw9jv0=Q+Vj-gciwofjg@mail.gmail.com>
From: Guillaume Lerouge <guillaume@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQkbwDVn0Esrjxm9Jgf7xAfT4yu5vfKtpcpkRxaAchHVncsW5li0b8jSHsJFmEoQv56kVb9r
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-users] A link to create a page from a template
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi Maxime,

something like this maybe:

#set($myURL = $xwiki.getURL("Space.Doc", "edit",
"template=Space.MyTemplate"))

[[Create Space Doc>>$myURL]]

Guillaume

On Wed, Feb 29, 2012 at 6:22 PM, Maxime Sinclair
<maxime.sinclair@gmail.com>wrote:

> Hi XWiki Users,
>
> I have defined a template page and the associated termplate provider.
> All is functional: the template selection popup shows up when a new
> page is created.
> Now, I try to build a link (using Velocity) that will create a new
> page from the template. Any idea ?
>
> Regards,
> Maxime
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:39 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp4611igc;
        Thu, 1 Mar 2012 02:53:38 -0800 (PST)
Received: by 10.14.32.139 with SMTP id o11mr2212028eea.10.1330599210534;
        Thu, 01 Mar 2012 02:53:30 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id t1si1380703eef.83.2012.03.01.02.53.26;
        Thu, 01 Mar 2012 02:53:30 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id A499F6A64715;
	Thu,  1 Mar 2012 10:49:40 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330598980; bh=f2mwse5ln/eicx2yzAEpVFrmruLlHvKeMTdDXMkRQlc=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=ZlHNBFiJTV+gTnXoR4TwO3hIHgFpxsOR0DhhMgDtzO+bhKlvuSKcU4J+lmZuQws0/
	 xAwXHAbWEuHUHKklkwINIxIOHD5wIixdbK7aNZzd3BBPCQfNlmXybwcMhEy3tlkm9U
	 Tev17GRABxh9DKLHsez1fb1Z0IN+Ho5dVvS9bBUQ=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Ie4MfzgG9Rkh; Thu,  1 Mar 2012 10:49:40 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id EBAD96A64710;
	Thu,  1 Mar 2012 10:49:34 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330598975; bh=f2mwse5ln/eicx2yzAEpVFrmruLlHvKeMTdDXMkRQlc=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=hYVEuTCHzfPj6uk21Djq1Hjk0Fzhs5f+8HIa59cqMJntZmsnr3w7qrX+ZC8Cf0IdD
	 Rt+MAv7OZqLQN3N2u+uOY6xfN27Ibzt5OVF+ZGNxMKhuZsnHGVAf++JPwHN3C+AYm6
	 FqYSZF+hU+VoEGX/z7s5UJ53bHH38QilsovOw6bo=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 0A3656A646EE
	for <users@xwiki.org>; Thu,  1 Mar 2012 10:49:33 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id Pc1SYVnHvT1a for <users@xwiki.org>;
	Thu,  1 Mar 2012 10:49:30 +0000 (UTC)
Received: from mail-wi0-f179.google.com (mail-wi0-f179.google.com
	[209.85.212.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 179906A645DC
	for <users@xwiki.org>; Thu,  1 Mar 2012 10:49:30 +0000 (UTC)
Received: by wiax18 with SMTP id x18so318916wia.24
	for <users@xwiki.org>; Thu, 01 Mar 2012 02:53:13 -0800 (PST)
Received-SPF: pass (google.com: domain of maxime.sinclair@gmail.com designates
	10.216.134.37 as permitted sender) client-ip=10.216.134.37;
Received: from mr.google.com ([10.216.134.37])
	by 10.216.134.37 with SMTP id r37mr2305474wei.38.1330599193514
	(num_hops = 1); Thu, 01 Mar 2012 02:53:13 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type; bh=djtZgOGfYDc9Jy9wiMfQ5XYeY0RctkRAd96HWsib6rc=;
	b=PObjMTiRfIXYFX7KBE9s57MrCKoCtpX2R3xwyiVLhscPf0MmzFtepZO5sI3zz6zmvl
	EPr4SEG6tW3+iKe556hoO184tU+uaK4Hnp7Z2yA78wBnUtgiaESAL1it66t2p/cQCcBW
	yDmlk+6SvOUlPXIE+3KnrsWvzdD3eOeBVSWro=
MIME-Version: 1.0
Received: by 10.216.134.37 with SMTP id r37mr1843176wei.38.1330599193399; Thu,
	01 Mar 2012 02:53:13 -0800 (PST)
Received: by 10.227.152.134 with HTTP; Thu, 1 Mar 2012 02:53:13 -0800 (PST)
In-Reply-To: <CALC6keWKpXHVr8ef35SoDNsjhVpmTKLw9jv0=Q+Vj-gciwofjg@mail.gmail.com>
References: <CAOFWY-NFSSmr+MSOUUVwkM54_9UHM6Aiz-xbaw+AH3t=A3P+CQ@mail.gmail.com>
	<CALC6keWKpXHVr8ef35SoDNsjhVpmTKLw9jv0=Q+Vj-gciwofjg@mail.gmail.com>
Date: Thu, 1 Mar 2012 11:53:13 +0100
Message-ID: <CAOFWY-OX4U5rCNXArx=uHdLAZZBDZweq3g5RUuw8C5hXs1H0ww@mail.gmail.com>
From: Maxime Sinclair <maxime.sinclair@gmail.com>
To: XWiki Users <users@xwiki.org>
Subject: Re: [xwiki-users] A link to create a page from a template
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Thanks a lot Guillaume for your quick answer.

When I run the snippet on my xwiki farm, the link is invalid:
http://<server>/bin/create/Space//bin/edit/Space/Doc?template=Sapce.MyTemplate

The trick I found (to keep it in the archive):
#set($myURL = $xwiki.getURL("Space.Doc", "create", "template=Space.MyTemplate"))
{{html}}<a href="$myURL">Create Space Doc</a>{{/html}}

Maxime

2012/2/29 Guillaume Lerouge <guillaume@xwiki.com>:
> Hi Maxime,
>
> something like this maybe:
>
> #set($myURL = $xwiki.getURL("Space.Doc", "edit",
> "template=Space.MyTemplate"))
>
> [[Create Space Doc>>$myURL]]
>
> Guillaume
>
> On Wed, Feb 29, 2012 at 6:22 PM, Maxime Sinclair
> <maxime.sinclair@gmail.com>wrote:
>
>> Hi XWiki Users,
>>
>> I have defined a template page and the associated termplate provider.
>> All is functional: the template selection popup shows up when a new
>> page is created.
>> Now, I try to build a link (using Velocity) that will create a new
>> page from the template. Any idea ?
>>
>> Regards,
>> Maxime
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:39 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp3174igc;
        Thu, 1 Mar 2012 01:53:23 -0800 (PST)
Received: by 10.14.184.3 with SMTP id r3mr1940460eem.109.1330595595156;
        Thu, 01 Mar 2012 01:53:15 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id e13si1211649eea.202.2012.03.01.01.53.13;
        Thu, 01 Mar 2012 01:53:15 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@googlemail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 8AA956A6470C;
	Thu,  1 Mar 2012 09:49:28 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330595368; bh=BVa37cpiDhev3gLxdXhloR1s0LprLuDS6cqj0lgozMk=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Transfer-Encoding:Content-Type:
	 Sender;
	b=MGkedO4BGZ/86CmJkNhYJ/m4EC3C/gsB17hayTCCy5j5EUE0WrwatZXTOVXWYTPGD
	 CA+SHxcKy0GnqpyJgFlSPJDX8IvWxxfH/4SCOjoDQKiGdxzBFh4zCu7Sol1sZIFwGe
	 e+PRs/GU6pbF9VWx8QNjfjFXPIWFk67TgyrapoP4=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id n1L7o7Py0OGG; Thu,  1 Mar 2012 09:49:28 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 49D316A6470E;
	Thu,  1 Mar 2012 09:49:27 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330595367; bh=BVa37cpiDhev3gLxdXhloR1s0LprLuDS6cqj0lgozMk=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Transfer-Encoding:Content-Type:
	 Sender;
	b=rNumSB3qM7S6q3Ga62+SUWEDwULN05D9X+3PRedehaOdoqiV7yy6rgS0b3uQsA1wr
	 LEoLvyWiC5BsyNT2eaKLHJgXIyQxjmyDA7ACjVPP84bYQ7/8BrAeAvZZ8dJEKL0EQ4
	 s4j2xKTxnjmKKwqLM+7FVNFqr2I4+ynkJzXXhiEo=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 2C2316A6470C
	for <users@xwiki.org>; Thu,  1 Mar 2012 09:49:24 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id Q+M7NKK+3yXr for <users@xwiki.org>;
	Thu,  1 Mar 2012 09:49:23 +0000 (UTC)
Received: from mail-ee0-f51.google.com (mail-ee0-f51.google.com [74.125.83.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id E1F936A646EC
	for <users@xwiki.org>; Thu,  1 Mar 2012 09:49:22 +0000 (UTC)
Received: by eeke50 with SMTP id e50so135188eek.24
	for <users@xwiki.org>; Thu, 01 Mar 2012 01:53:06 -0800 (PST)
Received-SPF: pass (google.com: domain of gruener.heinrich@googlemail.com
	designates 10.14.193.134 as permitted sender)
	client-ip=10.14.193.134;
Received: from mr.google.com ([10.14.193.134])
	by 10.14.193.134 with SMTP id k6mr2583532een.114.1330595586774
	(num_hops = 1); Thu, 01 Mar 2012 01:53:06 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=googlemail.com; s=gamma;
	h=message-id:date:from:reply-to:user-agent:mime-version:to:subject
	:references:in-reply-to:content-type:content-transfer-encoding;
	bh=WwXrQ29XF2kK0Nz93fxsdS93zG+LPMpZLz6QA/YzsOY=;
	b=nP6EWphVM4SIYwwQeOkFlWH9sG3+UqFVnDQBUfIo3JZ7KFYFI9IyBACcm9f2gobls+
	OoxOSqwVoZpnJP0LTeNJrnkzUwhRSL6Jx3kv2HgkMNjLcrvU1pO6kw3bDJ+EL7TxS88z
	la/LuNk0kZWNXP31ZOV4Rbobst51rQhbil5Bg=
Received: by 10.14.193.134 with SMTP id k6mr1976678een.114.1330595586689;
	Thu, 01 Mar 2012 01:53:06 -0800 (PST)
Received: from [192.168.178.34] (dslb-094-222-087-217.pools.arcor-ip.net.
	[94.222.87.217])
	by mx.google.com with ESMTPS id u9sm5381340eem.11.2012.03.01.01.53.05
	(version=TLSv1/SSLv3 cipher=OTHER);
	Thu, 01 Mar 2012 01:53:05 -0800 (PST)
Message-ID: <4F4F46FF.8000000@googlemail.com>
Date: Thu, 01 Mar 2012 10:53:03 +0100
From: =?ISO-8859-15?Q?Gr=FCner_Heinrich?=
 <gruener.heinrich@googlemail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.0;
	rv:10.0.2) Gecko/20120216 Thunderbird/10.0.2
MIME-Version: 1.0
To: XWiki Users <users@xwiki.org>
References: <4F4DFC72.8080905@googlemail.com>
In-Reply-To: <4F4DFC72.8080905@googlemail.com>
Subject: Re: [xwiki-users] Using Velocity to generate HTML
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: gruener.heinrich@web.de, XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-15"; Format="flowed"
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi,
I found my problem.
I had to use forceSkinAction:true to inject the css.

Thanks,
Stefan.


Am 29.02.2012 11:22, schrieb Gr=FCner Heinrich:
> As a workaround I tried to inject the stylesheets needed via Plugin.
>
>         AbstractSkinExtensionPlugin  cssplugin =3D =

> (AbstractSkinExtensionPlugin) xwiki.getPlugin("ssfx", context);
>         cssplugin.use(dir+"stylesheet.css",context);
> But it failed.
>
> On the other hand,
>         AbstractSkinExtensionPlugin jsplugin =3D =

> (AbstractSkinExtensionPlugin) xwiki.getPlugin("jsfx", context);
>         jsplugin.use(dir+"ui.multiselect.js",context);
>
> worked as expected.
>
>
>
>

_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:39 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp4702igc;
        Thu, 1 Mar 2012 02:55:43 -0800 (PST)
Received: by 10.14.200.132 with SMTP id z4mr2077723een.122.1330599336100;
        Thu, 01 Mar 2012 02:55:36 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id g15si1390801eea.64.2012.03.01.02.55.34;
        Thu, 01 Mar 2012 02:55:36 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 321C46A64713;
	Thu,  1 Mar 2012 10:51:49 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330599109; bh=HiYoxQjh6cAlMRVUjsmjvXKhgmaUqkAJiQpE7YtDX4s=;
	h=Mime-Version:From:In-Reply-To:Date:Message-Id:References:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=mseQcBJyPigtQUHZec4kXhMdN/8SaACc+yrYr7Q1103YMk0HLTDurdYAMHZAeVNi+
	 y80nBToKCooXex9d8Ph0xQR5N5ZL2Y2s9qRJnfgzecNIaNLMR1lvSmc2X97RhKguLF
	 EpkAiAhm5UPqsa8EEARAOgsIrCljrz/PZrVohAJE=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Wn7euq5eQS6Q; Thu,  1 Mar 2012 10:51:49 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 9A9296A64710;
	Thu,  1 Mar 2012 10:51:47 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330599107; bh=HiYoxQjh6cAlMRVUjsmjvXKhgmaUqkAJiQpE7YtDX4s=;
	h=Mime-Version:From:In-Reply-To:Date:Message-Id:References:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=Sh9+1RUgDNSoLZNPupa3rxpzrLPMpiQXOJwmB+iMb9vf1vKiBJJFa6hQXiuamxZYb
	 hle49xpxo0wrxxIH1SocewPHuHj/f5+n/TPTe1u7zUflzv1aOSjABBKSEyY14lEfDN
	 HX2YAR7aerwmawdSEmd9AnROYXU3iHMk49d4dxC8=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 3697D6A646FA
	for <users@xwiki.org>; Thu,  1 Mar 2012 10:51:44 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id Ri75pq1zIsry for <users@xwiki.org>;
	Thu,  1 Mar 2012 10:51:42 +0000 (UTC)
Received: from mail-we0-f179.google.com (mail-we0-f179.google.com
	[74.125.82.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 73B506A644AE
	for <users@xwiki.org>; Thu,  1 Mar 2012 10:51:42 +0000 (UTC)
Received: by werg1 with SMTP id g1so318226wer.24
	for <users@xwiki.org>; Thu, 01 Mar 2012 02:55:27 -0800 (PST)
Received-SPF: pass (google.com: domain of vmassol@gmail.com designates
	10.180.85.69 as permitted sender) client-ip=10.180.85.69;
Received: from mr.google.com ([10.180.85.69])
	by 10.180.85.69 with SMTP id f5mr9214955wiz.18.1330599327237 (num_hops
	= 1); Thu, 01 Mar 2012 02:55:27 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=sender:content-type:mime-version:subject:from:in-reply-to:date
	:content-transfer-encoding:message-id:references:to:x-mailer;
	bh=e1V3vdJr2vNP8xc1nplcyCsH9B//BzpFrMxTUxIttcA=;
	b=tMpDYeVqk2cGxPyEy9u0fTPDXftkd6Dsyr9XU7vy2pmuyL1GQxLv+bdWAXx9mZxKm6
	38yvWPJ6+/qaquMhEuL4J/gzH6pVDbszNE/bA/X6sps9G4QkzPs3JVgbFd7ax+7kXm4I
	29U2uirguZGez94PTmxo3co5fK7RtBHl/5CEU=
Received: by 10.180.85.69 with SMTP id f5mr7365090wiz.18.1330599327195;
	Thu, 01 Mar 2012 02:55:27 -0800 (PST)
Received: from [192.168.0.10] (lam60-1-82-233-128-14.fbx.proxad.net.
	[82.233.128.14])
	by mx.google.com with ESMTPS id m16sm7933826wie.9.2012.03.01.02.55.25
	(version=TLSv1/SSLv3 cipher=OTHER);
	Thu, 01 Mar 2012 02:55:26 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v1257)
From: Vincent Massol <vincent@massol.net>
In-Reply-To: <CAOFWY-OX4U5rCNXArx=uHdLAZZBDZweq3g5RUuw8C5hXs1H0ww@mail.gmail.com>
Date: Thu, 1 Mar 2012 11:55:23 +0100
Message-Id: <4F1F5687-6FEA-42CB-94FE-B49D0B09E843@massol.net>
References: <CAOFWY-NFSSmr+MSOUUVwkM54_9UHM6Aiz-xbaw+AH3t=A3P+CQ@mail.gmail.com>
	<CALC6keWKpXHVr8ef35SoDNsjhVpmTKLw9jv0=Q+Vj-gciwofjg@mail.gmail.com>
	<CAOFWY-OX4U5rCNXArx=uHdLAZZBDZweq3g5RUuw8C5hXs1H0ww@mail.gmail.com>
To: XWiki Users <users@xwiki.org>
X-Mailer: Apple Mail (2.1257)
Subject: Re: [xwiki-users] A link to create a page from a template
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="windows-1252"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi Maxime,

On Mar 1, 2012, at 11:53 AM, Maxime Sinclair wrote:

> Thanks a lot Guillaume for your quick answer.
> =

> When I run the snippet on my xwiki farm, the link is invalid:
> http://<server>/bin/create/Space//bin/edit/Space/Doc?template=3DSapce.MyT=
emplate
> =

> The trick I found (to keep it in the archive):
> #set($myURL =3D $xwiki.getURL("Space.Doc", "create", "template=3DSpace.My=
Template"))
> {{html}}<a href=3D"$myURL">Create Space Doc</a>{{/html}}

Don't use the HTML macro that's bad=85

Instead use XWiki Syntax 2.1 and:

[[label>>path:<relativepathhere>]]

Thanks
-Vincent

> =

> Maxime
> =

> 2012/2/29 Guillaume Lerouge <guillaume@xwiki.com>:
>> Hi Maxime,
>> =

>> something like this maybe:
>> =

>> #set($myURL =3D $xwiki.getURL("Space.Doc", "edit",
>> "template=3DSpace.MyTemplate"))
>> =

>> [[Create Space Doc>>$myURL]]
>> =

>> Guillaume
>> =

>> On Wed, Feb 29, 2012 at 6:22 PM, Maxime Sinclair
>> <maxime.sinclair@gmail.com>wrote:
>> =

>>> Hi XWiki Users,
>>> =

>>> I have defined a template page and the associated termplate provider.
>>> All is functional: the template selection popup shows up when a new
>>> page is created.
>>> Now, I try to build a link (using Velocity) that will create a new
>>> page from the template. Any idea ?
>>> =

>>> Regards,
>>> Maxime
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:40 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp7271igc;
        Thu, 1 Mar 2012 04:07:12 -0800 (PST)
Received: by 10.14.52.131 with SMTP id e3mr2137487eec.108.1330603624124;
        Thu, 01 Mar 2012 04:07:04 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id c45si1525010eeb.207.2012.03.01.04.07.02;
        Thu, 01 Mar 2012 04:07:04 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E185D6A646EA;
	Thu,  1 Mar 2012 12:03:16 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330603396; bh=XmwIC8ZbzJF6P0qgvUn3oSkG2JHT7tWTrzPrWpLkrlU=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=cy1OJeBtvDoez/phLQ0SrBevblt0RG84Ckf86Mx9BVMgOnpkWEwgT2dCB2aNhxs0N
	 xrpWO768nDzIGRg0YCGho2NCzIpZpHX//tLRYPCBdBL2afmncOq8steaiUvnvY/VH3
	 EJzj7POKfGVX1qcteUJV1glfxpV49lhYyK5CWE2A=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id oc2TEIJFLUbW; Thu,  1 Mar 2012 12:03:16 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 1F33D6A64715;
	Thu,  1 Mar 2012 12:03:04 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330603384; bh=XmwIC8ZbzJF6P0qgvUn3oSkG2JHT7tWTrzPrWpLkrlU=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=fJnY8CYeEvDH3s5cQZYYRA0l5yvmGrytOfJSVX18wGbMThGIUkCJZdKPe8D+cEye8
	 R7TrFLjEYtKrC78Ux4wdN0kC6w/Bj4++KfDkDo8s23pFD57rgNfRBWT6/7cdkJf8dn
	 ePDWaLT5ymvIlEH1Zs8zOEgX9G6pDRYV7eKhdyiw=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 8C65F6A63056
	for <users@xwiki.org>; Thu,  1 Mar 2012 12:02:49 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id aA011XzN1LLt for <users@xwiki.org>;
	Thu,  1 Mar 2012 12:02:43 +0000 (UTC)
Received: from mail-qy0-f179.google.com (mail-qy0-f179.google.com
	[209.85.216.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 709706A646EA
	for <users@xwiki.org>; Thu,  1 Mar 2012 12:02:07 +0000 (UTC)
Received: by qcha6 with SMTP id a6so250395qch.24
	for <users@xwiki.org>; Thu, 01 Mar 2012 04:04:44 -0800 (PST)
Received-SPF: pass (google.com: domain of pgmjsd@gmail.com designates
	10.229.135.201 as permitted sender) client-ip=10.229.135.201;
Received: from mr.google.com ([10.229.135.201])
	by 10.229.135.201 with SMTP id o9mr809820qct.148.1330603484463
	(num_hops = 1); Thu, 01 Mar 2012 04:04:44 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type; bh=1fkwWLDqSB+gysIPx+4ittTh601NfXaNQet3o6bzsN4=;
	b=o0koG+gTvH+M2Jn9rid6YqtGqYY6NwmpEhnS3JL4cNgr3szJKHqIU07GyhcrM7duzA
	1H8qqhfQcT+peXBHP27hQy4UzMYV0Oo6O7knDD9eEPx/2141DevkbT4EUoG90ui/PmVG
	t3BmUaLZZZ5HpKLU81EfZvJyX6CBQVtw/6680=
MIME-Version: 1.0
Received: by 10.229.135.201 with SMTP id o9mr679237qct.148.1330603484388; Thu,
	01 Mar 2012 04:04:44 -0800 (PST)
Received: by 10.229.29.1 with HTTP; Thu, 1 Mar 2012 04:04:44 -0800 (PST)
In-Reply-To: <CABZYKhYTBnsG+cYX4sCB4ZUD05KhqL_uYSq3=ay33d53gg+XBw@mail.gmail.com>
References: <CABZYKhb0hKoEbXiKH2v2b8cOmzVfSTkHikqNVR_i2PAE2H5y=Q@mail.gmail.com>
	<244BFA3AE9F83C4A8261E27189707237010293C74965@ASSCCEVS03.sergas.local>
	<CABZYKhYY6-gh7ZZF94geqqQF44EgKCMFx6tOdv=RbzjcFu5W+g@mail.gmail.com>
	<CAPDkzZiN-EzUuba74qUZHX5XrFDZcxZ35c41Nb+J39CC2DA1Vg@mail.gmail.com>
	<CABZYKhYch4ep11FjY_sP+a64mYhDhaCSiz8Pi7RL1qYKr=M+vA@mail.gmail.com>
	<CABZYKhZdrUi-8F6K4Z-q6iVDOaoroT_ae80YCd9mY97Ek7i-nQ@mail.gmail.com>
	<CABZYKhYTBnsG+cYX4sCB4ZUD05KhqL_uYSq3=ay33d53gg+XBw@mail.gmail.com>
Date: Thu, 1 Mar 2012 07:04:44 -0500
Message-ID: <CABZYKhabhVQ_2XFDaAQwFQ7J4Mv8_pzK1-35Kg0jFd8171yZ7w@mail.gmail.com>
From: Joshua Davis <pgmjsd@gmail.com>
To: XWiki Users <users@xwiki.org>
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-users] Lucene re-index problem
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

FYI, it's working now.  I stopped tomcat, set the file descriptor limit
higher for the tomcat user, deleted the contents of the /home/<tomcat
user>/data/lucene directory, and restarted tomcat.   After about 30 minutes
the index was fully rebuilt.

On Tue, Feb 28, 2012 at 6:53 PM, Joshua Davis <pgmjsd@gmail.com> wrote:

> Nope.  Still hangs if I re-index.  Nothing in the logs.
>
>
> On Tue, Feb 28, 2012 at 6:42 PM, Joshua Davis <pgmjsd@gmail.com> wrote:
>
>> I think I'm hitting a ulimit issue, I'm going to bump up ulimit for my
>> tomcat user and restart.
>>
>> On Tue, Feb 28, 2012 at 6:24 PM, Joshua Davis <pgmjsd@gmail.com> wrote:
>>
>>> In my case I am using the default value in xwiki.cfg:
>>>
>>> xwiki.work.dir=data
>>>
>>> This seems to be pointing to /home/<tomcat user>/data on my system.
>>>
>>> Looks like the Lucene index is in /home/<tomcat user>/data/lucene ...
>>> hmm.  I deleted a different directory before.  Anyway... yes, the user has
>>> access to this directory.
>>>
>>> -bash-3.2$ ll data
>>> total 8
>>> drwxr-xr-x 3 tomcat60 tomcat60 4096 Feb 22 06:24 extension
>>> drwxr-xr-x 2 tomcat60 tomcat60 4096 Feb 28 18:00 lucene
>>> -bash-3.2$ ll data/lucene
>>> total 1548
>>> -rw-r--r-- 1 tomcat60 tomcat60 638394 Feb 28 18:00 _f4.fdt
>>> -rw-r--r-- 1 tomcat60 tomcat60   3404 Feb 28 18:00 _f4.fdx
>>> -rw-r--r-- 1 tomcat60 tomcat60  11929 Feb 28 18:00 _f4.fnm
>>> -rw-r--r-- 1 tomcat60 tomcat60 125852 Feb 28 18:00 _f4.frq
>>> -rw-r--r-- 1 tomcat60 tomcat60 141104 Feb 28 18:00 _f4.nrm
>>> -rw-r--r-- 1 tomcat60 tomcat60 248013 Feb 28 18:00 _f4.prx
>>> -rw-r--r-- 1 tomcat60 tomcat60   5082 Feb 28 18:00 _f4.tii
>>> -rw-r--r-- 1 tomcat60 tomcat60 369203 Feb 28 18:00 _f4.tis
>>> -rw-r--r-- 1 tomcat60 tomcat60    280 Feb 28 18:00 segments_7m
>>> -rw-r--r-- 1 tomcat60 tomcat60     20 Feb 28 18:00 segments.gen
>>>
>>>
>>> On Tue, Feb 28, 2012 at 6:13 PM, Guillaume Fenollar <
>>> guillaume.fenollar@xwiki.com> wrote:
>>>
>>>> Hi,
>>>>
>>>> When the page "stucks", it's often because of a write issue on xwiki
>>>> work
>>>> directory. Are you sure you put a static value of xwiki.work.dir in
>>>> xwiki.cfg file after your upgrade? Your application server must have the
>>>> right to write in there.
>>>>
>>>>
>>>> 2012/2/28 Joshua Davis <pgmjsd@gmail.com>
>>>>
>>>> > Interesting.   Is there some way to tell the Lucene not to index the
>>>> > attachments?
>>>> >
>>>> > On Tue, Feb 28, 2012 at 4:39 PM, <
>>>> > Ricardo.Julio.Rodriguez.Fernandez@sergas.es> wrote:
>>>> >
>>>> > > Hi Joshua,
>>>> > > > ________________________________________
>>>> > > > From: users-bounces@xwiki.org [users-bounces@xwiki.org] On
>>>> Behalf Of
>>>> > > Joshua Davis [pgmjsd@gmail.com]
>>>> > > > Sent: 28 February 2012 21:30
>>>> > > > To: users@xwiki.org
>>>> > > > Subject: [xwiki-users] Lucene re-index problem
>>>> > > >
>>>> > > > After upgrading to XWiki 3.5 (from 2.6) I noticed that the Lucene
>>>> > search
>>>> > > > index was not working properly.   On advice I got in the #xwiki
>>>> IRC
>>>> > > chat, I
>>>> > > > shut down the server (Tomcat), deleted the Lucene index
>>>> directory, and
>>>> > > > restarted the server.   Only about 300 of the thousands of pages
>>>> were
>>>> > > > indexed at that point.    I tried re-indexing using the
>>>> Admin->Search
>>>> > > page,
>>>> > > > but every time I do that the Admin->Search page gets 'stuck'
>>>> (won't
>>>> > > render).
>>>> > > >
>>>> > > > I saw no errors in the catalina.out log file, and I configured
>>>> > > > WEB-INF/classes/logback.xml to enable some more logging to a
>>>> separate
>>>> > > > file... still nothing very informative.
>>>> > > >
>>>> > > > Any ideas what I can do to troubleshoot this?   I'm guessing
>>>> there's
>>>> > some
>>>> > > > page in my wiki database that is causing the re-index process to
>>>> get
>>>> > > stuck.
>>>> > > >
>>>> > > > Thanks in advance,
>>>> > > >
>>>> > > > - Josh
>>>> > >
>>>> > > Almost two years ago we face a similar problem while updating to
>>>> XWiki
>>>> > > Enterprise 2.4.30451. We have been not able to get Lucene working
>>>> in this
>>>> > > installation. The problem here seems related with Microsoft Office
>>>> > > attachements. I don't remember exactly how do we reach this
>>>> conclusion
>>>> > and
>>>> > > it could be a kind of "shot in the air", but I remember that PDF
>>>> files
>>>> > seem
>>>> > > to index fine, but "xls" and "doc" files causes the failure of the
>>>> > process.
>>>> > > As in your case, Admin>Search won't render. We have never find a
>>>> > solution.
>>>> > > This installation is still running but we are using database search
>>>> > instead.
>>>> > >
>>>> > > i keep following this thread!
>>>> > >
>>>> > > Cheers,
>>>> > >
>>>> > > Ricardo
>>>> > > _______________________________________________
>>>> > > users mailing list
>>>> > > users@xwiki.org
>>>> > > http://lists.xwiki.org/mailman/listinfo/users
>>>> > >
>>>> > > Nota: A informaci?n contida nesta mensaxe e os seus posibles
>>>> documentos
>>>> > > adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu
>>>> > > destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta
>>>> > mensaxe,
>>>> > > por favor elim?nea. A distribuci?n ou copia desta mensaxe non est?
>>>> > > autorizada.
>>>> > >
>>>> > > Nota: La informaci?n contenida en este mensaje y sus posibles
>>>> documentos
>>>> > > adjuntos es privada y confidencial y est? dirigida ?nicamente a su
>>>> > > destinatario/a. Si usted no es el/la destinatario/a original de este
>>>> > > mensaje, por favor elim?nelo. La distribuci?n o copia de este
>>>> mensaje no
>>>> > > est? autorizada.
>>>> > >
>>>> > > See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>>>> > > _______________________________________________
>>>> > > users mailing list
>>>> > > users@xwiki.org
>>>> > > http://lists.xwiki.org/mailman/listinfo/users
>>>> > >
>>>> > _______________________________________________
>>>> > users mailing list
>>>> > users@xwiki.org
>>>> > http://lists.xwiki.org/mailman/listinfo/users
>>>> >
>>>>
>>>>
>>>>
>>>> --
>>>> Guillaume Fenollar
>>>> XWiki SysAdmin
>>>> Tel : +33 (0)1.83.62.66.15
>>>> _______________________________________________
>>>> users mailing list
>>>> users@xwiki.org
>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>
>>>
>>>
>>
>
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:40 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp97539igc;
        Wed, 29 Feb 2012 09:17:08 -0800 (PST)
Received: by 10.14.202.130 with SMTP id d2mr514794eeo.83.1330535820460;
        Wed, 29 Feb 2012 09:17:00 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id a58si8927362eeb.203.2012.02.29.09.16.59;
        Wed, 29 Feb 2012 09:17:00 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id C263F6A646FE;
	Wed, 29 Feb 2012 17:13:18 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330535598; bh=XqHjJzG9sLIGFsbVyow9vHhd52abC020Xg2NKyod0Pk=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=bj5NMcEkPyC6k9A2e8ayAEGJ0oEnWyqKFPs1wYvNJRejds+Ql7s9Z1aF57pfAZ0mG
	 SF4qNeun2SRWPtgM7214TtlD3G14lnm0rf3NyBT+bM8ln7r+cHtLbFsncyAYrh92nG
	 bcp0rNbYdxTCCWN1BWI2uv3W3otgHws9kZmZTsek=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jOjiz6gbKo58; Wed, 29 Feb 2012 17:13:18 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 9AC006A646F4;
	Wed, 29 Feb 2012 17:13:17 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330535597; bh=XqHjJzG9sLIGFsbVyow9vHhd52abC020Xg2NKyod0Pk=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=rky5dGDBlFJrNo17Z01d7NzY4K2Py/3EHteEA2782ARPgtJjN7NBWI4APrCloBRHp
	 U4YT2VW1+k8cj5LgplMdiCR2bGXx1ZIdVODCO3QDGFg9J81yuNFrDrngpr7Qr7e1QX
	 pAN6YlSg3ifqd+txx13UEgci7+QPVHriyhd3yL38=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id D033A6A646F4
	for <users@xwiki.org>; Wed, 29 Feb 2012 17:13:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id fhLMkIpX36sg for <users@xwiki.org>;
	Wed, 29 Feb 2012 17:13:12 +0000 (UTC)
Received: from mail-yw0-f51.google.com (mail-yw0-f51.google.com
	[209.85.213.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id 528AF6A6447B
	for <users@xwiki.org>; Wed, 29 Feb 2012 17:13:12 +0000 (UTC)
Received: by yhnn12 with SMTP id n12so1881225yhn.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:16:50 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.60.4.202 as permitted sender) client-ip=10.60.4.202;
Received: from mr.google.com ([10.60.4.202])
	by 10.60.4.202 with SMTP id m10mr569863oem.10.1330535810313 (num_hops =
	1); Wed, 29 Feb 2012 09:16:50 -0800 (PST)
MIME-Version: 1.0
Received: by 10.60.4.202 with SMTP id m10mr487358oem.10.1330535808167; Wed, 29
	Feb 2012 09:16:48 -0800 (PST)
Received: by 10.182.78.33 with HTTP; Wed, 29 Feb 2012 09:16:48 -0800 (PST)
In-Reply-To: <CAPcVg7m+3RGj-rtt=BmDtfxJs_Qx72GibV3=cQZuV2cA8acDsg@mail.gmail.com>
References: <CAPcVg7m+3RGj-rtt=BmDtfxJs_Qx72GibV3=cQZuV2cA8acDsg@mail.gmail.com>
Date: Wed, 29 Feb 2012 18:16:48 +0100
Message-ID: <CAPnKnLFmfkxNY26hcUafchWauuC6ujGW4oa0eS5kckAMOFa3nQ@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQkN7q7xe/vQVHuWtzb1SL6GWBajQoXjpP4fXN4uICaUP0Ki/O94+76JPXNfkBdDu/7yVmz9
Subject: Re: [xwiki-users] [myxwiki] new wiki request
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

You can access your new wiki on http://struts2.myxwiki.org

Enjoy !

On Wed, Feb 29, 2012 at 6:07 PM, Ken McWilliams
<ken.mcwilliams@gmail.com> wrote:
> I forgot my user name on the last request.
>
> User name: quaternion
> Email address (if it matters): ken dot mcwilliams at gmail dot com
>
> Requested wiki name:
> struts2.myxwiki.com or if that is not good for some reason...
> struts2adventures.myxwiki.com
>
> Reason:
> I would like to build a struts2 information wiki.
> struts.apache.org/ is an excellent resource for struts2 users, I would
> like to focus on the verticals of a struts2 web application (That is
> the use cases of persisting data, basic ajax interactions using
> Struts2/Spring/JPA).
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users



-- 
Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:40 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp97655igc;
        Wed, 29 Feb 2012 09:20:34 -0800 (PST)
Received: by 10.14.125.14 with SMTP id y14mr600629eeh.5.1330536026182;
        Wed, 29 Feb 2012 09:20:26 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id b42si3959759eec.88.2012.02.29.09.20.25;
        Wed, 29 Feb 2012 09:20:26 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 0E9E76A63067;
	Wed, 29 Feb 2012 17:16:43 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330535803; bh=aC6apIqLKVGQmllRnpK5SxXfyzcvAIX4E1g/22SuSLs=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=BRea2qL1pb/gT7VSwxOhC1y8L31yY7xmofHGDujFOaRZ4x74ttnRUgloy3/nSDa1D
	 lZaKlkOz1oRVgXwhZH0EdLzaVSS9yTmp+toiQ9HImwJnvskvcxvtsMk5V8hNfXZ8mD
	 QG4Mod/lRYGiUanEa7AZ/Y1Swi/bk8bf+jmxQLJE=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id cdi2nPXEQjad; Wed, 29 Feb 2012 17:16:42 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id D455A6A646F6;
	Wed, 29 Feb 2012 17:16:36 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330535797; bh=aC6apIqLKVGQmllRnpK5SxXfyzcvAIX4E1g/22SuSLs=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=EvzAF09i4h3rMySjvmb0lUOTbT3Wi2U6ipO9W9QCFBOrXMvighDEGezdLdkRuATCE
	 sVDjSNMlwWuV8TS7W7h+duqEajQ5H067vDO4cDipTkw+PtevOaZvx3vLgtfVdmTwGL
	 y7S1yFZUtXncy/wtYFwVjZhwVN/0Bjl52+XWGBb0=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id F23BF6A646F4
	for <users@xwiki.org>; Wed, 29 Feb 2012 17:16:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id SdPYt9cEbjlo for <users@xwiki.org>;
	Wed, 29 Feb 2012 17:16:17 +0000 (UTC)
Received: from mail-iy0-f179.google.com (mail-iy0-f179.google.com
	[209.85.210.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id CC1D36A63067
	for <users@xwiki.org>; Wed, 29 Feb 2012 17:16:12 +0000 (UTC)
Received: by iakh37 with SMTP id h37so6444121iak.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:19:47 -0800 (PST)
Received-SPF: pass (google.com: domain of ken.mcwilliams@gmail.com designates
	10.43.117.135 as permitted sender) client-ip=10.43.117.135;
Received: from mr.google.com ([10.43.117.135])
	by 10.43.117.135 with SMTP id fm7mr1235050icc.29.1330535987239
	(num_hops = 1); Wed, 29 Feb 2012 09:19:47 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type; bh=ItpfZSLVFrcZJQMHHtnXNtw0jLw7TpoNhFYVbtjuy6I=;
	b=tFpKh2RAVAifiiChe4AoF2T4e20zoIub5mGPnfeoZ47LVgdD/99X61nwLdIga9z4kt
	tjxU2fRdEliaxoAWpL4WPEEPGAUsdygQPfCH46u8pD9grMPAoBhpAxKpaAVtVVHwBnQS
	oESc5JbyEWM6j3Da4I0/K4Xs8bJKFPh1HSIUg=
MIME-Version: 1.0
Received: by 10.43.117.135 with SMTP id fm7mr1008531icc.29.1330535987196; Wed,
	29 Feb 2012 09:19:47 -0800 (PST)
Received: by 10.43.49.130 with HTTP; Wed, 29 Feb 2012 09:19:47 -0800 (PST)
In-Reply-To: <CAPnKnLFmfkxNY26hcUafchWauuC6ujGW4oa0eS5kckAMOFa3nQ@mail.gmail.com>
References: <CAPcVg7m+3RGj-rtt=BmDtfxJs_Qx72GibV3=cQZuV2cA8acDsg@mail.gmail.com>
	<CAPnKnLFmfkxNY26hcUafchWauuC6ujGW4oa0eS5kckAMOFa3nQ@mail.gmail.com>
Date: Wed, 29 Feb 2012 10:19:47 -0700
Message-ID: <CAPcVg7k_nmQ1VpTMQeriPT8W+dqVDuJ-QgG3B3CkMWkc9+N_ew@mail.gmail.com>
From: Ken McWilliams <ken.mcwilliams@gmail.com>
To: XWiki Users <users@xwiki.org>
Subject: Re: [xwiki-users] [myxwiki] new wiki request
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Thanks so much!

On Wed, Feb 29, 2012 at 10:16 AM, Thomas Mortagne
<thomas.mortagne@xwiki.com> wrote:
> You can access your new wiki on http://struts2.myxwiki.org
>
> Enjoy !
>
> On Wed, Feb 29, 2012 at 6:07 PM, Ken McWilliams
> <ken.mcwilliams@gmail.com> wrote:
>> I forgot my user name on the last request.
>>
>> User name: quaternion
>> Email address (if it matters): ken dot mcwilliams at gmail dot com
>>
>> Requested wiki name:
>> struts2.myxwiki.com or if that is not good for some reason...
>> struts2adventures.myxwiki.com
>>
>> Reason:
>> I would like to build a struts2 information wiki.
>> struts.apache.org/ is an excellent resource for struts2 users, I would
>> like to focus on the verticals of a struts2 web application (That is
>> the use cases of persisting data, basic ajax interactions using
>> Struts2/Spring/JPA).
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
>
>
>
> --
> Thomas Mortagne
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:40 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp97220igc;
        Wed, 29 Feb 2012 09:07:44 -0800 (PST)
Received: by 10.213.19.83 with SMTP id z19mr763177eba.33.1330535256568;
        Wed, 29 Feb 2012 09:07:36 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id v7si16310728eef.151.2012.02.29.09.07.35;
        Wed, 29 Feb 2012 09:07:36 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 87AE06A64701;
	Wed, 29 Feb 2012 17:03:54 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330535034; bh=xPvi+qaDoFtqe5VhU9NPJWO4yiiAeB8CsNFO1REBfXk=;
	h=MIME-Version:Date:Message-ID:From:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=SLEVuJJo1Awvxr15a4BYmL1iZSDU84EPorWR04G6Eu6709089xlXNSU7jmqWw6e/Y
	 w/pGSsktGx4OQl6RhIwcv1/DT697rACAIOd5L1wMPE54hOvukVIs6Loo8nXG1LrN1c
	 cb1rw5tcwregTa652A6oN2kTt7eJWhtbgRpQfwpM=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id O+CfopertcCG; Wed, 29 Feb 2012 17:03:54 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 885E86A646F9;
	Wed, 29 Feb 2012 17:03:52 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330535032; bh=xPvi+qaDoFtqe5VhU9NPJWO4yiiAeB8CsNFO1REBfXk=;
	h=MIME-Version:Date:Message-ID:From:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=XDDUZ+posNlbSe47h98CmsqamAPC0/7KRpkL5dBfezJrcviYJrZOOM6iwKxn7XApN
	 YB9AF1YT/P+YCb96T0jk58R+F6wV7PDZQjnrTwDGwG3oe9w5zWAjDOJKQW56aiwbOX
	 5o8gBnc9JAksw08y5oZNNB8/mhZFr3O6TrVoPqg4=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 5F4A86A646F4
	for <users@xwiki.org>; Wed, 29 Feb 2012 17:03:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id kDXCXkT1W610 for <users@xwiki.org>;
	Wed, 29 Feb 2012 17:03:45 +0000 (UTC)
Received: from mail-yw0-f51.google.com (mail-yw0-f51.google.com
	[209.85.213.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id 234396A646ED
	for <users@xwiki.org>; Wed, 29 Feb 2012 17:03:44 +0000 (UTC)
Received: by yhnn12 with SMTP id n12so1870956yhn.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:07:23 -0800 (PST)
Received-SPF: pass (google.com: domain of ken.mcwilliams@gmail.com designates
	10.50.182.231 as permitted sender) client-ip=10.50.182.231;
Received: from mr.google.com ([10.50.182.231])
	by 10.50.182.231 with SMTP id eh7mr21376921igc.29.1330535243088
	(num_hops = 1); Wed, 29 Feb 2012 09:07:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=mime-version:date:message-id:subject:from:to:content-type;
	bh=favSut+BJV5qvoHSz+WP4/ZHAJgM0v8Ak9DSHX5sRw8=;
	b=kVFd/+9ZCDlRmXO2OHXGbDaPdXExKTVr1+zQrYasGTwilFfhoY++sdCzQDojBeQN9S
	zs713U4sg/R9i83Qgy308fLfkgLp4aI4qvjQ3Fy+vX9E75quP7+FF5oA+3LGRUC+H1lr
	PhncCQd8lqalTxBQ7tuB2pnyFXZiEPEqql0+U=
MIME-Version: 1.0
Received: by 10.50.182.231 with SMTP id eh7mr17474816igc.29.1330535243050;
	Wed, 29 Feb 2012 09:07:23 -0800 (PST)
Received: by 10.43.49.130 with HTTP; Wed, 29 Feb 2012 09:07:23 -0800 (PST)
Date: Wed, 29 Feb 2012 10:07:23 -0700
Message-ID: <CAPcVg7m+3RGj-rtt=BmDtfxJs_Qx72GibV3=cQZuV2cA8acDsg@mail.gmail.com>
From: Ken McWilliams <ken.mcwilliams@gmail.com>
To: users@xwiki.org
Subject: [xwiki-users] [myxwiki] new wiki request
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

I forgot my user name on the last request.

User name: quaternion
Email address (if it matters): ken dot mcwilliams at gmail dot com

Requested wiki name:
struts2.myxwiki.com or if that is not good for some reason...
struts2adventures.myxwiki.com

Reason:
I would like to build a struts2 information wiki.
struts.apache.org/ is an excellent resource for struts2 users, I would
like to focus on the verticals of a struts2 web application (That is
the use cases of persisting data, basic ajax interactions using
Struts2/Spring/JPA).
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:40 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp97031igc;
        Wed, 29 Feb 2012 09:03:15 -0800 (PST)
Received: by 10.213.35.196 with SMTP id q4mr745524ebd.29.1330534987705;
        Wed, 29 Feb 2012 09:03:07 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id l3si16289350eem.212.2012.02.29.09.03.05;
        Wed, 29 Feb 2012 09:03:07 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id BBFDC6A646F6;
	Wed, 29 Feb 2012 16:59:24 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330534764; bh=DrnJX4miGX3PrFFHuG8eeE4SqDzLgttV86MOCaA2scQ=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=sqWGsYlAoLFl2yrDBoMkeMfayLGGUS19TKkH48dHG8usy/43M2VX0UOdP2KOWMrWs
	 CBH02Aw44dm+GeP6DDeJYTZDf9dFseVj/K9bA6RktwivRkTGi4260NvOEfNqNrY6V3
	 5/IgZ64TfytJoUOpX3AmDK6+idEv0Lm3+Qpl/HGw=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Gy4UjrXt2hGP; Wed, 29 Feb 2012 16:59:24 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 2F1456A646F8;
	Wed, 29 Feb 2012 16:59:21 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330534761; bh=DrnJX4miGX3PrFFHuG8eeE4SqDzLgttV86MOCaA2scQ=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=lDbo8DrYnfwtcGpuPl8DbLALA4OOa/v00kQPAlXtMyWxX1TrWuinomC9WhTLzgvdu
	 1CWj+Yc2tnv/2ji9Lk7MTALIDcrPQnxgksWbi7yMkaLTamhNqjIwCs92oUnWSSvosX
	 wW1jbsJGhftriS8IQaDaFQJPRJsEyjj7VeMNq4Qk=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 598726A646F6
	for <users@xwiki.org>; Wed, 29 Feb 2012 16:59:14 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id CR1JS3JM2nlw for <users@xwiki.org>;
	Wed, 29 Feb 2012 16:59:05 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id D1BF46A63059
	for <users@xwiki.org>; Wed, 29 Feb 2012 16:59:04 +0000 (UTC)
Received: by obbup3 with SMTP id up3so1145919obb.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:02:42 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.41.6 as permitted sender) client-ip=10.182.41.6;
Received: from mr.google.com ([10.182.41.6])
	by 10.182.41.6 with SMTP id b6mr471100obl.10.1330534962333 (num_hops =
	1); Wed, 29 Feb 2012 09:02:42 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.41.6 with SMTP id b6mr407366obl.10.1330534962211; Wed, 29
	Feb 2012 09:02:42 -0800 (PST)
Received: by 10.182.78.33 with HTTP; Wed, 29 Feb 2012 09:02:42 -0800 (PST)
In-Reply-To: <CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
	<4F4DE0BC.8030706@richard-rafalski.de>
	<CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
Date: Wed, 29 Feb 2012 18:02:42 +0100
Message-ID: <CAPnKnLHf3G9qo-SkLyM0cfy+U6ocGpYSzDpAAHurvABU1a+2JQ@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQlkBYm62CzAefv7EB75CCzHqE0zNrbXIToEU/ZfyUzU6BFzm6hNhvbkjHtAg9WXjnQ1Wtxt
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Wed, Feb 29, 2012 at 10:35 AM, Thomas Mortagne
<thomas.mortagne@xwiki.com> wrote:
> On Wed, Feb 29, 2012 at 9:24 AM, Richard Rafalski
> <mail@richard-rafalski.de> wrote:
>>
>> Am 28.02.2012 20:10, schrieb Thomas Mortagne:
>>> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
>>> <mail@richard-rafalski.de> wrote:
>>>> Hi,
>>>>
>>>> i have installed xwiki form the deb package
>>>> xwiki-enterprise-tomcat-pgsql version 3.5. =A0Then tried to contact the
>>>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is the
>>>> hostname where xwiki is running). No page came up. I got this error:
>>>>
>>>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>>
>>>> What to do now?
>>>
>>> Looks like there is something wrong with the potgre packages actually,
>>> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
>>> supposed to contain the version of tomcat now). But that's not
>>> related;
>>
>> Do you mean something like xwiki-enterprise-tomcat6-pgsql,
>> xwiki-enterprise-tomcat7-pgsql ? That would be nice.
>
> Yes, see you can see how it's done for mysql but for postgre they are
> all there but with the same xwiki-enterprise-tomcat-pgsql name... I
> forgot to change it during the refactoring and I mostly test mysql.
> Sorry about that.
>
>>
>>>
>>> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.xml
>>> template file ? I think there is an issue with the generation of the
>>> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking at
>>> it.
>>
>> I tried a new install on a completely fresh debian system. The problem
>> does not appear now. I think my old system was broken due to old failed
>> installations. Or did you change something meanwhile?
>
> Nop I did not change anything but I actually suspect that the issue is
> not fresh install but that the purge is wrong. That's what I plan to
> look at, thanks for the confirmation.

Should be OK now.

The issue was indeed in the purge script. This mean that you might
still have an issue with install, in that case you will need to do
install/remove --purge/install to cleanup everything.

>
>>
>> Richard
>>
>>>
>>>>
>>>> Thanks for help
>>>>
>>>> Here is the full error text:
>>>>
>>>> HTTP Status 500 -
>>>>
>>>> type Exception report
>>>>
>>>> message
>>>>
>>>> description The server encountered an internal error () that prevented
>>>> it from fulfilling this request.
>>>>
>>>> exception
>>>>
>>>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error
>>>> number 3 in 0: Could not initialize main XWiki context
>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent =3D=
 [name =3D
>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D [WIK=
I], parent
>>>> =3D [null]]]]
>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hiberna=
te
>>>> configuration
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processExcept=
ion(RequestProcessor.java:535)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processAction=
Perform(RequestProcessor.java:433)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Reque=
stProcessor.java:236)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionSe=
rvlet.java:1196)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServ=
let.java:414)
>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java=
:617)
>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java=
:717)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.ja=
va:128)
>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilt=
er(ConversionFilter.java:144)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWi=
kiDavFilter.java:68)
>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedReque=
stRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharact=
erEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>> root cause
>>>>
>>>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initialize
>>>> main XWiki context
>>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent =3D=
 [name =3D
>>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D [WIK=
I], parent
>>>> =3D [null]]]]
>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hiberna=
te
>>>> configuration
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:=
136)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:=
116)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processAction=
Perform(RequestProcessor.java:431)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Reque=
stProcessor.java:236)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionSe=
rvlet.java:1196)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServ=
let.java:414)
>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java=
:617)
>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java=
:717)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.ja=
va:128)
>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilt=
er(ConversionFilter.java:144)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWi=
kiDavFilter.java:68)
>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedReque=
stRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharact=
erEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>> root cause
>>>>
>>>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception while
>>>> reading document [name =3D [XWikiPreferences], type =3D [DOCUMENT], pa=
rent =3D
>>>> [name =3D [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], typ=
e =3D
>>>> [WIKI], parent =3D [null]]]]
>>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hiberna=
te
>>>> configuration
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XW=
ikiHibernateStore.java:856)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiC=
acheStore.java:283)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.ja=
va:821)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:=
136)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:=
116)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processAction=
Perform(RequestProcessor.java:431)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Reque=
stProcessor.java:236)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionSe=
rvlet.java:1196)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServ=
let.java:414)
>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java=
:617)
>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java=
:717)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.ja=
va:128)
>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilt=
er(ConversionFilter.java:144)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWi=
kiDavFilter.java:68)
>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedReque=
stRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharact=
erEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>> root cause
>>>>
>>>> org.hibernate.HibernateException: Can't find
>>>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFa=
ctory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.java:118)
>>>> =A0 =A0 =A0 =A0org.hibernate.cfg.Configuration.configure(Configuration=
.java:2157)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFa=
ctory$1.configure(DefaultHibernateSessionFactory.java:80)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.initHiberna=
te(XWikiHibernateBaseStore.java:167)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.checkHibern=
ate(XWikiHibernateBaseStore.java:550)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XW=
ikiHibernateStore.java:728)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiC=
acheStore.java:283)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.ja=
va:821)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:=
136)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:=
116)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processAction=
Perform(RequestProcessor.java:431)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Reque=
stProcessor.java:236)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionSe=
rvlet.java:1196)
>>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServ=
let.java:414)
>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java=
:617)
>>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java=
:717)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.ja=
va:128)
>>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilt=
er(ConversionFilter.java:144)
>>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWi=
kiDavFilter.java:68)
>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedReque=
stRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharact=
erEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>>> note The full stack trace of the root cause is available in the Apache
>>>> Tomcat/6.0.35 logs.
>>>>
>>>> Apache Tomcat/6.0.35
>>>> _______________________________________________
>>>> users mailing list
>>>> users@xwiki.org
>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>
>>>
>>>
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
>
>
>
> --
> Thomas Mortagne



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:40 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp97341igc;
        Wed, 29 Feb 2012 09:11:59 -0800 (PST)
Received: by 10.14.101.129 with SMTP id b1mr560512eeg.12.1330535512193;
        Wed, 29 Feb 2012 09:11:52 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id y10si16338320eeh.58.2012.02.29.09.11.51;
        Wed, 29 Feb 2012 09:11:52 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 9B5FC6A646F9;
	Wed, 29 Feb 2012 17:08:10 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330535290; bh=AIjNPCPfN+T9f0poa147OpGM98WOt1G+TqXTzTjz/eU=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=V1pW585VN/zCHGASfkpK1+rdaDWRDnTbWs742rg3aOKgoFrqBvY5dSM8zvqpNYfeS
	 5wCnznH24S07TXi65sXqX2gvwTxol0aboUsRdfCCkW2OVYBucRCpiC2OxXcvCHm3H3
	 IWr/SNrE1JHgV8Eu9dhrL3Z1N8OReiMR5MKMpD6M=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id EEGPGkqzRD9r; Wed, 29 Feb 2012 17:08:10 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 2E1776A646FE;
	Wed, 29 Feb 2012 17:08:07 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330535287; bh=AIjNPCPfN+T9f0poa147OpGM98WOt1G+TqXTzTjz/eU=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=F2k2e9D7fNrsz5j8kzdQTsWfnQo/TVjOde3HCy7EBPUUrGViT7DxwbM59dyWhobaz
	 KIAA41Afqy8fjcUeqOUMgQkgJwtnLnW6MG2N7jsNmpwXamFQxAzpgQ95qatpLwgyu7
	 CPTPY3rbLV99jB3E3vJCOLEJsq+Fck7HkfiqULJc=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id C4D8D6A63059
	for <users@xwiki.org>; Wed, 29 Feb 2012 17:07:56 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id bfmVCsyrSErH for <users@xwiki.org>;
	Wed, 29 Feb 2012 17:07:53 +0000 (UTC)
Received: from mail-yx0-f179.google.com (mail-yx0-f179.google.com
	[209.85.213.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 24B466A6414B
	for <users@xwiki.org>; Wed, 29 Feb 2012 17:07:51 +0000 (UTC)
Received: by yenl1 with SMTP id l1so608570yen.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:11:30 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.60.4.202 as permitted sender) client-ip=10.60.4.202;
Received: from mr.google.com ([10.60.4.202])
	by 10.60.4.202 with SMTP id m10mr560555oem.10.1330535490129 (num_hops =
	1); Wed, 29 Feb 2012 09:11:30 -0800 (PST)
MIME-Version: 1.0
Received: by 10.60.4.202 with SMTP id m10mr479585oem.10.1330535490026; Wed, 29
	Feb 2012 09:11:30 -0800 (PST)
Received: by 10.182.78.33 with HTTP; Wed, 29 Feb 2012 09:11:29 -0800 (PST)
In-Reply-To: <4F4E08BC.20603@googlemail.com>
References: <4F4DF22E.30806@googlemail.com>
	<70C07FA8-646E-4397-A38A-31B4FE504B8A@massol.net>
	<4F4DFA5F.6080803@googlemail.com>
	<CAPnKnLFSp8ynCpZY6BnH_kc39uC5cxq6TaAmn-4i18w4M-d=Zw@mail.gmail.com>
	<4F4E08BC.20603@googlemail.com>
Date: Wed, 29 Feb 2012 18:11:29 +0100
Message-ID: <CAPnKnLHWBjnxveNhjPw0h5PoJ-jz+5V8Vep=Fx2oTohSyDCdYw@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQkXBsRkQi8sd11CBeeHo5zoAqs69Ay8YyBRhotCgkn1JZBpKtvF2arHDXQHHTgFEqV+HzcV
Subject: Re: [xwiki-users] Using Velocity to generate HTML
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

You get empty result or you forgot something ?

What I can tel you is that

{{velocity wiki=3D"false"}}
$services.xtestprogress.render()
{{/velocity}}

will display you the exact result of $services.xtestprogress.render() execu=
tion.

2012/2/29 Gr=FCner Heinrich <gruener.heinrich@googlemail.com>:
> Hi Thomas,
>
> any chance that I hit a bug?
> My code is like This:
>
> {{velocity wiki=3D"false"}}
> $services.xtestprogress.render()
> {{/velocity}}
>
> And the page rendered looks Like This:
>
>
>
>
>
> Am 29.02.2012 11:21, schrieb Thomas Mortagne:
>
>> As I said the result of velocity execution is seen as wiki content
>> which mean that if you have anything in you content that mean
>> something as wiki syntax is will be interpreted as such. If you want
>> to be sure you get exactly what was produced by the velocity script
>> use {{velocity wiki=3D"false"}} instead of {{velocity}}.
>>
>> But again this is displaying you html, it's not inserting html as part
>> of the html content. If that's what you want then fine, you might want
>> to improve it a little by using the code macro which will do a syntax
>> highlight of your html content in a box.
>>
>> 2012/2/29 Gr=FCner Heinrich<gruener.heinrich@googlemail.com>:
>>>
>>> Sorry Vincent, sorry Thomas
>>> but I didn't get it.
>>> What do you mean?
>>> The html content is rendered into the page, but without all
>>> stylesheet-information.
>>>
>>> Am 29.02.2012 10:42, schrieb Thomas Mortagne:
>>>>
>>>> 2012/2/29 Gr=FCner Heinrich<gruener.heinrich@googlemail.com>:
>>>>
>>>>> Hi,
>>>>>
>>>>> I created a velocity macro and called it like this.
>>>>> {{velocity}}
>>>>> $services.xtestprogress.render()
>>>>> {{/velocity}}
>>>>>
>>>>> It happens that all<link/> =A0 =A0-Tags inserted in the render method=
 are
>>>>> removed
>>>>> in the resulting website.
>>>>> Any ideas?
>>>>
>>>> content generated by velocity is seen as wiki content by default
>>>>
>>>> (unless you use wiki=3D"false" and in this case it's plain text) so
>>>> anything that is not wiki syntax is properly escaped. If you want to
>>>> insert html content you need to use {{html}} macro.
>>>>
>>>> See http://extensions.xwiki.org/xwiki/bin/view/Extension/HTML+Macro
>>>>
>>>>> Thanks, Stefan.
>>>>>
>>>>> _______________________________________________
>>>>> users mailing list
>>>>> users@xwiki.org
>>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>>
>>>>
>>>>
>>> Am 29.02.2012 10:41, schrieb Vincent Massol:
>>>
>>>> Hi,
>>>>
>>>> On Feb 29, 2012, at 10:38 AM, Gr=FCner Heinrich wrote:
>>>>
>>>>> Hi,
>>>>>
>>>>> I created a velocity macro and called it like this.
>>>>> {{velocity}}
>>>>> $services.xtestprogress.render()
>>>>> {{/velocity}}
>>>>>
>>>>> It happens that all<link/> =A0 =A0-Tags inserted in the render method=
 are
>>>>> removed in the resulting website.
>>>>> Any ideas?
>>>>
>>>> If you wish to insert HTML you need to use the HTML macro:
>>>> http://extensions.xwiki.org/xwiki/bin/view/Extension/HTML+Macro
>>>>
>>>> Thanks
>>>> -Vincent
>>>>
>>>>
>>> _______________________________________________
>>> users mailing list
>>> users@xwiki.org
>>> http://lists.xwiki.org/mailman/listinfo/users
>>
>>
>>
>
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:40 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp85801igc;
        Wed, 29 Feb 2012 01:39:12 -0800 (PST)
Received: by 10.213.35.9 with SMTP id n9mr344694ebd.106.1330508344805;
        Wed, 29 Feb 2012 01:39:04 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id o41si15396968eem.61.2012.02.29.01.39.03;
        Wed, 29 Feb 2012 01:39:04 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@googlemail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id C4DF36A64700;
	Wed, 29 Feb 2012 09:35:24 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330508124; bh=UzCG5yQ+hXIxNIJB2rgCvqxxBvPBJGGCBtQ0qTx/uFY=;
	h=Message-ID:Date:From:MIME-Version:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Transfer-Encoding:Content-Type:Sender;
	b=OrrgYYBHuXW3DiyP3dv26ir8PqX4lXnfk2lIDezDBB0oo/ZXYmw3I+hBG9CuPgoOt
	 wjfpTBkAgtVNYQu61I8wPqbxztWXMEzDuLN37Hy8UEhmtLOcJ7Ve47/uuJteHQbryU
	 Sov5y/FKbWpwoS/hQ3AAIwZV7PQE8+H09jioVV9g=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 5xPBNl+KyE33; Wed, 29 Feb 2012 09:35:24 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id CA6FD6A64701;
	Wed, 29 Feb 2012 09:35:19 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330508120; bh=UzCG5yQ+hXIxNIJB2rgCvqxxBvPBJGGCBtQ0qTx/uFY=;
	h=Message-ID:Date:From:MIME-Version:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Transfer-Encoding:Content-Type:Sender;
	b=jIqE36cOuS0QS3OZQFeZ9754rqVY3a7B0B0nzg27bwMmx3AMIudQg/UBSS+Fq/W+G
	 FJhC2QKwm3Z39nRPrUjmmsFqhbIUP3CUFCI/DgUp5t2FcJ5A8nSTLxyz+/LDouVBc2
	 VPAdkTNiisGbO8rL9ueEkmYCkpfq9sLyXkawSQOg=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 587326A64700
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:35:17 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id IMbZxBpZVHB9 for <users@xwiki.org>;
	Wed, 29 Feb 2012 09:35:16 +0000 (UTC)
Received: from mail-ee0-f51.google.com (mail-ee0-f51.google.com [74.125.83.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id 205076A646F3
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:35:16 +0000 (UTC)
Received: by eeke50 with SMTP id e50so1496199eek.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 01:38:53 -0800 (PST)
Received-SPF: pass (google.com: domain of gruener.heinrich@googlemail.com
	designates 10.213.32.67 as permitted sender)
	client-ip=10.213.32.67;
Received: from mr.google.com ([10.213.32.67])
	by 10.213.32.67 with SMTP id b3mr365073ebd.75.1330508333843 (num_hops =
	1); Wed, 29 Feb 2012 01:38:53 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=googlemail.com; s=gamma;
	h=message-id:date:from:reply-to:user-agent:mime-version:to:subject
	:content-type:content-transfer-encoding;
	bh=0CRT5KpNhZLAti00h3IpR9eVlm4I5ssSyPXTINTDhb4=;
	b=cd3p059M/StA7kxQhIA5r4tNMTHHJdKiUyPURXZVyz26KLarQ9HDuejDCtyxdVTe1h
	+XU3wneRm49U+HsjyPKPyCTIhSFfSwOrK3pJd2KLkdS8SczGpLsM7/LlxIoNlk5zeqAC
	0yqzsL5FFxjMIGsHcLLbKdWtdKbI4xmlWxO/8=
Received: by 10.213.32.67 with SMTP id b3mr300542ebd.75.1330508333739;
	Wed, 29 Feb 2012 01:38:53 -0800 (PST)
Received: from [192.168.178.34] (dslb-094-222-042-218.pools.arcor-ip.net.
	[94.222.42.218])
	by mx.google.com with ESMTPS id u9sm80813077eem.11.2012.02.29.01.38.52
	(version=TLSv1/SSLv3 cipher=OTHER);
	Wed, 29 Feb 2012 01:38:53 -0800 (PST)
Message-ID: <4F4DF22E.30806@googlemail.com>
Date: Wed, 29 Feb 2012 10:38:54 +0100
From: =?ISO-8859-15?Q?Gr=FCner_Heinrich?=
 <gruener.heinrich@googlemail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.0;
	rv:10.0.2) Gecko/20120216 Thunderbird/10.0.2
MIME-Version: 1.0
To: XWiki Users <users@xwiki.org>
Subject: [xwiki-users] Using Velocity to generate HTML
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: gruener.heinrich@web.de, XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi,

I created a velocity macro and called it like this.
{{velocity}}
$services.xtestprogress.render()
{{/velocity}}

It happens that all <link/> -Tags inserted in the render method are 
removed in the resulting website.
Any ideas?

Thanks, Stefan.

_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:40 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp86557igc;
        Wed, 29 Feb 2012 02:08:13 -0800 (PST)
Received: by 10.213.21.145 with SMTP id j17mr354867ebb.139.1330510086102;
        Wed, 29 Feb 2012 02:08:06 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id q46si1690090eem.163.2012.02.29.02.08.05;
        Wed, 29 Feb 2012 02:08:06 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E18456A64702;
	Wed, 29 Feb 2012 10:04:23 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330509863; bh=snLjSBhNMuscj76bmchAx1PKqbNoc3mZ8JEIteHzdVk=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=Zjcq6oMZJD51c995JuYzdkeqrKUrTAU3/Wqcv2sro61h0U1NzWE3Dse7n7WFmbFh1
	 HfTkM8VfD5Sux4R8dLUUrzy/1pwiKB8Ek6dbC+z5vnc3pAQe+b6jKzS6PHJ5RkSqPk
	 pwgYrCWIzmEQDVPc+12K0KRfDiUa2yXPxwwUqDx0=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 7cUZaHIzEfmb; Wed, 29 Feb 2012 10:04:23 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 487D66A64717;
	Wed, 29 Feb 2012 10:04:08 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330509848; bh=snLjSBhNMuscj76bmchAx1PKqbNoc3mZ8JEIteHzdVk=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=oID5a8v2ZUQIZ3oM9hzvDzPHL1d7q1y//giS4Eja9L/dSX3nTkueS91+ke2FrL8Um
	 YQPRCtTvcAje1upTKDdIRxxiygmgCvdJ92hr1DBsWqrddKkM9kcQaUxlWM7ExG+l3e
	 3rKR2HCLSHB/FJPpB6tJgOQiiteV1XblZALQSZGs=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id BFCCD6A64710
	for <users@xwiki.org>; Wed, 29 Feb 2012 10:03:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id 8T6FV9bE85xS for <users@xwiki.org>;
	Wed, 29 Feb 2012 10:03:56 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 102566A64702
	for <users@xwiki.org>; Wed, 29 Feb 2012 10:03:54 +0000 (UTC)
Received: by obbup3 with SMTP id up3so539421obb.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 02:07:29 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.75.40 as permitted sender) client-ip=10.182.75.40;
Received: from mr.google.com ([10.182.75.40])
	by 10.182.75.40 with SMTP id z8mr8619964obv.20.1330510049550 (num_hops
	= 1); Wed, 29 Feb 2012 02:07:29 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.75.40 with SMTP id z8mr7570093obv.20.1330508553845; Wed,
	29 Feb 2012 01:42:33 -0800 (PST)
Received: by 10.182.78.33 with HTTP; Wed, 29 Feb 2012 01:42:33 -0800 (PST)
In-Reply-To: <4F4DF22E.30806@googlemail.com>
References: <4F4DF22E.30806@googlemail.com>
Date: Wed, 29 Feb 2012 10:42:33 +0100
Message-ID: <CAPnKnLF0ZtiWZu0_A8pEBOgvBsQSjKSX9Ytp5FtbY768Z6TP=w@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: gruener.heinrich@web.de, XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQnSz7iYVEtC2z/Du365451EWtyeHlLfxlxzw2Ax8iVOKwf1OxZu3eMsYIXGBYYPh8mwQyJO
Subject: Re: [xwiki-users] Using Velocity to generate HTML
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

2012/2/29 Gr=FCner Heinrich <gruener.heinrich@googlemail.com>:
> Hi,
>
> I created a velocity macro and called it like this.
> {{velocity}}
> $services.xtestprogress.render()
> {{/velocity}}
>
> It happens that all <link/> -Tags inserted in the render method are remov=
ed
> in the resulting website.
> Any ideas?

content generated by velocity is seen as wiki content by default
(unless you use wiki=3D"false" and in this case it's plain text) so
anything that is not wiki syntax is properly escaped. If you want to
insert html content you need to use {{html}} macro.

See http://extensions.xwiki.org/xwiki/bin/view/Extension/HTML+Macro

>
> Thanks, Stefan.
>
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:40 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp86778igc;
        Wed, 29 Feb 2012 02:14:04 -0800 (PST)
Received: by 10.14.120.210 with SMTP id p58mr5730487eeh.98.1330510436896;
        Wed, 29 Feb 2012 02:13:56 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id n9si15465485eef.31.2012.02.29.02.13.56;
        Wed, 29 Feb 2012 02:13:56 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@googlemail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 4D6DB6A6471B;
	Wed, 29 Feb 2012 10:10:17 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330510217; bh=UpERl49tA7DMZ19uW263BvHSBKDMXpdj3w0qIoWN5QI=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Transfer-Encoding:Content-Type:
	 Sender;
	b=Jxrv5avXzL48o8ybuqMYSv1PYulPvZjUPZ8UsFXA2vc74Wp20Nf6aHtZBRoSll4PD
	 PR++HCvHXZaZ3IzKm+rZKSmpLHdsLMUtVJrVtZlSSWS/jk7T4p7S76470T1TR+avU6
	 cAYGA9uvQ1Yed2+XmN91UXFEMos3JncXd4cQ+zYM=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id ZeTnbcpKS4Ir; Wed, 29 Feb 2012 10:10:17 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 2620A6A64702;
	Wed, 29 Feb 2012 10:10:15 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330510215; bh=UpERl49tA7DMZ19uW263BvHSBKDMXpdj3w0qIoWN5QI=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Transfer-Encoding:Content-Type:
	 Sender;
	b=iZg2cQR497jmR6kM2L0p42MwBDsqgaqr3y4TiE+u3YagvgaRUoE59+gYCr/D4z2fO
	 ZN0811GG0Z/F9ydLTNrFcWY6nnzmCh8n13Od/MkwoumkWNvTp6WKxN2SXyko29njFA
	 8UXEBEb+uY+ijejP2I/N8F4yT3v5h2INnFSi6QpQ=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 2483E6A646F8
	for <users@xwiki.org>; Wed, 29 Feb 2012 10:10:12 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id vgvZ9CZm2UG1 for <users@xwiki.org>;
	Wed, 29 Feb 2012 10:10:11 +0000 (UTC)
Received: from mail-ee0-f51.google.com (mail-ee0-f51.google.com [74.125.83.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id 6287B6A64374
	for <users@xwiki.org>; Wed, 29 Feb 2012 10:10:11 +0000 (UTC)
Received: by eeke50 with SMTP id e50so1508251eek.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 02:13:49 -0800 (PST)
Received-SPF: pass (google.com: domain of gruener.heinrich@googlemail.com
	designates 10.213.29.70 as permitted sender)
	client-ip=10.213.29.70;
Received: from mr.google.com ([10.213.29.70])
	by 10.213.29.70 with SMTP id p6mr460390ebc.78.1330510429694 (num_hops =
	1); Wed, 29 Feb 2012 02:13:49 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=googlemail.com; s=gamma;
	h=message-id:date:from:reply-to:user-agent:mime-version:to:subject
	:references:in-reply-to:content-type:content-transfer-encoding;
	bh=RZr8XyQBdmjsgBr9dlIBcup352KhyKrPPcwMiG607+g=;
	b=BKXX5KtLa6n+D6fNbAiysa2hYJbdmbkWeh0px0miN+9zKoer4rwCZJm6vKJX992AWu
	vps9HkfGAq5ApuKFglA2Hlu5GK6sZBSnTtbXRQqdxwLmXbD8csSqfu7lPG5CcMx50sp+
	2eDczHIMJd+mNzXeHHK+RU2M26jH+e/KGnxe4=
Received: by 10.213.29.70 with SMTP id p6mr378587ebc.78.1330510429582;
	Wed, 29 Feb 2012 02:13:49 -0800 (PST)
Received: from [192.168.178.34] (dslb-094-222-042-218.pools.arcor-ip.net.
	[94.222.42.218])
	by mx.google.com with ESMTPS id v51sm81162414eef.2.2012.02.29.02.13.48
	(version=TLSv1/SSLv3 cipher=OTHER);
	Wed, 29 Feb 2012 02:13:48 -0800 (PST)
Message-ID: <4F4DFA5F.6080803@googlemail.com>
Date: Wed, 29 Feb 2012 11:13:51 +0100
From: =?ISO-8859-1?Q?Gr=FCner_Heinrich?=
 <gruener.heinrich@googlemail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.0;
	rv:10.0.2) Gecko/20120216 Thunderbird/10.0.2
MIME-Version: 1.0
To: XWiki Users <users@xwiki.org>
References: <4F4DF22E.30806@googlemail.com>
	<70C07FA8-646E-4397-A38A-31B4FE504B8A@massol.net>
In-Reply-To: <70C07FA8-646E-4397-A38A-31B4FE504B8A@massol.net>
Subject: Re: [xwiki-users] Using Velocity to generate HTML
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: gruener.heinrich@web.de, XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"; Format="flowed"
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Sorry Vincent, sorry Thomas
but I didn't get it.
What do you mean?
The html content is rendered into the page, but without all =

stylesheet-information.

Am 29.02.2012 10:42, schrieb Thomas Mortagne:
> 2012/2/29 Gr=FCner Heinrich<gruener.heinrich@googlemail.com>:
>> Hi,
>>
>> I created a velocity macro and called it like this.
>> {{velocity}}
>> $services.xtestprogress.render()
>> {{/velocity}}
>>
>> It happens that all<link/>  -Tags inserted in the render method are =

>> removed
>> in the resulting website.
>> Any ideas?
> content generated by velocity is seen as wiki content by default
> (unless you use wiki=3D"false" and in this case it's plain text) so
> anything that is not wiki syntax is properly escaped. If you want to
> insert html content you need to use {{html}} macro.
>
> See http://extensions.xwiki.org/xwiki/bin/view/Extension/HTML+Macro
>
>> Thanks, Stefan.
>>
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
>
>

Am 29.02.2012 10:41, schrieb Vincent Massol:
> Hi,
>
> On Feb 29, 2012, at 10:38 AM, Gr=FCner Heinrich wrote:
>
>> Hi,
>>
>> I created a velocity macro and called it like this.
>> {{velocity}}
>> $services.xtestprogress.render()
>> {{/velocity}}
>>
>> It happens that all<link/>  -Tags inserted in the render method are remo=
ved in the resulting website.
>> Any ideas?
> If you wish to insert HTML you need to use the HTML macro:
> http://extensions.xwiki.org/xwiki/bin/view/Extension/HTML+Macro
>
> Thanks
> -Vincent
>
>

_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:40 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp87015igc;
        Wed, 29 Feb 2012 02:21:35 -0800 (PST)
Received: by 10.14.38.193 with SMTP id a41mr10407496eeb.125.1330510887560;
        Wed, 29 Feb 2012 02:21:27 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id o44si15445061eef.193.2012.02.29.02.21.23;
        Wed, 29 Feb 2012 02:21:27 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E15276A64708;
	Wed, 29 Feb 2012 10:17:44 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330510664; bh=E3Nps8yNrbWlmbb/HfKEM3Ms/GuH+EN1bUPZlDSderY=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=jKrpfbYCKLp+kJRqr2NDG4ayi9auGcn/nGQ33u0/xhFrBK5Fy6b7+yCyl6beHdTKv
	 ECI6gSGj4k0lKKxPx2xNfpc9YmL+qWjzZ3jG5olRz0F80zVVkwqbjGDAAQxJlsx9Da
	 f1mp6IJ+QXjmNbSRNS/vcolfYtdVn76NaLUk4YU4=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id yK9xu3jBt0rS; Wed, 29 Feb 2012 10:17:44 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 7A0BC6A646F8;
	Wed, 29 Feb 2012 10:17:42 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330510662; bh=E3Nps8yNrbWlmbb/HfKEM3Ms/GuH+EN1bUPZlDSderY=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=dyyLOHndBuuplUP6xvGvQK/BYw5NfwbVc9C9JLSNTSb/O8cqYVfIHJGyzrzFOO1om
	 vaRxKn2giG3+NFoTm0aGotcMOSLROcU6gMrjqAFJP5dXPgU9aDUw1gCCgWo7FunRc9
	 cH3VD4LVdYp2KgQBtxVMrZ6dpBUSO1BrRgkxcovM=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 430486A646F3
	for <users@xwiki.org>; Wed, 29 Feb 2012 10:17:39 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id tTx3rYbe9h3v for <users@xwiki.org>;
	Wed, 29 Feb 2012 10:17:36 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 02A3F6A6304B
	for <users@xwiki.org>; Wed, 29 Feb 2012 10:17:33 +0000 (UTC)
Received: by obbup3 with SMTP id up3so556523obb.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 02:21:06 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.174.101 as permitted sender) client-ip=10.182.174.101;
Received: from mr.google.com ([10.182.174.101])
	by 10.182.174.101 with SMTP id br5mr8640540obc.0.1330510866516
	(num_hops = 1); Wed, 29 Feb 2012 02:21:06 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.174.101 with SMTP id br5mr7616953obc.0.1330510866403; Wed,
	29 Feb 2012 02:21:06 -0800 (PST)
Received: by 10.182.78.33 with HTTP; Wed, 29 Feb 2012 02:21:06 -0800 (PST)
In-Reply-To: <4F4DFA5F.6080803@googlemail.com>
References: <4F4DF22E.30806@googlemail.com>
	<70C07FA8-646E-4397-A38A-31B4FE504B8A@massol.net>
	<4F4DFA5F.6080803@googlemail.com>
Date: Wed, 29 Feb 2012 11:21:06 +0100
Message-ID: <CAPnKnLFSp8ynCpZY6BnH_kc39uC5cxq6TaAmn-4i18w4M-d=Zw@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQmLSIkXLi7NG31FsVuJs3ToZedwAAqcE3/9pa5KmOHR9Ge9swY99Y6FuVVTIN7fOcR7elee
Subject: Re: [xwiki-users] Using Velocity to generate HTML
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

As I said the result of velocity execution is seen as wiki content
which mean that if you have anything in you content that mean
something as wiki syntax is will be interpreted as such. If you want
to be sure you get exactly what was produced by the velocity script
use {{velocity wiki=3D"false"}} instead of {{velocity}}.

But again this is displaying you html, it's not inserting html as part
of the html content. If that's what you want then fine, you might want
to improve it a little by using the code macro which will do a syntax
highlight of your html content in a box.

2012/2/29 Gr=FCner Heinrich <gruener.heinrich@googlemail.com>:
> Sorry Vincent, sorry Thomas
> but I didn't get it.
> What do you mean?
> The html content is rendered into the page, but without all
> stylesheet-information.
>
> Am 29.02.2012 10:42, schrieb Thomas Mortagne:
>>
>> 2012/2/29 Gr=FCner Heinrich<gruener.heinrich@googlemail.com>:
>>
>>> Hi,
>>>
>>> I created a velocity macro and called it like this.
>>> {{velocity}}
>>> $services.xtestprogress.render()
>>> {{/velocity}}
>>>
>>> It happens that all<link/> =A0-Tags inserted in the render method are
>>> removed
>>> in the resulting website.
>>> Any ideas?
>>
>> content generated by velocity is seen as wiki content by default
>>
>> (unless you use wiki=3D"false" and in this case it's plain text) so
>> anything that is not wiki syntax is properly escaped. If you want to
>> insert html content you need to use {{html}} macro.
>>
>> See http://extensions.xwiki.org/xwiki/bin/view/Extension/HTML+Macro
>>
>>> Thanks, Stefan.
>>>
>>> _______________________________________________
>>> users mailing list
>>> users@xwiki.org
>>> http://lists.xwiki.org/mailman/listinfo/users
>>
>>
>>
>
> Am 29.02.2012 10:41, schrieb Vincent Massol:
>
>> Hi,
>>
>> On Feb 29, 2012, at 10:38 AM, Gr=FCner Heinrich wrote:
>>
>>> Hi,
>>>
>>> I created a velocity macro and called it like this.
>>> {{velocity}}
>>> $services.xtestprogress.render()
>>> {{/velocity}}
>>>
>>> It happens that all<link/> =A0-Tags inserted in the render method are
>>> removed in the resulting website.
>>> Any ideas?
>>
>> If you wish to insert HTML you need to use the HTML macro:
>> http://extensions.xwiki.org/xwiki/bin/view/Extension/HTML+Macro
>>
>> Thanks
>> -Vincent
>>
>>
>
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:41 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp88119igc;
        Wed, 29 Feb 2012 03:15:23 -0800 (PST)
Received: by 10.14.123.17 with SMTP id u17mr3647835eeh.51.1330514115170;
        Wed, 29 Feb 2012 03:15:15 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id m49si15571772eeh.50.2012.02.29.03.15.14;
        Wed, 29 Feb 2012 03:15:15 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@googlemail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 1450D6A64698;
	Wed, 29 Feb 2012 11:11:35 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330513895; bh=+VFH+qcggoFSMygJ9tfZBAULfHA7tvVTItvPRoS7IE0=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Transfer-Encoding:Content-Type:
	 Sender;
	b=FMOYuA7AmImIxoCRwDl2I3HsX1y5cQels2zNISoamc94tMkAYPzkfwTPzEqaUYy73
	 rP7Y27v8yJUKbQ21G0zAaDKXfkRBFkYn0HLXJeWDxvcRIUR4ZWUl7ZzyI28w/hzGQs
	 deZjy0V10peXTEy+FuHeEBBdI+fry7vqkn5stWTM=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id EAKKNKeWI8EM; Wed, 29 Feb 2012 11:11:34 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 450DD6A64702;
	Wed, 29 Feb 2012 11:11:34 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330513894; bh=+VFH+qcggoFSMygJ9tfZBAULfHA7tvVTItvPRoS7IE0=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Transfer-Encoding:Content-Type:
	 Sender;
	b=TdqbZ6XR0CavdHMbrgzraV8o4fZ2LT3oQLoAjYdq9h5tnTu2TdgQnBvVBUx5jo3ti
	 LD24Ik0jJtlethgjFOTVretRn34k0Ux9wKBmWk005bDN3Luis1GTgJoz0/pVywW7FA
	 7WplxSE84tT6m93m2ItOGQdGXj2fnUmoAoEZcGSY=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 419046A6469C
	for <users@xwiki.org>; Wed, 29 Feb 2012 11:11:31 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id vRU+HmKiKdlT for <users@xwiki.org>;
	Wed, 29 Feb 2012 11:11:30 +0000 (UTC)
Received: from mail-ey0-f179.google.com (mail-ey0-f179.google.com
	[209.85.215.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id C34D06A64698
	for <users@xwiki.org>; Wed, 29 Feb 2012 11:11:29 +0000 (UTC)
Received: by eaan11 with SMTP id n11so3234074eaa.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 03:15:08 -0800 (PST)
Received-SPF: pass (google.com: domain of gruener.heinrich@googlemail.com
	designates 10.213.13.205 as permitted sender)
	client-ip=10.213.13.205;
Received: from mr.google.com ([10.213.13.205])
	by 10.213.13.205 with SMTP id d13mr497446eba.149.1330514108100
	(num_hops = 1); Wed, 29 Feb 2012 03:15:08 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=googlemail.com; s=gamma;
	h=message-id:date:from:reply-to:user-agent:mime-version:to:subject
	:references:in-reply-to:content-type;
	bh=s7IDWpV7NvyOC0tOBya8uEDdX8U3lzpdHfrGZqNqJGc=;
	b=FOyOXP9LAFVhNrwUhAyKyOar2t9FfqDikMeVgGV1bHh5jkjef9u/NJfh5eHD+WDfib
	vCjHrHDFbPS0T5hD3qH1xRz0z7ieTYJ4g9xc4ldqMfpbUyKSl5WeOWoxQ90+pBBNiVCu
	g3H1mSTtdeHjQviwRt4uzm6zWCy7IMAIfmeIo=
Received: by 10.213.13.205 with SMTP id d13mr407429eba.149.1330514107836;
	Wed, 29 Feb 2012 03:15:07 -0800 (PST)
Received: from [192.168.178.34] (dslb-094-222-042-218.pools.arcor-ip.net.
	[94.222.42.218])
	by mx.google.com with ESMTPS id s48sm81715202eem.0.2012.02.29.03.15.05
	(version=TLSv1/SSLv3 cipher=OTHER);
	Wed, 29 Feb 2012 03:15:06 -0800 (PST)
Message-ID: <4F4E08BC.20603@googlemail.com>
Date: Wed, 29 Feb 2012 12:15:08 +0100
From: =?ISO-8859-1?Q?Gr=FCner_Heinrich?=
 <gruener.heinrich@googlemail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.0;
	rv:10.0.2) Gecko/20120216 Thunderbird/10.0.2
MIME-Version: 1.0
To: XWiki Users <users@xwiki.org>
References: <4F4DF22E.30806@googlemail.com>
	<70C07FA8-646E-4397-A38A-31B4FE504B8A@massol.net>
	<4F4DFA5F.6080803@googlemail.com>
	<CAPnKnLFSp8ynCpZY6BnH_kc39uC5cxq6TaAmn-4i18w4M-d=Zw@mail.gmail.com>
In-Reply-To: <CAPnKnLFSp8ynCpZY6BnH_kc39uC5cxq6TaAmn-4i18w4M-d=Zw@mail.gmail.com>
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-users] Using Velocity to generate HTML
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: gruener.heinrich@web.de, XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Transfer-Encoding: quoted-printable
Content-Type: text/plain; charset="iso-8859-1"; Format="flowed"
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi Thomas,

any chance that I hit a bug?
My code is like This:

{{velocity wiki=3D"false"}}
$services.xtestprogress.render()
{{/velocity}}

And the page rendered looks Like This:





Am 29.02.2012 11:21, schrieb Thomas Mortagne:
> As I said the result of velocity execution is seen as wiki content
> which mean that if you have anything in you content that mean
> something as wiki syntax is will be interpreted as such. If you want
> to be sure you get exactly what was produced by the velocity script
> use {{velocity wiki=3D"false"}} instead of {{velocity}}.
>
> But again this is displaying you html, it's not inserting html as part
> of the html content. If that's what you want then fine, you might want
> to improve it a little by using the code macro which will do a syntax
> highlight of your html content in a box.
>
> 2012/2/29 Gr=FCner Heinrich<gruener.heinrich@googlemail.com>:
>> Sorry Vincent, sorry Thomas
>> but I didn't get it.
>> What do you mean?
>> The html content is rendered into the page, but without all
>> stylesheet-information.
>>
>> Am 29.02.2012 10:42, schrieb Thomas Mortagne:
>>> 2012/2/29 Gr=FCner Heinrich<gruener.heinrich@googlemail.com>:
>>>
>>>> Hi,
>>>>
>>>> I created a velocity macro and called it like this.
>>>> {{velocity}}
>>>> $services.xtestprogress.render()
>>>> {{/velocity}}
>>>>
>>>> It happens that all<link/>    -Tags inserted in the render method are
>>>> removed
>>>> in the resulting website.
>>>> Any ideas?
>>> content generated by velocity is seen as wiki content by default
>>>
>>> (unless you use wiki=3D"false" and in this case it's plain text) so
>>> anything that is not wiki syntax is properly escaped. If you want to
>>> insert html content you need to use {{html}} macro.
>>>
>>> See http://extensions.xwiki.org/xwiki/bin/view/Extension/HTML+Macro
>>>
>>>> Thanks, Stefan.
>>>>
>>>> _______________________________________________
>>>> users mailing list
>>>> users@xwiki.org
>>>> http://lists.xwiki.org/mailman/listinfo/users
>>>
>>>
>> Am 29.02.2012 10:41, schrieb Vincent Massol:
>>
>>> Hi,
>>>
>>> On Feb 29, 2012, at 10:38 AM, Gr=FCner Heinrich wrote:
>>>
>>>> Hi,
>>>>
>>>> I created a velocity macro and called it like this.
>>>> {{velocity}}
>>>> $services.xtestprogress.render()
>>>> {{/velocity}}
>>>>
>>>> It happens that all<link/>    -Tags inserted in the render method are
>>>> removed in the resulting website.
>>>> Any ideas?
>>> If you wish to insert HTML you need to use the HTML macro:
>>> http://extensions.xwiki.org/xwiki/bin/view/Extension/HTML+Macro
>>>
>>> Thanks
>>> -Vincent
>>>
>>>
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
>
>

_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:41 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp87063igc;
        Wed, 29 Feb 2012 02:23:04 -0800 (PST)
Received: by 10.14.187.143 with SMTP id y15mr9313338eem.82.1330510976468;
        Wed, 29 Feb 2012 02:22:56 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id f9si15446205eea.200.2012.02.29.02.22.55;
        Wed, 29 Feb 2012 02:22:56 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@googlemail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 1599A6A646F4;
	Wed, 29 Feb 2012 10:19:16 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330510756; bh=9aZBMKSqFpOE7jfztRjoESrt5yn+ofWavN1M1UVQXVE=;
	h=Message-ID:Date:From:MIME-Version:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Transfer-Encoding:Content-Type:Sender;
	b=wVAxbe2/yxESWMHrmyM4ITc5z8QUqTKLvCmUXDmNdPVhJcOcbjZ+8scYMUevFgbiZ
	 FOC7lVTZLS0PnYwAOvr8Ot5Pp+0N95yKHVZtFiqu8qV/2WWDlkOVOwWlF86+Ipbbn0
	 xmPeZwVcHUYimuZ6bxpe9GYfC/h2P8muw/eosmXI=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MGHpcorg+poq; Wed, 29 Feb 2012 10:19:15 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 5834B6A646F8;
	Wed, 29 Feb 2012 10:19:09 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330510749; bh=9aZBMKSqFpOE7jfztRjoESrt5yn+ofWavN1M1UVQXVE=;
	h=Message-ID:Date:From:MIME-Version:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Transfer-Encoding:Content-Type:Sender;
	b=qm8W74FCs/dnq6ysyRbTiobEMjEiCVcirACfVvsGHSJU3IA+PW2NIWLQh7IXzPPKN
	 CFUCxvJerIKc9kl166bSk/eMW68fJTLwU5uywlkfYtT/VC1xgDEYUBkWPSZjQHHUYP
	 6b4Rmnq9QsMhKWfYGuQHvFdxmPVTy4Xis/op4pdo=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 6D9C56A646F4
	for <users@xwiki.org>; Wed, 29 Feb 2012 10:19:04 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id uDPWCwQGYkqn for <users@xwiki.org>;
	Wed, 29 Feb 2012 10:19:04 +0000 (UTC)
Received: from mail-ee0-f51.google.com (mail-ee0-f51.google.com [74.125.83.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id D77A66A6304B
	for <users@xwiki.org>; Wed, 29 Feb 2012 10:19:03 +0000 (UTC)
Received: by eeke50 with SMTP id e50so1511425eek.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 02:22:40 -0800 (PST)
Received-SPF: pass (google.com: domain of gruener.heinrich@googlemail.com
	designates 10.14.96.6 as permitted sender) client-ip=10.14.96.6;
Received: from mr.google.com ([10.14.96.6])
	by 10.14.96.6 with SMTP id q6mr1286864eef.6.1330510960825 (num_hops =
	1); Wed, 29 Feb 2012 02:22:40 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=googlemail.com; s=gamma;
	h=message-id:date:from:reply-to:user-agent:mime-version:to:subject
	:content-type:content-transfer-encoding;
	bh=kYtX2dBCULTak377iKFlBpccVLlYbgSv4P5Gwz2/7Dk=;
	b=iqsMjogA3RjfusEUviO08P3hmcqIWG61PBHbCvojFYU3Hf7vtcgqOOlZSDEr9/wCv/
	+M5dGLjS7Edd10Vvpks0vh8vO45aIfiCo32DePGy4bZ1xVPqZhx/mnTyOt0kM7cApUNs
	3s+R/uD00BXodqJ0fBA3p/3EnanhLAvaCIfOQ=
Received: by 10.14.96.6 with SMTP id q6mr1054883eef.6.1330510960725;
	Wed, 29 Feb 2012 02:22:40 -0800 (PST)
Received: from [192.168.178.34] (dslb-094-222-042-218.pools.arcor-ip.net.
	[94.222.42.218])
	by mx.google.com with ESMTPS id n52sm81218505eea.5.2012.02.29.02.22.39
	(version=TLSv1/SSLv3 cipher=OTHER);
	Wed, 29 Feb 2012 02:22:40 -0800 (PST)
Message-ID: <4F4DFC72.8080905@googlemail.com>
Date: Wed, 29 Feb 2012 11:22:42 +0100
From: =?ISO-8859-15?Q?Gr=FCner_Heinrich?=
 <gruener.heinrich@googlemail.com>
User-Agent: Mozilla/5.0 (Windows NT 6.0;
	rv:10.0.2) Gecko/20120216 Thunderbird/10.0.2
MIME-Version: 1.0
To: XWiki Users <users@xwiki.org>
Subject: [xwiki-users] Using Velocity to generate HTML
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: gruener.heinrich@web.de, XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset="us-ascii"; Format="flowed"
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

As a workaround I tried to inject the stylesheets needed via Plugin.

         AbstractSkinExtensionPlugin  cssplugin = 
(AbstractSkinExtensionPlugin) xwiki.getPlugin("ssfx", context);
         cssplugin.use(dir+"stylesheet.css",context);
But it failed.

On the other hand,
         AbstractSkinExtensionPlugin jsplugin = 
(AbstractSkinExtensionPlugin) xwiki.getPlugin("jsfx", context);
         jsplugin.use(dir+"ui.multiselect.js",context);

worked as expected.




_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:41 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp86573igc;
        Wed, 29 Feb 2012 02:08:58 -0800 (PST)
Received: by 10.216.134.136 with SMTP id s8mr1181312wei.6.1330510130281;
        Wed, 29 Feb 2012 02:08:50 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id u15si15445450eeb.84.2012.02.29.02.08.49;
        Wed, 29 Feb 2012 02:08:50 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 40C326A64719;
	Wed, 29 Feb 2012 10:05:10 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330509910; bh=NjLejNja7d3DCkTzVPDaTCG2FQodaEnnv5DVVAWJ0l0=;
	h=Mime-Version:From:In-Reply-To:Date:Message-Id:References:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=ZZTsggwqImrni+5VqclRCQBYtnkyBKlbyOFOTDs0P4pIGF9/yuu72/Mb5anBoWLPw
	 T8vhF09405GQiS0N6tAevwAfJ47EDK80+pkxUmtBXuIA3S5CniKllD0DUNQi2l1Nzf
	 N630BKu3v7ohWaabs2XnzVPBlU0CUrBDxYFZruxA=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id d-Hwce0XISpo; Wed, 29 Feb 2012 10:05:10 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 6A8AB6A64705;
	Wed, 29 Feb 2012 10:05:01 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330509901; bh=NjLejNja7d3DCkTzVPDaTCG2FQodaEnnv5DVVAWJ0l0=;
	h=Mime-Version:From:In-Reply-To:Date:Message-Id:References:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=Dqn1z5oQCGfFRUSn6UcakNGW11zjg9oWt26Qluusk9FzvFj9UQvYrRNOTFXmnbj5v
	 PhBPPUaa3qyKoVgkAirzLkD3qe4NoKF4xoWmDm3JATsW5MCLzKzgV7dsUJtBFoFevL
	 mNXgMT5ezf+lbyFc1u09vHaSp2/Jro7Xv9VT0pic=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 84AB76A63047
	for <users@xwiki.org>; Wed, 29 Feb 2012 10:04:54 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id bAHRvSn3Xd1G for <users@xwiki.org>;
	Wed, 29 Feb 2012 10:04:47 +0000 (UTC)
Received: from mail-ww0-f43.google.com (mail-ww0-f43.google.com [74.125.82.43])
	by borabora.xwiki.com (Postfix) with ESMTPS id 492F46A64705
	for <users@xwiki.org>; Wed, 29 Feb 2012 10:04:46 +0000 (UTC)
Received: by wgbdr12 with SMTP id dr12so3331126wgb.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 02:08:24 -0800 (PST)
Received-SPF: pass (google.com: domain of vmassol@gmail.com designates
	10.180.99.164 as permitted sender) client-ip=10.180.99.164;
Received: from mr.google.com ([10.180.99.164])
	by 10.180.99.164 with SMTP id er4mr10683207wib.11.1330510104045
	(num_hops = 1); Wed, 29 Feb 2012 02:08:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=sender:subject:mime-version:content-type:from:in-reply-to:date:cc
	:content-transfer-encoding:message-id:references:to:x-mailer;
	bh=H5oLQUbnelx/GaWfNuCnEOdvRQ5NrfERtsp4gs32O4M=;
	b=QxTme0aAdSoohnhNVeGgetoKaWT53QWfV1V+bi9tTi52sF8L4cHqX2M9jfEhYJL6C1
	MQja0Otp5+IUP/ecZZe/Emg8yYQsgDBMdHFtv/8l4Qw1wx6CUmTUi1JEfA2Rh2zZqCPN
	slypjPiewFrLcc2trT+QHXU36UbY0kx4NWNBs=
Received: by 10.180.99.164 with SMTP id er4mr8418405wib.11.1330508491886;
	Wed, 29 Feb 2012 01:41:31 -0800 (PST)
Received: from [192.168.10.82] (83.255.66.86.rev.sfr.net. [86.66.255.83])
	by mx.google.com with ESMTPS id bg3sm34140170wib.10.2012.02.29.01.41.29
	(version=TLSv1/SSLv3 cipher=OTHER);
	Wed, 29 Feb 2012 01:41:30 -0800 (PST)
Mime-Version: 1.0 (Apple Message framework v1257)
From: Vincent Massol <vincent@massol.net>
In-Reply-To: <4F4DF22E.30806@googlemail.com>
Date: Wed, 29 Feb 2012 10:41:25 +0100
Message-Id: <70C07FA8-646E-4397-A38A-31B4FE504B8A@massol.net>
References: <4F4DF22E.30806@googlemail.com>
To: XWiki Users <users@xwiki.org>
X-Mailer: Apple Mail (2.1257)
Subject: Re: [xwiki-users] Using Velocity to generate HTML
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi,

On Feb 29, 2012, at 10:38 AM, Gr=FCner Heinrich wrote:

> Hi,
> =

> I created a velocity macro and called it like this.
> {{velocity}}
> $services.xtestprogress.render()
> {{/velocity}}
> =

> It happens that all <link/> -Tags inserted in the render method are remov=
ed in the resulting website.
> Any ideas?

If you wish to insert HTML you need to use the HTML macro:
http://extensions.xwiki.org/xwiki/bin/view/Extension/HTML+Macro

Thanks
-Vincent

_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:41 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp78363igc;
        Tue, 28 Feb 2012 15:53:54 -0800 (PST)
Received: by 10.213.29.8 with SMTP id o8mr4634208ebc.84.1330473226306;
        Tue, 28 Feb 2012 15:53:46 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id q46si761813eem.55.2012.02.28.15.53.45;
        Tue, 28 Feb 2012 15:53:46 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 685786A646F6;
	Tue, 28 Feb 2012 23:50:09 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330473009; bh=GSoYjo7Vwwkk8PfOzBx5/tkw9W+DAoWNFowGhUrcuaM=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=Hkv6sDPCS17Aa23ne+IN/OReOyySTl5k/iu3DOYAQ1raHJgsq3ZK0Z41fVfNNsXp/
	 giAU2RkVjvCNLCDyN3WYYqetwjMxjRas6ofYc5qot8bRAvyyQl97JmIqJe3sl/R755
	 ZQvVAiH/JgfYF5YPYIaBwhQ0OU+9xXrwAdHvzeGA=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id TTN2MzVHR+7m; Tue, 28 Feb 2012 23:50:09 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id CA35A6A646F8;
	Tue, 28 Feb 2012 23:50:07 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330473008; bh=GSoYjo7Vwwkk8PfOzBx5/tkw9W+DAoWNFowGhUrcuaM=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=rfwzPNtBwTe+SHAV4BpNIm/bIINlp+DHqXqZll8QyGX18RmWGdcloBS9dMW1MrvIX
	 leZPUilMaNowb16fHrs2CmoIcRf73nHUad1GbW54obwdR6bT+xKujn5BTlAP7Z0tZt
	 hm23JSLWeTnbLaltAs2OSxBFc0eaSpvbm1FRbcRA=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 448596A646F6
	for <users@xwiki.org>; Tue, 28 Feb 2012 23:50:06 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id Evm9lN9Vn1Q6 for <users@xwiki.org>;
	Tue, 28 Feb 2012 23:50:03 +0000 (UTC)
Received: from mail-qw0-f44.google.com (mail-qw0-f44.google.com
	[209.85.216.44])
	by borabora.xwiki.com (Postfix) with ESMTPS id 411DA6A64374
	for <users@xwiki.org>; Tue, 28 Feb 2012 23:50:02 +0000 (UTC)
Received: by qadc14 with SMTP id c14so1069229qad.3
	for <users@xwiki.org>; Tue, 28 Feb 2012 15:53:36 -0800 (PST)
Received-SPF: pass (google.com: domain of pgmjsd@gmail.com designates
	10.224.17.202 as permitted sender) client-ip=10.224.17.202;
Received: from mr.google.com ([10.224.17.202])
	by 10.224.17.202 with SMTP id t10mr15919492qaa.53.1330473216023
	(num_hops = 1); Tue, 28 Feb 2012 15:53:36 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type; bh=yorCsWzIl26D8y1qphRU4yYP+/5zvA/Sqh44+oq9y/A=;
	b=h5EkD8c8O6aoaLVYnJndUqKVy47UIrwDJUf3emIEPs8jOHfZ3uO2dlKwzY6z9oyC5J
	QyoETJLTwwMBhdW7w1nF+aNF1JzyuCxbZdVBk9K4vMP2qQT/rb8C2KDAzVASiY96RciS
	KDkSnR4ZwWfQjjE9U/PihvFpD+b7+UBkIWf/o=
MIME-Version: 1.0
Received: by 10.224.17.202 with SMTP id t10mr13404608qaa.53.1330473215899;
	Tue, 28 Feb 2012 15:53:35 -0800 (PST)
Received: by 10.229.29.1 with HTTP; Tue, 28 Feb 2012 15:53:35 -0800 (PST)
In-Reply-To: <CABZYKhZdrUi-8F6K4Z-q6iVDOaoroT_ae80YCd9mY97Ek7i-nQ@mail.gmail.com>
References: <CABZYKhb0hKoEbXiKH2v2b8cOmzVfSTkHikqNVR_i2PAE2H5y=Q@mail.gmail.com>
	<244BFA3AE9F83C4A8261E27189707237010293C74965@ASSCCEVS03.sergas.local>
	<CABZYKhYY6-gh7ZZF94geqqQF44EgKCMFx6tOdv=RbzjcFu5W+g@mail.gmail.com>
	<CAPDkzZiN-EzUuba74qUZHX5XrFDZcxZ35c41Nb+J39CC2DA1Vg@mail.gmail.com>
	<CABZYKhYch4ep11FjY_sP+a64mYhDhaCSiz8Pi7RL1qYKr=M+vA@mail.gmail.com>
	<CABZYKhZdrUi-8F6K4Z-q6iVDOaoroT_ae80YCd9mY97Ek7i-nQ@mail.gmail.com>
Date: Tue, 28 Feb 2012 18:53:35 -0500
Message-ID: <CABZYKhYTBnsG+cYX4sCB4ZUD05KhqL_uYSq3=ay33d53gg+XBw@mail.gmail.com>
From: Joshua Davis <pgmjsd@gmail.com>
To: XWiki Users <users@xwiki.org>
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-users] Lucene re-index problem
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Nope.  Still hangs if I re-index.  Nothing in the logs.

On Tue, Feb 28, 2012 at 6:42 PM, Joshua Davis <pgmjsd@gmail.com> wrote:

> I think I'm hitting a ulimit issue, I'm going to bump up ulimit for my
> tomcat user and restart.
>
> On Tue, Feb 28, 2012 at 6:24 PM, Joshua Davis <pgmjsd@gmail.com> wrote:
>
>> In my case I am using the default value in xwiki.cfg:
>>
>> xwiki.work.dir=data
>>
>> This seems to be pointing to /home/<tomcat user>/data on my system.
>>
>> Looks like the Lucene index is in /home/<tomcat user>/data/lucene ...
>> hmm.  I deleted a different directory before.  Anyway... yes, the user has
>> access to this directory.
>>
>> -bash-3.2$ ll data
>> total 8
>> drwxr-xr-x 3 tomcat60 tomcat60 4096 Feb 22 06:24 extension
>> drwxr-xr-x 2 tomcat60 tomcat60 4096 Feb 28 18:00 lucene
>> -bash-3.2$ ll data/lucene
>> total 1548
>> -rw-r--r-- 1 tomcat60 tomcat60 638394 Feb 28 18:00 _f4.fdt
>> -rw-r--r-- 1 tomcat60 tomcat60   3404 Feb 28 18:00 _f4.fdx
>> -rw-r--r-- 1 tomcat60 tomcat60  11929 Feb 28 18:00 _f4.fnm
>> -rw-r--r-- 1 tomcat60 tomcat60 125852 Feb 28 18:00 _f4.frq
>> -rw-r--r-- 1 tomcat60 tomcat60 141104 Feb 28 18:00 _f4.nrm
>> -rw-r--r-- 1 tomcat60 tomcat60 248013 Feb 28 18:00 _f4.prx
>> -rw-r--r-- 1 tomcat60 tomcat60   5082 Feb 28 18:00 _f4.tii
>> -rw-r--r-- 1 tomcat60 tomcat60 369203 Feb 28 18:00 _f4.tis
>> -rw-r--r-- 1 tomcat60 tomcat60    280 Feb 28 18:00 segments_7m
>> -rw-r--r-- 1 tomcat60 tomcat60     20 Feb 28 18:00 segments.gen
>>
>>
>> On Tue, Feb 28, 2012 at 6:13 PM, Guillaume Fenollar <
>> guillaume.fenollar@xwiki.com> wrote:
>>
>>> Hi,
>>>
>>> When the page "stucks", it's often because of a write issue on xwiki work
>>> directory. Are you sure you put a static value of xwiki.work.dir in
>>> xwiki.cfg file after your upgrade? Your application server must have the
>>> right to write in there.
>>>
>>>
>>> 2012/2/28 Joshua Davis <pgmjsd@gmail.com>
>>>
>>> > Interesting.   Is there some way to tell the Lucene not to index the
>>> > attachments?
>>> >
>>> > On Tue, Feb 28, 2012 at 4:39 PM, <
>>> > Ricardo.Julio.Rodriguez.Fernandez@sergas.es> wrote:
>>> >
>>> > > Hi Joshua,
>>> > > > ________________________________________
>>> > > > From: users-bounces@xwiki.org [users-bounces@xwiki.org] On Behalf
>>> Of
>>> > > Joshua Davis [pgmjsd@gmail.com]
>>> > > > Sent: 28 February 2012 21:30
>>> > > > To: users@xwiki.org
>>> > > > Subject: [xwiki-users] Lucene re-index problem
>>> > > >
>>> > > > After upgrading to XWiki 3.5 (from 2.6) I noticed that the Lucene
>>> > search
>>> > > > index was not working properly.   On advice I got in the #xwiki IRC
>>> > > chat, I
>>> > > > shut down the server (Tomcat), deleted the Lucene index directory,
>>> and
>>> > > > restarted the server.   Only about 300 of the thousands of pages
>>> were
>>> > > > indexed at that point.    I tried re-indexing using the
>>> Admin->Search
>>> > > page,
>>> > > > but every time I do that the Admin->Search page gets 'stuck' (won't
>>> > > render).
>>> > > >
>>> > > > I saw no errors in the catalina.out log file, and I configured
>>> > > > WEB-INF/classes/logback.xml to enable some more logging to a
>>> separate
>>> > > > file... still nothing very informative.
>>> > > >
>>> > > > Any ideas what I can do to troubleshoot this?   I'm guessing
>>> there's
>>> > some
>>> > > > page in my wiki database that is causing the re-index process to
>>> get
>>> > > stuck.
>>> > > >
>>> > > > Thanks in advance,
>>> > > >
>>> > > > - Josh
>>> > >
>>> > > Almost two years ago we face a similar problem while updating to
>>> XWiki
>>> > > Enterprise 2.4.30451. We have been not able to get Lucene working in
>>> this
>>> > > installation. The problem here seems related with Microsoft Office
>>> > > attachements. I don't remember exactly how do we reach this
>>> conclusion
>>> > and
>>> > > it could be a kind of "shot in the air", but I remember that PDF
>>> files
>>> > seem
>>> > > to index fine, but "xls" and "doc" files causes the failure of the
>>> > process.
>>> > > As in your case, Admin>Search won't render. We have never find a
>>> > solution.
>>> > > This installation is still running but we are using database search
>>> > instead.
>>> > >
>>> > > i keep following this thread!
>>> > >
>>> > > Cheers,
>>> > >
>>> > > Ricardo
>>> > > _______________________________________________
>>> > > users mailing list
>>> > > users@xwiki.org
>>> > > http://lists.xwiki.org/mailman/listinfo/users
>>> > >
>>> > > Nota: A informaci?n contida nesta mensaxe e os seus posibles
>>> documentos
>>> > > adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu
>>> > > destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta
>>> > mensaxe,
>>> > > por favor elim?nea. A distribuci?n ou copia desta mensaxe non est?
>>> > > autorizada.
>>> > >
>>> > > Nota: La informaci?n contenida en este mensaje y sus posibles
>>> documentos
>>> > > adjuntos es privada y confidencial y est? dirigida ?nicamente a su
>>> > > destinatario/a. Si usted no es el/la destinatario/a original de este
>>> > > mensaje, por favor elim?nelo. La distribuci?n o copia de este
>>> mensaje no
>>> > > est? autorizada.
>>> > >
>>> > > See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>>> > > _______________________________________________
>>> > > users mailing list
>>> > > users@xwiki.org
>>> > > http://lists.xwiki.org/mailman/listinfo/users
>>> > >
>>> > _______________________________________________
>>> > users mailing list
>>> > users@xwiki.org
>>> > http://lists.xwiki.org/mailman/listinfo/users
>>> >
>>>
>>>
>>>
>>> --
>>> Guillaume Fenollar
>>> XWiki SysAdmin
>>> Tel : +33 (0)1.83.62.66.15
>>> _______________________________________________
>>> users mailing list
>>> users@xwiki.org
>>> http://lists.xwiki.org/mailman/listinfo/users
>>>
>>
>>
>
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:41 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp84649igc;
        Wed, 29 Feb 2012 00:22:57 -0800 (PST)
Received: by 10.14.202.197 with SMTP id d45mr9901647eeo.128.1330503769437;
        Wed, 29 Feb 2012 00:22:49 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id g43si2416487eea.179.2012.02.29.00.22.41;
        Wed, 29 Feb 2012 00:22:49 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id DD8246A646F6;
	Wed, 29 Feb 2012 08:19:02 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330503542; bh=x9m8z393qjWoUBZIaOielp5gPi/ypOv7o/mOEmfEyVo=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=nOXObiv3irrYapXNGgvY1ADDL+/AFUn8YdU+RLYXlmkTKYfIxBEAX6e8hsYWxPRRQ
	 Qkuz9AOUDh0TqPS7yykOCI5zRK4z6yRT+HsHaSLLuwE5J9NIFLBHyvbh7mlPR/jOq8
	 W0blVsdvKr1MjpmhUY+KGu1HFz8M/yVFSMEUm0ZM=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id c0M114XHpaEk; Wed, 29 Feb 2012 08:19:02 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id EACA16A646F9;
	Wed, 29 Feb 2012 08:19:01 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330503542; bh=x9m8z393qjWoUBZIaOielp5gPi/ypOv7o/mOEmfEyVo=;
	h=Message-ID:Date:From:MIME-Version:To:References:In-Reply-To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=nOXObiv3irrYapXNGgvY1ADDL+/AFUn8YdU+RLYXlmkTKYfIxBEAX6e8hsYWxPRRQ
	 Qkuz9AOUDh0TqPS7yykOCI5zRK4z6yRT+HsHaSLLuwE5J9NIFLBHyvbh7mlPR/jOq8
	 W0blVsdvKr1MjpmhUY+KGu1HFz8M/yVFSMEUm0ZM=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id F0DED6A646F6
	for <users@xwiki.org>; Wed, 29 Feb 2012 08:18:59 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id grZpfXh5CZpD for <users@xwiki.org>;
	Wed, 29 Feb 2012 08:18:56 +0000 (UTC)
Received: from mailout3.hostsharing.net (mailout3.hostsharing.net
	[176.9.242.54])
	by borabora.xwiki.com (Postfix) with ESMTPS id 78C116A6414B
	for <users@xwiki.org>; Wed, 29 Feb 2012 08:18:55 +0000 (UTC)
Received: from h06.hostsharing.net (h06.hostsharing.net [83.223.95.25])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailout3.hostsharing.net (Postfix) with ESMTPS id 34B1D72545
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:22:30 +0100 (CET)
Received: from kenny.bismarck.richard-rafalski.de (unknown [194.231.230.250])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by h06.hostsharing.net (Postfix) with ESMTPSA id 867BF19506F93
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:22:31 +0100 (CET)
Received: from localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTP id
	C4DD91216E
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:22:30 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at richard-rafalski.de
Received: from kenny.bismarck.richard-rafalski.de ([127.0.0.1])
	by localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	(amavisd-new, port 10024)
	with ESMTP id 4I4QFpFpha+y for <users@xwiki.org>;
	Wed, 29 Feb 2012 09:22:23 +0100 (CET)
Received: from [192.168.2.2] (sparky.bismarck.richard-rafalski.de
	[192.168.2.2]) (using TLSv1 with cipher AES256-SHA (256/256 bits))
	(No client certificate requested)
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTPSA id
	D7B0612168
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:22:23 +0100 (CET)
Message-ID: <4F4DE0BC.8030706@richard-rafalski.de>
Date: Wed, 29 Feb 2012 09:24:28 +0100
From: Richard Rafalski <mail@richard-rafalski.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US;
	rv:1.9.2.24) Gecko/20111114 Iceowl/1.0b2 Icedove/3.1.16
MIME-Version: 1.0
To: users@xwiki.org
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
In-Reply-To: <CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
X-Enigmail-Version: 1.1.2
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org


Am 28.02.2012 20:10, schrieb Thomas Mortagne:
> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
> <mail@richard-rafalski.de> wrote:
>> Hi,
>>
>> i have installed xwiki form the deb package
>> xwiki-enterprise-tomcat-pgsql version 3.5.  Then tried to contact the
>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is the
>> hostname where xwiki is running). No page came up. I got this error:
>>
>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>
>> What to do now?
> 
> Looks like there is something wrong with the potgre packages actually,
> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
> supposed to contain the version of tomcat now). But that's not
> related;

Do you mean something like xwiki-enterprise-tomcat6-pgsql,
xwiki-enterprise-tomcat7-pgsql ? That would be nice.

> 
> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.xml
> template file ? I think there is an issue with the generation of the
> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking at
> it.

I tried a new install on a completely fresh debian system. The problem
does not appear now. I think my old system was broken due to old failed
installations. Or did you change something meanwhile?

Richard

> 
>>
>> Thanks for help
>>
>> Here is the full error text:
>>
>> HTTP Status 500 -
>>
>> type Exception report
>>
>> message
>>
>> description The server encountered an internal error () that prevented
>> it from fulfilling this request.
>>
>> exception
>>
>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error
>> number 3 in 0: Could not initialize main XWiki context
>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>> document [name = [XWikiPreferences], type = [DOCUMENT], parent = [name =
>> [XWiki], type = [SPACE], parent = [name = [xwiki], type = [WIKI], parent
>> = [null]]]]
>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>> configuration
>>        org.apache.struts.action.RequestProcessor.processException(RequestProcessor.java:535)
>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:433)
>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>> root cause
>>
>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initialize
>> main XWiki context
>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>> document [name = [XWikiPreferences], type = [DOCUMENT], parent = [name =
>> [XWiki], type = [SPACE], parent = [name = [xwiki], type = [WIKI], parent
>> = [null]]]]
>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>> configuration
>>        com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
>>        com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>> root cause
>>
>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception while
>> reading document [name = [XWikiPreferences], type = [DOCUMENT], parent =
>> [name = [XWiki], type = [SPACE], parent = [name = [xwiki], type =
>> [WIKI], parent = [null]]]]
>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>> configuration
>>        com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWikiHibernateStore.java:856)
>>        com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCacheStore.java:283)
>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>        com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>        com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java:821)
>>        com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>        com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>        com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>        com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>> root cause
>>
>> org.hibernate.HibernateException: Can't find
>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>        com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFactory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.java:118)
>>        org.hibernate.cfg.Configuration.configure(Configuration.java:2157)
>>        com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFactory$1.configure(DefaultHibernateSessionFactory.java:80)
>>        com.xpn.xwiki.store.XWikiHibernateBaseStore.initHibernate(XWikiHibernateBaseStore.java:167)
>>        com.xpn.xwiki.store.XWikiHibernateBaseStore.checkHibernate(XWikiHibernateBaseStore.java:550)
>>        com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWikiHibernateStore.java:728)
>>        com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCacheStore.java:283)
>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>        com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>        com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>        com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java:821)
>>        com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>        com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>        com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>        com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
>>        com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
>>        org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
>>        org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
>>        org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
>>        org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
>>        javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
>>        com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
>>        org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
>>        com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
>>        org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>        org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>> note The full stack trace of the root cause is available in the Apache
>> Tomcat/6.0.35 logs.
>>
>> Apache Tomcat/6.0.35
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
> 
> 
> 
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:41 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp85739igc;
        Wed, 29 Feb 2012 01:36:14 -0800 (PST)
Received: by 10.180.92.34 with SMTP id cj2mr6441203wib.20.1330508166917;
        Wed, 29 Feb 2012 01:36:06 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id e16si1078840eeb.190.2012.02.29.01.36.04;
        Wed, 29 Feb 2012 01:36:06 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 692C76A646EC;
	Wed, 29 Feb 2012 09:32:25 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330507945; bh=U1qIbrxm/o/khrshyPQvxKjvOzEQHgUa3WrNy7PwjZI=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=gp90Wz5l96SZzpmAIupFX7Byk0i8aS9VLt2Zr7twrA9Smv6uEv+V55+sAiGsJuzR0
	 wlMpSTOrYbVKWWSImzBmfcu3Zjw+IS9UBcua4nv1nWVWI9P9CAIXnEnjGkWU/XUkmt
	 3lnEvzvkVyPbVp6+3hpS5yYDAkQtY00Nxf9e351g=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id RGxyOKnsuLv6; Wed, 29 Feb 2012 09:32:24 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 536496A64700;
	Wed, 29 Feb 2012 09:32:22 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330507942; bh=U1qIbrxm/o/khrshyPQvxKjvOzEQHgUa3WrNy7PwjZI=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=OTrSb8oSyj0MRfzjzyPslsuIoh5Uu4xTEaAjmG+nSXf+ROdv05sVyN2jECXiH+RQ+
	 Cu4X4yfAEWwSQjoE3hSBeuxAQ5Kuuw+ZCr5FMDvxiQkdN2DKEfGMuNeQdWpnwu2l01
	 bsJ5mSmpYk4Qi9cZRAp/dZfOr/D+BEvFwoBIpOMg=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E5E4D6A64702
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:32:09 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id hHMC-inLRgyz for <users@xwiki.org>;
	Wed, 29 Feb 2012 09:32:02 +0000 (UTC)
Received: from mail-tul01m020-f179.google.com (mail-tul01m020-f179.google.com
	[209.85.214.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 0D1AC6A646EC
	for <users@xwiki.org>; Wed, 29 Feb 2012 09:32:00 +0000 (UTC)
Received: by obbup3 with SMTP id up3so499756obb.24
	for <users@xwiki.org>; Wed, 29 Feb 2012 01:35:31 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.182.41.6 as permitted sender) client-ip=10.182.41.6;
Received: from mr.google.com ([10.182.41.6])
	by 10.182.41.6 with SMTP id b6mr8594607obl.10.1330508131236 (num_hops =
	1); Wed, 29 Feb 2012 01:35:31 -0800 (PST)
MIME-Version: 1.0
Received: by 10.182.41.6 with SMTP id b6mr7570032obl.10.1330508129864; Wed, 29
	Feb 2012 01:35:29 -0800 (PST)
Received: by 10.182.78.33 with HTTP; Wed, 29 Feb 2012 01:35:29 -0800 (PST)
In-Reply-To: <4F4DE0BC.8030706@richard-rafalski.de>
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
	<4F4DE0BC.8030706@richard-rafalski.de>
Date: Wed, 29 Feb 2012 10:35:29 +0100
Message-ID: <CAPnKnLEZAfkxBGa=rSrPDHciHAzRNFyjr-s4oJw9gXtX_=09aA@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQmdXlT0pP6AA+BRQHoA6xQZpiMPhPyQ0TUcVOZH3QHTU6pHh1o9BD+I5BBbKd3/l/j/7lvX
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Wed, Feb 29, 2012 at 9:24 AM, Richard Rafalski
<mail@richard-rafalski.de> wrote:
>
> Am 28.02.2012 20:10, schrieb Thomas Mortagne:
>> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
>> <mail@richard-rafalski.de> wrote:
>>> Hi,
>>>
>>> i have installed xwiki form the deb package
>>> xwiki-enterprise-tomcat-pgsql version 3.5. =A0Then tried to contact the
>>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is the
>>> hostname where xwiki is running). No page came up. I got this error:
>>>
>>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>>
>>> What to do now?
>>
>> Looks like there is something wrong with the potgre packages actually,
>> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
>> supposed to contain the version of tomcat now). But that's not
>> related;
>
> Do you mean something like xwiki-enterprise-tomcat6-pgsql,
> xwiki-enterprise-tomcat7-pgsql ? That would be nice.

Yes, see you can see how it's done for mysql but for postgre they are
all there but with the same xwiki-enterprise-tomcat-pgsql name... I
forgot to change it during the refactoring and I mostly test mysql.
Sorry about that.

>
>>
>> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.xml
>> template file ? I think there is an issue with the generation of the
>> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking at
>> it.
>
> I tried a new install on a completely fresh debian system. The problem
> does not appear now. I think my old system was broken due to old failed
> installations. Or did you change something meanwhile?

Nop I did not change anything but I actually suspect that the issue is
not fresh install but that the purge is wrong. That's what I plan to
look at, thanks for the confirmation.

>
> Richard
>
>>
>>>
>>> Thanks for help
>>>
>>> Here is the full error text:
>>>
>>> HTTP Status 500 -
>>>
>>> type Exception report
>>>
>>> message
>>>
>>> description The server encountered an internal error () that prevented
>>> it from fulfilling this request.
>>>
>>> exception
>>>
>>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error
>>> number 3 in 0: Could not initialize main XWiki context
>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent =3D =
[name =3D
>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D [WIKI=
], parent
>>> =3D [null]]]]
>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>>> configuration
>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processExcepti=
on(RequestProcessor.java:535)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActionP=
erform(RequestProcessor.java:433)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Reques=
tProcessor.java:236)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionSer=
vlet.java:1196)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServl=
et.java:414)
>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:=
617)
>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:=
717)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.jav=
a:128)
>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilte=
r(ConversionFilter.java:144)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWik=
iDavFilter.java:68)
>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedReques=
tRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharacte=
rEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>> root cause
>>>
>>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initialize
>>> main XWiki context
>>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent =3D =
[name =3D
>>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D [WIKI=
], parent
>>> =3D [null]]]]
>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>>> configuration
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:1=
36)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:1=
16)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActionP=
erform(RequestProcessor.java:431)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Reques=
tProcessor.java:236)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionSer=
vlet.java:1196)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServl=
et.java:414)
>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:=
617)
>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:=
717)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.jav=
a:128)
>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilte=
r(ConversionFilter.java:144)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWik=
iDavFilter.java:68)
>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedReques=
tRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharacte=
rEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>> root cause
>>>
>>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception while
>>> reading document [name =3D [XWikiPreferences], type =3D [DOCUMENT], par=
ent =3D
>>> [name =3D [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type=
 =3D
>>> [WIKI], parent =3D [null]]]]
>>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>>> configuration
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWi=
kiHibernateStore.java:856)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCa=
cheStore.java:283)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.jav=
a:821)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:1=
36)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:1=
16)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActionP=
erform(RequestProcessor.java:431)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Reques=
tProcessor.java:236)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionSer=
vlet.java:1196)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServl=
et.java:414)
>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:=
617)
>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:=
717)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.jav=
a:128)
>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilte=
r(ConversionFilter.java:144)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWik=
iDavFilter.java:68)
>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedReques=
tRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharacte=
rEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>> root cause
>>>
>>> org.hibernate.HibernateException: Can't find
>>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFac=
tory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.java:118)
>>> =A0 =A0 =A0 =A0org.hibernate.cfg.Configuration.configure(Configuration.=
java:2157)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFac=
tory$1.configure(DefaultHibernateSessionFactory.java:80)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.initHibernat=
e(XWikiHibernateBaseStore.java:167)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.checkHiberna=
te(XWikiHibernateBaseStore.java:550)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWi=
kiHibernateStore.java:728)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCa=
cheStore.java:283)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.jav=
a:821)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:1=
36)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:1=
16)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActionP=
erform(RequestProcessor.java:431)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Reques=
tProcessor.java:236)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionSer=
vlet.java:1196)
>>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServl=
et.java:414)
>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:=
617)
>>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:=
717)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.jav=
a:128)
>>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilte=
r(ConversionFilter.java:144)
>>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWik=
iDavFilter.java:68)
>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedReques=
tRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharacte=
rEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>>> note The full stack trace of the root cause is available in the Apache
>>> Tomcat/6.0.35 logs.
>>>
>>> Apache Tomcat/6.0.35
>>> _______________________________________________
>>> users mailing list
>>> users@xwiki.org
>>> http://lists.xwiki.org/mailman/listinfo/users
>>
>>
>>
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:41 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp78018igc;
        Tue, 28 Feb 2012 15:24:41 -0800 (PST)
Received: by 10.213.13.13 with SMTP id z13mr4648418ebz.146.1330471473801;
        Tue, 28 Feb 2012 15:24:33 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id h51si11624714eea.118.2012.02.28.15.24.32;
        Tue, 28 Feb 2012 15:24:33 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id C705B6A646F5;
	Tue, 28 Feb 2012 23:20:56 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330471256; bh=ZDpD5iw641ousjZDyzpey2bEjGjgYj6rMap4bgEvjzg=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=h7MRQYi27/D34JNiMRnf/sJv0F8yUPJoTLys45tDIvwjwpXTWGipNoMDBU5LoS9Sz
	 S9Y7POryu7sGOWJPymoXkPDxugttxxXC518ETR5o2GaIYzvAKm6rN9fdI0gn+pA3AL
	 JNm0D3WTaCdjLYn6+PJHTnwKdAHpiHBAS53cqDEQ=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id R7JdKTyS-FD0; Tue, 28 Feb 2012 23:20:56 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 041356A646F6;
	Tue, 28 Feb 2012 23:20:55 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330471255; bh=ZDpD5iw641ousjZDyzpey2bEjGjgYj6rMap4bgEvjzg=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=BXr9V80Wm0FiE9Q6g/mK5i+j0voCLqsRgA7Sp0ARPQgFRW5Xjlnc1a5/QL8WH/r/a
	 oYOkAISyXKvoCA82LAiMzT/ZDBxjLMzuJAgKKyL+Q0ADu3rFUBFmUeUiSCW95iINNz
	 rddaj7SoVGUJyPrf8hLha4ouWq/9EMtghv2CVci0=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id CFD2F6A646F5
	for <users@xwiki.org>; Tue, 28 Feb 2012 23:20:51 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id jpXEcikOgy2U for <users@xwiki.org>;
	Tue, 28 Feb 2012 23:20:50 +0000 (UTC)
Received: from mail-qy0-f179.google.com (mail-qy0-f179.google.com
	[209.85.216.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 8678D6A646F2
	for <users@xwiki.org>; Tue, 28 Feb 2012 23:20:49 +0000 (UTC)
Received: by qcha6 with SMTP id a6so75576qch.24
	for <users@xwiki.org>; Tue, 28 Feb 2012 15:24:23 -0800 (PST)
Received-SPF: pass (google.com: domain of pgmjsd@gmail.com designates
	10.229.135.79 as permitted sender) client-ip=10.229.135.79;
Received: from mr.google.com ([10.229.135.79])
	by 10.229.135.79 with SMTP id m15mr1166622qct.128.1330471463965
	(num_hops = 1); Tue, 28 Feb 2012 15:24:23 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type; bh=cMIC7PydaS3YnUMJTcHvXDUhceVdyudAAskxv8mhqzA=;
	b=cNyeXMArz5VzRRxueB1kFvrDut13B3bkLVOlXjJRr/VlxACtvs2j0UEHWvK893871D
	g5d/jc4OTm6do1kOGBTlBmcWrk7JP+Qb0oZhBwsr1GrmSQiM8ByURT0sj0m5CnJU8ZJn
	KeFinh2m8H8rulXAn8jxbreRjyWgSqatVR8xI=
MIME-Version: 1.0
Received: by 10.229.135.79 with SMTP id m15mr996045qct.128.1330471463841; Tue,
	28 Feb 2012 15:24:23 -0800 (PST)
Received: by 10.229.29.1 with HTTP; Tue, 28 Feb 2012 15:24:23 -0800 (PST)
In-Reply-To: <CAPDkzZiN-EzUuba74qUZHX5XrFDZcxZ35c41Nb+J39CC2DA1Vg@mail.gmail.com>
References: <CABZYKhb0hKoEbXiKH2v2b8cOmzVfSTkHikqNVR_i2PAE2H5y=Q@mail.gmail.com>
	<244BFA3AE9F83C4A8261E27189707237010293C74965@ASSCCEVS03.sergas.local>
	<CABZYKhYY6-gh7ZZF94geqqQF44EgKCMFx6tOdv=RbzjcFu5W+g@mail.gmail.com>
	<CAPDkzZiN-EzUuba74qUZHX5XrFDZcxZ35c41Nb+J39CC2DA1Vg@mail.gmail.com>
Date: Tue, 28 Feb 2012 18:24:23 -0500
Message-ID: <CABZYKhYch4ep11FjY_sP+a64mYhDhaCSiz8Pi7RL1qYKr=M+vA@mail.gmail.com>
From: Joshua Davis <pgmjsd@gmail.com>
To: XWiki Users <users@xwiki.org>
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-users] Lucene re-index problem
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

In my case I am using the default value in xwiki.cfg:

xwiki.work.dir=data

This seems to be pointing to /home/<tomcat user>/data on my system.

Looks like the Lucene index is in /home/<tomcat user>/data/lucene ... hmm.
I deleted a different directory before.  Anyway... yes, the user has access
to this directory.

-bash-3.2$ ll data
total 8
drwxr-xr-x 3 tomcat60 tomcat60 4096 Feb 22 06:24 extension
drwxr-xr-x 2 tomcat60 tomcat60 4096 Feb 28 18:00 lucene
-bash-3.2$ ll data/lucene
total 1548
-rw-r--r-- 1 tomcat60 tomcat60 638394 Feb 28 18:00 _f4.fdt
-rw-r--r-- 1 tomcat60 tomcat60   3404 Feb 28 18:00 _f4.fdx
-rw-r--r-- 1 tomcat60 tomcat60  11929 Feb 28 18:00 _f4.fnm
-rw-r--r-- 1 tomcat60 tomcat60 125852 Feb 28 18:00 _f4.frq
-rw-r--r-- 1 tomcat60 tomcat60 141104 Feb 28 18:00 _f4.nrm
-rw-r--r-- 1 tomcat60 tomcat60 248013 Feb 28 18:00 _f4.prx
-rw-r--r-- 1 tomcat60 tomcat60   5082 Feb 28 18:00 _f4.tii
-rw-r--r-- 1 tomcat60 tomcat60 369203 Feb 28 18:00 _f4.tis
-rw-r--r-- 1 tomcat60 tomcat60    280 Feb 28 18:00 segments_7m
-rw-r--r-- 1 tomcat60 tomcat60     20 Feb 28 18:00 segments.gen

On Tue, Feb 28, 2012 at 6:13 PM, Guillaume Fenollar <
guillaume.fenollar@xwiki.com> wrote:

> Hi,
>
> When the page "stucks", it's often because of a write issue on xwiki work
> directory. Are you sure you put a static value of xwiki.work.dir in
> xwiki.cfg file after your upgrade? Your application server must have the
> right to write in there.
>
>
> 2012/2/28 Joshua Davis <pgmjsd@gmail.com>
>
> > Interesting.   Is there some way to tell the Lucene not to index the
> > attachments?
> >
> > On Tue, Feb 28, 2012 at 4:39 PM, <
> > Ricardo.Julio.Rodriguez.Fernandez@sergas.es> wrote:
> >
> > > Hi Joshua,
> > > > ________________________________________
> > > > From: users-bounces@xwiki.org [users-bounces@xwiki.org] On Behalf Of
> > > Joshua Davis [pgmjsd@gmail.com]
> > > > Sent: 28 February 2012 21:30
> > > > To: users@xwiki.org
> > > > Subject: [xwiki-users] Lucene re-index problem
> > > >
> > > > After upgrading to XWiki 3.5 (from 2.6) I noticed that the Lucene
> > search
> > > > index was not working properly.   On advice I got in the #xwiki IRC
> > > chat, I
> > > > shut down the server (Tomcat), deleted the Lucene index directory,
> and
> > > > restarted the server.   Only about 300 of the thousands of pages were
> > > > indexed at that point.    I tried re-indexing using the Admin->Search
> > > page,
> > > > but every time I do that the Admin->Search page gets 'stuck' (won't
> > > render).
> > > >
> > > > I saw no errors in the catalina.out log file, and I configured
> > > > WEB-INF/classes/logback.xml to enable some more logging to a separate
> > > > file... still nothing very informative.
> > > >
> > > > Any ideas what I can do to troubleshoot this?   I'm guessing there's
> > some
> > > > page in my wiki database that is causing the re-index process to get
> > > stuck.
> > > >
> > > > Thanks in advance,
> > > >
> > > > - Josh
> > >
> > > Almost two years ago we face a similar problem while updating to XWiki
> > > Enterprise 2.4.30451. We have been not able to get Lucene working in
> this
> > > installation. The problem here seems related with Microsoft Office
> > > attachements. I don't remember exactly how do we reach this conclusion
> > and
> > > it could be a kind of "shot in the air", but I remember that PDF files
> > seem
> > > to index fine, but "xls" and "doc" files causes the failure of the
> > process.
> > > As in your case, Admin>Search won't render. We have never find a
> > solution.
> > > This installation is still running but we are using database search
> > instead.
> > >
> > > i keep following this thread!
> > >
> > > Cheers,
> > >
> > > Ricardo
> > > _______________________________________________
> > > users mailing list
> > > users@xwiki.org
> > > http://lists.xwiki.org/mailman/listinfo/users
> > >
> > > Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos
> > > adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu
> > > destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta
> > mensaxe,
> > > por favor elim?nea. A distribuci?n ou copia desta mensaxe non est?
> > > autorizada.
> > >
> > > Nota: La informaci?n contenida en este mensaje y sus posibles
> documentos
> > > adjuntos es privada y confidencial y est? dirigida ?nicamente a su
> > > destinatario/a. Si usted no es el/la destinatario/a original de este
> > > mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje
> no
> > > est? autorizada.
> > >
> > > See more languages: http://www.sergas.es/aviso_confidencialidad.htm
> > > _______________________________________________
> > > users mailing list
> > > users@xwiki.org
> > > http://lists.xwiki.org/mailman/listinfo/users
> > >
> > _______________________________________________
> > users mailing list
> > users@xwiki.org
> > http://lists.xwiki.org/mailman/listinfo/users
> >
>
>
>
> --
> Guillaume Fenollar
> XWiki SysAdmin
> Tel : +33 (0)1.83.62.66.15
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
>
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:41 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp77869igc;
        Tue, 28 Feb 2012 15:14:25 -0800 (PST)
Received: by 10.213.114.78 with SMTP id d14mr1243626ebq.47.1330470857743;
        Tue, 28 Feb 2012 15:14:17 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id s7si14465932eef.44.2012.02.28.15.14.16;
        Tue, 28 Feb 2012 15:14:17 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 8535A6A64700;
	Tue, 28 Feb 2012 23:10:37 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330470637; bh=AqYFH6EHM+wkK0PQ/VK/SGOU3ZfM0sOjAc49yF/s5PY=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=K1dHno9JUNhvVN77+U5Du4+W+T08CbgUrKq3IZGlyg+F2zyRVeWmOPMkxoebbkyy+
	 MfD7783LsHOuK/gCMtFqfQOZIW+TVzU9+C9i/K3pnHjrCEjm4Hongg4Je0QFNSdYxE
	 E/FU+iPep5Eh9G4v8PA5SyubPJrfYOcHVK8xXm+w=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id VnjsMDJp7KVh; Tue, 28 Feb 2012 23:10:37 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 297F76A6306D;
	Tue, 28 Feb 2012 23:10:30 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330470630; bh=AqYFH6EHM+wkK0PQ/VK/SGOU3ZfM0sOjAc49yF/s5PY=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=ADaZLm5p8JkKO9qdeWASwzQ1jVS/7lpwGD/PVfP7aBRBOejlGpzXAfEzJ/TQOnLEF
	 Jfx5DMkIlESu0mErXkAsBtY94F5AZCIb8fv+mk4W53HpxTJxp2IzvuldK7oPmIH/iZ
	 AgRIIoEiP8J0vXiZnx0pA9Ig+IFugCkGoSW4TrT4=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 051A76A6306D
	for <users@xwiki.org>; Tue, 28 Feb 2012 23:10:25 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id NJDd0AnQQPic for <users@xwiki.org>;
	Tue, 28 Feb 2012 23:10:06 +0000 (UTC)
Received: from mail-yw0-f51.google.com (mail-yw0-f51.google.com
	[209.85.213.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id 9D3E56A64698
	for <users@xwiki.org>; Tue, 28 Feb 2012 23:10:05 +0000 (UTC)
Received: by yhnn12 with SMTP id n12so1428084yhn.24
	for <users@xwiki.org>; Tue, 28 Feb 2012 15:13:37 -0800 (PST)
Received-SPF: pass (google.com: domain of guillaume.fenollar@xwiki.com
	designates 10.236.128.173 as permitted sender)
	client-ip=10.236.128.173;
Received: from mr.google.com ([10.236.128.173])
	by 10.236.128.173 with SMTP id f33mr31300616yhi.107.1330470817928
	(num_hops = 1); Tue, 28 Feb 2012 15:13:37 -0800 (PST)
MIME-Version: 1.0
Received: by 10.236.128.173 with SMTP id f33mr23721384yhi.107.1330470817769;
	Tue, 28 Feb 2012 15:13:37 -0800 (PST)
Received: by 10.146.250.19 with HTTP; Tue, 28 Feb 2012 15:13:37 -0800 (PST)
In-Reply-To: <CABZYKhYY6-gh7ZZF94geqqQF44EgKCMFx6tOdv=RbzjcFu5W+g@mail.gmail.com>
References: <CABZYKhb0hKoEbXiKH2v2b8cOmzVfSTkHikqNVR_i2PAE2H5y=Q@mail.gmail.com>
	<244BFA3AE9F83C4A8261E27189707237010293C74965@ASSCCEVS03.sergas.local>
	<CABZYKhYY6-gh7ZZF94geqqQF44EgKCMFx6tOdv=RbzjcFu5W+g@mail.gmail.com>
Date: Wed, 29 Feb 2012 00:13:37 +0100
Message-ID: <CAPDkzZiN-EzUuba74qUZHX5XrFDZcxZ35c41Nb+J39CC2DA1Vg@mail.gmail.com>
From: Guillaume Fenollar <guillaume.fenollar@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQlErIY/vKxsMOuOl8q2G3PMoizDVB+t0QkkRW41XA4gTPX5i9P7AbAqgKM8XEID9xykjZoX
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-users] Lucene re-index problem
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi,

When the page "stucks", it's often because of a write issue on xwiki work
directory. Are you sure you put a static value of xwiki.work.dir in
xwiki.cfg file after your upgrade? Your application server must have the
right to write in there.


2012/2/28 Joshua Davis <pgmjsd@gmail.com>

> Interesting.   Is there some way to tell the Lucene not to index the
> attachments?
>
> On Tue, Feb 28, 2012 at 4:39 PM, <
> Ricardo.Julio.Rodriguez.Fernandez@sergas.es> wrote:
>
> > Hi Joshua,
> > > ________________________________________
> > > From: users-bounces@xwiki.org [users-bounces@xwiki.org] On Behalf Of
> > Joshua Davis [pgmjsd@gmail.com]
> > > Sent: 28 February 2012 21:30
> > > To: users@xwiki.org
> > > Subject: [xwiki-users] Lucene re-index problem
> > >
> > > After upgrading to XWiki 3.5 (from 2.6) I noticed that the Lucene
> search
> > > index was not working properly.   On advice I got in the #xwiki IRC
> > chat, I
> > > shut down the server (Tomcat), deleted the Lucene index directory, and
> > > restarted the server.   Only about 300 of the thousands of pages were
> > > indexed at that point.    I tried re-indexing using the Admin->Search
> > page,
> > > but every time I do that the Admin->Search page gets 'stuck' (won't
> > render).
> > >
> > > I saw no errors in the catalina.out log file, and I configured
> > > WEB-INF/classes/logback.xml to enable some more logging to a separate
> > > file... still nothing very informative.
> > >
> > > Any ideas what I can do to troubleshoot this?   I'm guessing there's
> some
> > > page in my wiki database that is causing the re-index process to get
> > stuck.
> > >
> > > Thanks in advance,
> > >
> > > - Josh
> >
> > Almost two years ago we face a similar problem while updating to XWiki
> > Enterprise 2.4.30451. We have been not able to get Lucene working in this
> > installation. The problem here seems related with Microsoft Office
> > attachements. I don't remember exactly how do we reach this conclusion
> and
> > it could be a kind of "shot in the air", but I remember that PDF files
> seem
> > to index fine, but "xls" and "doc" files causes the failure of the
> process.
> > As in your case, Admin>Search won't render. We have never find a
> solution.
> > This installation is still running but we are using database search
> instead.
> >
> > i keep following this thread!
> >
> > Cheers,
> >
> > Ricardo
> > _______________________________________________
> > users mailing list
> > users@xwiki.org
> > http://lists.xwiki.org/mailman/listinfo/users
> >
> > Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos
> > adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu
> > destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta
> mensaxe,
> > por favor elim?nea. A distribuci?n ou copia desta mensaxe non est?
> > autorizada.
> >
> > Nota: La informaci?n contenida en este mensaje y sus posibles documentos
> > adjuntos es privada y confidencial y est? dirigida ?nicamente a su
> > destinatario/a. Si usted no es el/la destinatario/a original de este
> > mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no
> > est? autorizada.
> >
> > See more languages: http://www.sergas.es/aviso_confidencialidad.htm
> > _______________________________________________
> > users mailing list
> > users@xwiki.org
> > http://lists.xwiki.org/mailman/listinfo/users
> >
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
>



-- 
Guillaume Fenollar
XWiki SysAdmin
Tel : +33 (0)1.83.62.66.15
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:42 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp78160igc;
        Tue, 28 Feb 2012 15:36:12 -0800 (PST)
Received: by 10.213.112.133 with SMTP id w5mr3900371ebp.143.1330472164530;
        Tue, 28 Feb 2012 15:36:04 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id n3si6769182eef.185.2012.02.28.15.36.03;
        Tue, 28 Feb 2012 15:36:04 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 923DC6A64706;
	Tue, 28 Feb 2012 23:32:26 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330471946; bh=GOJuD1jekVfGe2JUuRqysmaLdOVFj7aL6uPHnSx89/k=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=Q0yTTo3dMj7S+imUBUuRrmS4rg4uTWZhyc6YrJsEmhv1jqXtbEoAXsyPahI0eAqZY
	 jYb1z6RCPAD9/sLbcMBvBCdeszRcA3ijaTWA70W4G4feVtXykns1F5Ns/SYAB557MB
	 hNuLDAPaLqPdPgZr7yqzjT6tCpGxHw/a2XRoQwDs=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id 1L4uYrHyHOpr; Tue, 28 Feb 2012 23:32:26 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 53B006A646F6;
	Tue, 28 Feb 2012 23:32:12 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330471933; bh=GOJuD1jekVfGe2JUuRqysmaLdOVFj7aL6uPHnSx89/k=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=KE3Z//DY924LtW6tSTde5YAd1oN1TBN3uGTkBHg6atU9P+/XrzHqZYXUBNeFLLXTG
	 xQdYEZbLlNJv0u7wnI8bEYJwAMRO6VmxX38zElro2PUt/q9iHLm1PV1UR0aLzNa8nu
	 SCrbon8BsutHBzb3SMYKhJOThKk5j+AzTjxf0yuA=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 34B576A646F6
	for <users@xwiki.org>; Tue, 28 Feb 2012 23:32:05 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id kNWVJAlL2gVe for <users@xwiki.org>;
	Tue, 28 Feb 2012 23:31:51 +0000 (UTC)
Received: from mail-qw0-f51.google.com (mail-qw0-f51.google.com
	[209.85.216.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id BAB296A64700
	for <users@xwiki.org>; Tue, 28 Feb 2012 23:31:45 +0000 (UTC)
Received: by qaea16 with SMTP id a16so1414827qae.3
	for <users@xwiki.org>; Tue, 28 Feb 2012 15:34:48 -0800 (PST)
Received-SPF: pass (google.com: domain of pgmjsd@gmail.com designates
	10.224.176.73 as permitted sender) client-ip=10.224.176.73;
Received: from mr.google.com ([10.224.176.73])
	by 10.224.176.73 with SMTP id bd9mr16091370qab.79.1330472088707
	(num_hops = 1); Tue, 28 Feb 2012 15:34:48 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type; bh=ZAfiDPc6pXhVt+6c6T1vvCs67vY/IVl7l7wGVKuOyBs=;
	b=JPLy2BqpERUnL4ktkEI5Uu9FQU3q7cvRLL0R4ozY4JrLIbcoHIJOo1ejYwQhQsgFxw
	4AGXej2trYmrQuHxry6WxbL6SasqG985SlQW7wNrLTE3uAXah3CfyZgu+9s0Dtvqck3c
	DWdmnrhwO6BWe0at3O+unoMBQUsJo5pIpSFCs=
MIME-Version: 1.0
Received: by 10.224.176.73 with SMTP id bd9mr13551227qab.79.1330472088557;
	Tue, 28 Feb 2012 15:34:48 -0800 (PST)
Received: by 10.229.29.1 with HTTP; Tue, 28 Feb 2012 15:34:48 -0800 (PST)
In-Reply-To: <CABZYKhYch4ep11FjY_sP+a64mYhDhaCSiz8Pi7RL1qYKr=M+vA@mail.gmail.com>
References: <CABZYKhb0hKoEbXiKH2v2b8cOmzVfSTkHikqNVR_i2PAE2H5y=Q@mail.gmail.com>
	<244BFA3AE9F83C4A8261E27189707237010293C74965@ASSCCEVS03.sergas.local>
	<CABZYKhYY6-gh7ZZF94geqqQF44EgKCMFx6tOdv=RbzjcFu5W+g@mail.gmail.com>
	<CAPDkzZiN-EzUuba74qUZHX5XrFDZcxZ35c41Nb+J39CC2DA1Vg@mail.gmail.com>
	<CABZYKhYch4ep11FjY_sP+a64mYhDhaCSiz8Pi7RL1qYKr=M+vA@mail.gmail.com>
Date: Tue, 28 Feb 2012 18:34:48 -0500
Message-ID: <CABZYKhY2y_sVsUt7a1HpMwN0zo3SAeYiEa8dV1Pq-RwNS+6Vpw@mail.gmail.com>
From: Joshua Davis <pgmjsd@gmail.com>
To: XWiki Users <users@xwiki.org>
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-users] Lucene re-index problem
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

I tried shutting down tomcat an deleting the contents of the ~/data/lucene
directory.   The Search page was accessible for a little while, it said
there were 1000 documents in the queue.   Then, it got stuck.

In the logs, I had a lot of this:
97898 [Lucene Index Updater] WARN  c.x.x.plugin.lucene.AttachmentData -
error getting content of attachment [zzzzzzz] for document [name = [...],
type = [DOCUMENT], parent = [name = [...], type = [SPACE], parent = [name =
[xwiki], type = [WIKI], parent = [null]]]]
java.lang.RuntimeException: Failed to get InputStream
        at
com.xpn.xwiki.doc.XWikiAttachmentContent.getContentInputStream(XWikiAttachmentContent.java:213)
~[xwiki-platform-legacy-oldcore-3.5.jar:na]
        at
com.xpn.xwiki.doc.XWikiAttachment.getContentInputStream(XWikiAttachment.java:561)
~[xwiki-platform-legacy-oldcore-3.5.jar:na]
        at
com.xpn.xwiki.plugin.lucene.AttachmentData.getContentAsText(AttachmentData.java:191)
[xwiki-platform-search-lucene-3.5.jar:na]
        at
com.xpn.xwiki.plugin.lucene.AttachmentData.getFullText(AttachmentData.java:167)
[xwiki-platform-search-lucene-3.5.jar:na]
        at
com.xpn.xwiki.plugin.lucene.AbstractDocumentData.getFullText(AbstractDocumentData.java:242)
[xwiki-platform-search-lucene-3.5.jar:na]
        at
com.xpn.xwiki.plugin.lucene.AbstractDocumentData.addDocumentDataToLuceneDocument(AbstractDocumentData.java:203)
[xwiki-platform-search-lucene-3.5.jar:na]
        at
com.xpn.xwiki.plugin.lucene.AbstractDocumentData.addDataToLuceneDocument(AbstractDocumentData.java:144)
[xwiki-platform-search-lucene-3.5.jar:na]
        at
com.xpn.xwiki.plugin.lucene.AttachmentData.addDataToLuceneDocument(AttachmentData.java:92)
[xwiki-platform-search-lucene-3.5.jar:na]
        at
com.xpn.xwiki.plugin.lucene.IndexUpdater.addToIndex(IndexUpdater.java:283)
[xwiki-platform-search-lucene-3.5.jar:na]
        at
com.xpn.xwiki.plugin.lucene.IndexUpdater.updateIndex(IndexUpdater.java:227)
[xwiki-platform-search-lucene-3.5.jar:na]
        at
com.xpn.xwiki.plugin.lucene.IndexUpdater.runMainLoop(IndexUpdater.java:173)
[xwiki-platform-search-lucene-3.5.jar:na]
        at
com.xpn.xwiki.plugin.lucene.IndexUpdater.runInternal(IndexUpdater.java:158)
[xwiki-platform-search-lucene-3.5.jar:na]
        at
com.xpn.xwiki.util.AbstractXWikiRunnable.run(AbstractXWikiRunnable.java:110)
[xwiki-platform-legacy-oldcore-3.5.jar:na]
        at java.lang.Thread.run(Thread.java:662) [na:1.6.0_31]
Caused by: java.io.FileNotFoundException:
/opt/tomcat/temp/upload__501aef8c_135c64be6b5__8000_00001015.tmp (Too many
open files)
        at java.io.FileInputStream.open(Native Method) ~[na:1.6.0_31]
        at java.io.FileInputStream.<init>(FileInputStream.java:120)
~[na:1.6.0_31]
        at
org.apache.commons.fileupload.disk.DiskFileItem.getInputStream(DiskFileItem.java:236)
~[commons-fileupload-1.2.2.jar:1.2.2]
        at
com.xpn.xwiki.doc.XWikiAttachmentContent.getContentInputStream(XWikiAttachmentContent.java:211)
~[xwiki-platform-legacy-oldcore-3.5.jar:na]
        ... 13 common frames omitted


On Tue, Feb 28, 2012 at 6:24 PM, Joshua Davis <pgmjsd@gmail.com> wrote:

> In my case I am using the default value in xwiki.cfg:
>
> xwiki.work.dir=data
>
> This seems to be pointing to /home/<tomcat user>/data on my system.
>
> Looks like the Lucene index is in /home/<tomcat user>/data/lucene ...
> hmm.  I deleted a different directory before.  Anyway... yes, the user has
> access to this directory.
>
> -bash-3.2$ ll data
> total 8
> drwxr-xr-x 3 tomcat60 tomcat60 4096 Feb 22 06:24 extension
> drwxr-xr-x 2 tomcat60 tomcat60 4096 Feb 28 18:00 lucene
> -bash-3.2$ ll data/lucene
> total 1548
> -rw-r--r-- 1 tomcat60 tomcat60 638394 Feb 28 18:00 _f4.fdt
> -rw-r--r-- 1 tomcat60 tomcat60   3404 Feb 28 18:00 _f4.fdx
> -rw-r--r-- 1 tomcat60 tomcat60  11929 Feb 28 18:00 _f4.fnm
> -rw-r--r-- 1 tomcat60 tomcat60 125852 Feb 28 18:00 _f4.frq
> -rw-r--r-- 1 tomcat60 tomcat60 141104 Feb 28 18:00 _f4.nrm
> -rw-r--r-- 1 tomcat60 tomcat60 248013 Feb 28 18:00 _f4.prx
> -rw-r--r-- 1 tomcat60 tomcat60   5082 Feb 28 18:00 _f4.tii
> -rw-r--r-- 1 tomcat60 tomcat60 369203 Feb 28 18:00 _f4.tis
> -rw-r--r-- 1 tomcat60 tomcat60    280 Feb 28 18:00 segments_7m
> -rw-r--r-- 1 tomcat60 tomcat60     20 Feb 28 18:00 segments.gen
>
>
> On Tue, Feb 28, 2012 at 6:13 PM, Guillaume Fenollar <
> guillaume.fenollar@xwiki.com> wrote:
>
>> Hi,
>>
>> When the page "stucks", it's often because of a write issue on xwiki work
>> directory. Are you sure you put a static value of xwiki.work.dir in
>> xwiki.cfg file after your upgrade? Your application server must have the
>> right to write in there.
>>
>>
>> 2012/2/28 Joshua Davis <pgmjsd@gmail.com>
>>
>> > Interesting.   Is there some way to tell the Lucene not to index the
>> > attachments?
>> >
>> > On Tue, Feb 28, 2012 at 4:39 PM, <
>> > Ricardo.Julio.Rodriguez.Fernandez@sergas.es> wrote:
>> >
>> > > Hi Joshua,
>> > > > ________________________________________
>> > > > From: users-bounces@xwiki.org [users-bounces@xwiki.org] On Behalf
>> Of
>> > > Joshua Davis [pgmjsd@gmail.com]
>> > > > Sent: 28 February 2012 21:30
>> > > > To: users@xwiki.org
>> > > > Subject: [xwiki-users] Lucene re-index problem
>> > > >
>> > > > After upgrading to XWiki 3.5 (from 2.6) I noticed that the Lucene
>> > search
>> > > > index was not working properly.   On advice I got in the #xwiki IRC
>> > > chat, I
>> > > > shut down the server (Tomcat), deleted the Lucene index directory,
>> and
>> > > > restarted the server.   Only about 300 of the thousands of pages
>> were
>> > > > indexed at that point.    I tried re-indexing using the
>> Admin->Search
>> > > page,
>> > > > but every time I do that the Admin->Search page gets 'stuck' (won't
>> > > render).
>> > > >
>> > > > I saw no errors in the catalina.out log file, and I configured
>> > > > WEB-INF/classes/logback.xml to enable some more logging to a
>> separate
>> > > > file... still nothing very informative.
>> > > >
>> > > > Any ideas what I can do to troubleshoot this?   I'm guessing there's
>> > some
>> > > > page in my wiki database that is causing the re-index process to get
>> > > stuck.
>> > > >
>> > > > Thanks in advance,
>> > > >
>> > > > - Josh
>> > >
>> > > Almost two years ago we face a similar problem while updating to XWiki
>> > > Enterprise 2.4.30451. We have been not able to get Lucene working in
>> this
>> > > installation. The problem here seems related with Microsoft Office
>> > > attachements. I don't remember exactly how do we reach this conclusion
>> > and
>> > > it could be a kind of "shot in the air", but I remember that PDF files
>> > seem
>> > > to index fine, but "xls" and "doc" files causes the failure of the
>> > process.
>> > > As in your case, Admin>Search won't render. We have never find a
>> > solution.
>> > > This installation is still running but we are using database search
>> > instead.
>> > >
>> > > i keep following this thread!
>> > >
>> > > Cheers,
>> > >
>> > > Ricardo
>> > > _______________________________________________
>> > > users mailing list
>> > > users@xwiki.org
>> > > http://lists.xwiki.org/mailman/listinfo/users
>> > >
>> > > Nota: A informaci?n contida nesta mensaxe e os seus posibles
>> documentos
>> > > adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu
>> > > destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta
>> > mensaxe,
>> > > por favor elim?nea. A distribuci?n ou copia desta mensaxe non est?
>> > > autorizada.
>> > >
>> > > Nota: La informaci?n contenida en este mensaje y sus posibles
>> documentos
>> > > adjuntos es privada y confidencial y est? dirigida ?nicamente a su
>> > > destinatario/a. Si usted no es el/la destinatario/a original de este
>> > > mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje
>> no
>> > > est? autorizada.
>> > >
>> > > See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>> > > _______________________________________________
>> > > users mailing list
>> > > users@xwiki.org
>> > > http://lists.xwiki.org/mailman/listinfo/users
>> > >
>> > _______________________________________________
>> > users mailing list
>> > users@xwiki.org
>> > http://lists.xwiki.org/mailman/listinfo/users
>> >
>>
>>
>>
>> --
>> Guillaume Fenollar
>> XWiki SysAdmin
>> Tel : +33 (0)1.83.62.66.15
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
>>
>
>
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:42 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp78229igc;
        Tue, 28 Feb 2012 15:42:35 -0800 (PST)
Received: by 10.14.40.76 with SMTP id e52mr9484673eeb.8.1330472548067;
        Tue, 28 Feb 2012 15:42:28 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id n43si14484097eem.160.2012.02.28.15.42.27;
        Tue, 28 Feb 2012 15:42:28 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 2297E6A64709;
	Tue, 28 Feb 2012 23:38:51 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330472331; bh=8bFz4BhZsgYx8BGT6vhZZEyfPaOIRQAsFSemtFfopRU=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=dzuzrO8/Fh+7WlXmFU86l5mFzJgBLGGwZh7RfxaSJbKkoO5V0VTkM5A3QLEuxvvkM
	 ZZuc3knpatjKvP7TF11bcljWV78j9Mt68cbeJgWbPjD1aMhdgwzACPTizqh7WDwns8
	 vmCnJCBOR16+VoaDt2JR2PSrVFFxgSf15Uj7Y/Mo=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id YV8cUiXVMpAT; Tue, 28 Feb 2012 23:38:50 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 34CB56A646F6;
	Tue, 28 Feb 2012 23:38:49 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330472329; bh=8bFz4BhZsgYx8BGT6vhZZEyfPaOIRQAsFSemtFfopRU=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=RCHgZmgD/AG0bawxld0LaDf0FJHKhcuh2VKRcNBuhN9Sp+DubvFwRkwIQlR1+bfPf
	 xzXHuvDk687MLfn8wvM4HKr5o6EgJ/fOhGFwfPLRZImC/zMug+P7ioKKlKPP8NIkJ2
	 Csn1aI0tPF16GSpaYVSxu19W0Qdm4y+Dwgs35opE=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 3FC6F6A646F5
	for <users@xwiki.org>; Tue, 28 Feb 2012 23:38:46 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id uzUPAr5z1edo for <users@xwiki.org>;
	Tue, 28 Feb 2012 23:38:44 +0000 (UTC)
Received: from mail-qy0-f179.google.com (mail-qy0-f179.google.com
	[209.85.216.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 88A726A644E3
	for <users@xwiki.org>; Tue, 28 Feb 2012 23:38:43 +0000 (UTC)
Received: by qcha6 with SMTP id a6so84497qch.24
	for <users@xwiki.org>; Tue, 28 Feb 2012 15:42:18 -0800 (PST)
Received-SPF: pass (google.com: domain of pgmjsd@gmail.com designates
	10.224.176.73 as permitted sender) client-ip=10.224.176.73;
Received: from mr.google.com ([10.224.176.73])
	by 10.224.176.73 with SMTP id bd9mr16116581qab.79.1330472538370
	(num_hops = 1); Tue, 28 Feb 2012 15:42:18 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type; bh=crwYl38LadfApiPunNIMBycTZTx02bidaZE50h6rS38=;
	b=aill+KeZdm9YoRUdEDMeJ/4En7cgfPQFxw9i4Cw7YCxVEUiwMqlT6U5xKm3YAzxPkf
	29cL9npBqYKPg1F1NvnxmMfNk2Sfxl74nWzMCYAj+W72FCaZ3CwhOr+/Hur59MrvSLBZ
	1vNWzqpOhkiApH+QwqO4aPlDOwkjjJ6abjeUI=
MIME-Version: 1.0
Received: by 10.224.176.73 with SMTP id bd9mr13573349qab.79.1330472538277;
	Tue, 28 Feb 2012 15:42:18 -0800 (PST)
Received: by 10.229.29.1 with HTTP; Tue, 28 Feb 2012 15:42:18 -0800 (PST)
In-Reply-To: <CABZYKhYch4ep11FjY_sP+a64mYhDhaCSiz8Pi7RL1qYKr=M+vA@mail.gmail.com>
References: <CABZYKhb0hKoEbXiKH2v2b8cOmzVfSTkHikqNVR_i2PAE2H5y=Q@mail.gmail.com>
	<244BFA3AE9F83C4A8261E27189707237010293C74965@ASSCCEVS03.sergas.local>
	<CABZYKhYY6-gh7ZZF94geqqQF44EgKCMFx6tOdv=RbzjcFu5W+g@mail.gmail.com>
	<CAPDkzZiN-EzUuba74qUZHX5XrFDZcxZ35c41Nb+J39CC2DA1Vg@mail.gmail.com>
	<CABZYKhYch4ep11FjY_sP+a64mYhDhaCSiz8Pi7RL1qYKr=M+vA@mail.gmail.com>
Date: Tue, 28 Feb 2012 18:42:18 -0500
Message-ID: <CABZYKhZdrUi-8F6K4Z-q6iVDOaoroT_ae80YCd9mY97Ek7i-nQ@mail.gmail.com>
From: Joshua Davis <pgmjsd@gmail.com>
To: XWiki Users <users@xwiki.org>
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-users] Lucene re-index problem
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

I think I'm hitting a ulimit issue, I'm going to bump up ulimit for my
tomcat user and restart.

On Tue, Feb 28, 2012 at 6:24 PM, Joshua Davis <pgmjsd@gmail.com> wrote:

> In my case I am using the default value in xwiki.cfg:
>
> xwiki.work.dir=data
>
> This seems to be pointing to /home/<tomcat user>/data on my system.
>
> Looks like the Lucene index is in /home/<tomcat user>/data/lucene ...
> hmm.  I deleted a different directory before.  Anyway... yes, the user has
> access to this directory.
>
> -bash-3.2$ ll data
> total 8
> drwxr-xr-x 3 tomcat60 tomcat60 4096 Feb 22 06:24 extension
> drwxr-xr-x 2 tomcat60 tomcat60 4096 Feb 28 18:00 lucene
> -bash-3.2$ ll data/lucene
> total 1548
> -rw-r--r-- 1 tomcat60 tomcat60 638394 Feb 28 18:00 _f4.fdt
> -rw-r--r-- 1 tomcat60 tomcat60   3404 Feb 28 18:00 _f4.fdx
> -rw-r--r-- 1 tomcat60 tomcat60  11929 Feb 28 18:00 _f4.fnm
> -rw-r--r-- 1 tomcat60 tomcat60 125852 Feb 28 18:00 _f4.frq
> -rw-r--r-- 1 tomcat60 tomcat60 141104 Feb 28 18:00 _f4.nrm
> -rw-r--r-- 1 tomcat60 tomcat60 248013 Feb 28 18:00 _f4.prx
> -rw-r--r-- 1 tomcat60 tomcat60   5082 Feb 28 18:00 _f4.tii
> -rw-r--r-- 1 tomcat60 tomcat60 369203 Feb 28 18:00 _f4.tis
> -rw-r--r-- 1 tomcat60 tomcat60    280 Feb 28 18:00 segments_7m
> -rw-r--r-- 1 tomcat60 tomcat60     20 Feb 28 18:00 segments.gen
>
>
> On Tue, Feb 28, 2012 at 6:13 PM, Guillaume Fenollar <
> guillaume.fenollar@xwiki.com> wrote:
>
>> Hi,
>>
>> When the page "stucks", it's often because of a write issue on xwiki work
>> directory. Are you sure you put a static value of xwiki.work.dir in
>> xwiki.cfg file after your upgrade? Your application server must have the
>> right to write in there.
>>
>>
>> 2012/2/28 Joshua Davis <pgmjsd@gmail.com>
>>
>> > Interesting.   Is there some way to tell the Lucene not to index the
>> > attachments?
>> >
>> > On Tue, Feb 28, 2012 at 4:39 PM, <
>> > Ricardo.Julio.Rodriguez.Fernandez@sergas.es> wrote:
>> >
>> > > Hi Joshua,
>> > > > ________________________________________
>> > > > From: users-bounces@xwiki.org [users-bounces@xwiki.org] On Behalf
>> Of
>> > > Joshua Davis [pgmjsd@gmail.com]
>> > > > Sent: 28 February 2012 21:30
>> > > > To: users@xwiki.org
>> > > > Subject: [xwiki-users] Lucene re-index problem
>> > > >
>> > > > After upgrading to XWiki 3.5 (from 2.6) I noticed that the Lucene
>> > search
>> > > > index was not working properly.   On advice I got in the #xwiki IRC
>> > > chat, I
>> > > > shut down the server (Tomcat), deleted the Lucene index directory,
>> and
>> > > > restarted the server.   Only about 300 of the thousands of pages
>> were
>> > > > indexed at that point.    I tried re-indexing using the
>> Admin->Search
>> > > page,
>> > > > but every time I do that the Admin->Search page gets 'stuck' (won't
>> > > render).
>> > > >
>> > > > I saw no errors in the catalina.out log file, and I configured
>> > > > WEB-INF/classes/logback.xml to enable some more logging to a
>> separate
>> > > > file... still nothing very informative.
>> > > >
>> > > > Any ideas what I can do to troubleshoot this?   I'm guessing there's
>> > some
>> > > > page in my wiki database that is causing the re-index process to get
>> > > stuck.
>> > > >
>> > > > Thanks in advance,
>> > > >
>> > > > - Josh
>> > >
>> > > Almost two years ago we face a similar problem while updating to XWiki
>> > > Enterprise 2.4.30451. We have been not able to get Lucene working in
>> this
>> > > installation. The problem here seems related with Microsoft Office
>> > > attachements. I don't remember exactly how do we reach this conclusion
>> > and
>> > > it could be a kind of "shot in the air", but I remember that PDF files
>> > seem
>> > > to index fine, but "xls" and "doc" files causes the failure of the
>> > process.
>> > > As in your case, Admin>Search won't render. We have never find a
>> > solution.
>> > > This installation is still running but we are using database search
>> > instead.
>> > >
>> > > i keep following this thread!
>> > >
>> > > Cheers,
>> > >
>> > > Ricardo
>> > > _______________________________________________
>> > > users mailing list
>> > > users@xwiki.org
>> > > http://lists.xwiki.org/mailman/listinfo/users
>> > >
>> > > Nota: A informaci?n contida nesta mensaxe e os seus posibles
>> documentos
>> > > adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu
>> > > destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta
>> > mensaxe,
>> > > por favor elim?nea. A distribuci?n ou copia desta mensaxe non est?
>> > > autorizada.
>> > >
>> > > Nota: La informaci?n contenida en este mensaje y sus posibles
>> documentos
>> > > adjuntos es privada y confidencial y est? dirigida ?nicamente a su
>> > > destinatario/a. Si usted no es el/la destinatario/a original de este
>> > > mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje
>> no
>> > > est? autorizada.
>> > >
>> > > See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>> > > _______________________________________________
>> > > users mailing list
>> > > users@xwiki.org
>> > > http://lists.xwiki.org/mailman/listinfo/users
>> > >
>> > _______________________________________________
>> > users mailing list
>> > users@xwiki.org
>> > http://lists.xwiki.org/mailman/listinfo/users
>> >
>>
>>
>>
>> --
>> Guillaume Fenollar
>> XWiki SysAdmin
>> Tel : +33 (0)1.83.62.66.15
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
>>
>
>
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:42 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp76478igc;
        Tue, 28 Feb 2012 13:39:37 -0800 (PST)
Received: by 10.14.130.208 with SMTP id k56mr9188423eei.123.1330465169694;
        Tue, 28 Feb 2012 13:39:29 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id n3si6583786eef.77.2012.02.28.13.39.28;
        Tue, 28 Feb 2012 13:39:29 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 41C186A64701;
	Tue, 28 Feb 2012 21:35:53 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330464953; bh=Q12gZEDCVrCumXB+ciHUVZgzDeBzJXA6lTSPViNou7o=;
	h=From:To:Date:Message-ID:References:In-Reply-To:MIME-Version:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=qypunq1TEx27gwYIbLoeqYRZjrzlRxasJEi19WngCQr++CcizQjptGQYfI7c7fjU4
	 5sk1mxXf7nqDkaPZNXBjnQRksz0tHjRs1fA+3ZHI+76Ge0DVVBQqlPVYPImm6/sLPv
	 +KfblxTK0N2JxAGCQuaIv4+6/huLygEtl4dH9Z90=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id Bgev0F6GYDU5; Tue, 28 Feb 2012 21:35:53 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id B9CDB6A646F6;
	Tue, 28 Feb 2012 21:35:51 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330464951; bh=Q12gZEDCVrCumXB+ciHUVZgzDeBzJXA6lTSPViNou7o=;
	h=From:To:Date:Message-ID:References:In-Reply-To:MIME-Version:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=ga/3ZvShwp8s7/z3S0muk+lK1y4LwoXXP1vZ/oHeY+O50Rem0gSRTlHhl7hwiVUMJ
	 VwzPCRd2f8pzae4G/VC9pxjG1Rg8nmmQIZZsMp1UOKT1FXMo3jjXR+vk18t4SHBo7U
	 exTFS6tJaDIcUwVhBa9QDZOqW6Opa6nsaRbMM4Mo=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 6F7926A646F3
	for <users@xwiki.org>; Tue, 28 Feb 2012 21:35:50 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id RXSjqtb1kfQ7 for <users@xwiki.org>;
	Tue, 28 Feb 2012 21:35:47 +0000 (UTC)
Received: from mail01.sergas.es (mail01.sergas.es [217.124.244.71])
	by borabora.xwiki.com (Postfix) with ESMTP id 484116A6304E
	for <users@xwiki.org>; Tue, 28 Feb 2012 21:35:47 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="4.73,498,1325458800"; d="scan'208";a="59792268"
Received: from unknown (HELO ASSCC462S.sergas.local) ([217.124.244.78])
	by mail01.sergas.es with ESMTP; 28 Feb 2012 22:39:22 +0100
Received: from ASSCCEVS03.sergas.local ([69.117.38.36]) by
	ASSCC462S.sergas.local ([69.117.36.32]) with mapi;
	Tue, 28 Feb 2012 22:39:22 +0100
From: <Ricardo.Julio.Rodriguez.Fernandez@sergas.es>
To: <users@xwiki.org>
Date: Tue, 28 Feb 2012 22:39:21 +0100
Thread-Topic: [xwiki-users] Lucene re-index problem
Thread-Index: Acz2V98QsDvejbCKQ/S6H7Oi2/ZnIwACK5qH
Message-ID: <244BFA3AE9F83C4A8261E27189707237010293C74965@ASSCCEVS03.sergas.local>
References: <CABZYKhb0hKoEbXiKH2v2b8cOmzVfSTkHikqNVR_i2PAE2H5y=Q@mail.gmail.com>
In-Reply-To: <CABZYKhb0hKoEbXiKH2v2b8cOmzVfSTkHikqNVR_i2PAE2H5y=Q@mail.gmail.com>
Accept-Language: en-US, es-ES
Content-Language: en-GB
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US, es-ES
MIME-Version: 1.0
Subject: Re: [xwiki-users] Lucene re-index problem
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi Joshua,
> ________________________________________
> From: users-bounces@xwiki.org [users-bounces@xwiki.org] On Behalf Of Joshua Davis [pgmjsd@gmail.com]
> Sent: 28 February 2012 21:30
> To: users@xwiki.org
> Subject: [xwiki-users] Lucene re-index problem
>
> After upgrading to XWiki 3.5 (from 2.6) I noticed that the Lucene search
> index was not working properly.   On advice I got in the #xwiki IRC chat, I
> shut down the server (Tomcat), deleted the Lucene index directory, and
> restarted the server.   Only about 300 of the thousands of pages were
> indexed at that point.    I tried re-indexing using the Admin->Search page,
> but every time I do that the Admin->Search page gets 'stuck' (won't render).
>
> I saw no errors in the catalina.out log file, and I configured
> WEB-INF/classes/logback.xml to enable some more logging to a separate
> file... still nothing very informative.
>
> Any ideas what I can do to troubleshoot this?   I'm guessing there's some
> page in my wiki database that is causing the re-index process to get stuck.
>
> Thanks in advance,
>
> - Josh

Almost two years ago we face a similar problem while updating to XWiki Enterprise 2.4.30451. We have been not able to get Lucene working in this installation. The problem here seems related with Microsoft Office attachements. I don't remember exactly how do we reach this conclusion and it could be a kind of "shot in the air", but I remember that PDF files seem to index fine, but "xls" and "doc" files causes the failure of the process. As in your case, Admin>Search won't render. We have never find a solution. This installation is still running but we are using database search instead.

i keep following this thread!

Cheers,

Ricardo
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users

Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:42 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp76706igc;
        Tue, 28 Feb 2012 13:55:41 -0800 (PST)
Received: by 10.213.4.67 with SMTP id 3mr4632511ebq.133.1330466133511;
        Tue, 28 Feb 2012 13:55:33 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id o44si14332314eef.85.2012.02.28.13.55.27;
        Tue, 28 Feb 2012 13:55:33 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Authentication-Results: borabora.xwiki.com; dkim=pass (1024-bit key)
	header.i=@gmail.com; dkim-adsp=none
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 927EE6A64685;
	Tue, 28 Feb 2012 21:51:51 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330465911; bh=793I+lO7dJlrVBCBjOBY3qaaJCXYfE4zsiwY5TmtG+w=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=ETXr0rGLdBeytL4S++52frS5qFD6vRxaQnjaEp7s5gXjHUcI6+J71tSN0kYB2GQUE
	 oAJFKgFzrjIfyj+J/oy+FcPArWkGKn7qdssmUxXtvW4WeBJQN8C2qOILjJtUtxV5tA
	 wlw1qkchzVd9CmhLSD4Mmu1tNEcW99TyAZorirhU=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id UuUaci5QVLH6; Tue, 28 Feb 2012 21:51:51 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id CF33E6A646F8;
	Tue, 28 Feb 2012 21:51:49 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330465910; bh=793I+lO7dJlrVBCBjOBY3qaaJCXYfE4zsiwY5TmtG+w=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=QaTCI5dD6jHFvWxZLSDYs5h66U5WzRy8rNstvSnegvLzve0GT07r8+5DUEz9BBfWp
	 VMfvqE6BCBzUmCfB6t2dYG4BIrlR8zvJOAwOCMle4TCTyJfnDIptk9wwUJ1h8Bf+Lh
	 MfeSfkTbys3Wy9F5U8zud6KaqrCE7DUd4HVjv35w=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id A1E7A6A64685
	for <users@xwiki.org>; Tue, 28 Feb 2012 21:51:47 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id IZxeRfpHSJMc for <users@xwiki.org>;
	Tue, 28 Feb 2012 21:51:46 +0000 (UTC)
Received: from mail-qy0-f179.google.com (mail-qy0-f179.google.com
	[209.85.216.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id BC8206A642E1
	for <users@xwiki.org>; Tue, 28 Feb 2012 21:51:45 +0000 (UTC)
Received: by qcha6 with SMTP id a6so25133qch.24
	for <users@xwiki.org>; Tue, 28 Feb 2012 13:55:17 -0800 (PST)
Received-SPF: pass (google.com: domain of pgmjsd@gmail.com designates
	10.224.216.65 as permitted sender) client-ip=10.224.216.65;
Received: from mr.google.com ([10.224.216.65])
	by 10.224.216.65 with SMTP id hh1mr15966851qab.92.1330466117950
	(num_hops = 1); Tue, 28 Feb 2012 13:55:17 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;
	h=mime-version:in-reply-to:references:date:message-id:subject:from:to
	:content-type; bh=ByCv+XKUGhRLPif+NMCVVrp9Ml8cpI9jaCptABo6dsE=;
	b=czI58/v4lnbCTUPMNvYzMKZ5riUJtmOJOO7gPESs9PFroxcY7/aD8qckmGI3XH9JHw
	4VlQw4qQPErR2Fnpbw2/NEGIr5BBw1JPTdczclRqObO0XMmwWJ+ThgUvSL6ga/JNF0Rg
	tCYkItv7lynqLVRn54nvjKWFFa3y6S3CSxQCg=
MIME-Version: 1.0
Received: by 10.224.216.65 with SMTP id hh1mr13479436qab.92.1330466117860;
	Tue, 28 Feb 2012 13:55:17 -0800 (PST)
Received: by 10.229.29.1 with HTTP; Tue, 28 Feb 2012 13:55:17 -0800 (PST)
In-Reply-To: <244BFA3AE9F83C4A8261E27189707237010293C74965@ASSCCEVS03.sergas.local>
References: <CABZYKhb0hKoEbXiKH2v2b8cOmzVfSTkHikqNVR_i2PAE2H5y=Q@mail.gmail.com>
	<244BFA3AE9F83C4A8261E27189707237010293C74965@ASSCCEVS03.sergas.local>
Date: Tue, 28 Feb 2012 16:55:17 -0500
Message-ID: <CABZYKhYY6-gh7ZZF94geqqQF44EgKCMFx6tOdv=RbzjcFu5W+g@mail.gmail.com>
From: Joshua Davis <pgmjsd@gmail.com>
To: XWiki Users <users@xwiki.org>
X-Content-Filtered-By: Mailman/MimeDel 2.1.13
Subject: Re: [xwiki-users] Lucene re-index problem
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Interesting.   Is there some way to tell the Lucene not to index the
attachments?

On Tue, Feb 28, 2012 at 4:39 PM, <
Ricardo.Julio.Rodriguez.Fernandez@sergas.es> wrote:

> Hi Joshua,
> > ________________________________________
> > From: users-bounces@xwiki.org [users-bounces@xwiki.org] On Behalf Of
> Joshua Davis [pgmjsd@gmail.com]
> > Sent: 28 February 2012 21:30
> > To: users@xwiki.org
> > Subject: [xwiki-users] Lucene re-index problem
> >
> > After upgrading to XWiki 3.5 (from 2.6) I noticed that the Lucene search
> > index was not working properly.   On advice I got in the #xwiki IRC
> chat, I
> > shut down the server (Tomcat), deleted the Lucene index directory, and
> > restarted the server.   Only about 300 of the thousands of pages were
> > indexed at that point.    I tried re-indexing using the Admin->Search
> page,
> > but every time I do that the Admin->Search page gets 'stuck' (won't
> render).
> >
> > I saw no errors in the catalina.out log file, and I configured
> > WEB-INF/classes/logback.xml to enable some more logging to a separate
> > file... still nothing very informative.
> >
> > Any ideas what I can do to troubleshoot this?   I'm guessing there's some
> > page in my wiki database that is causing the re-index process to get
> stuck.
> >
> > Thanks in advance,
> >
> > - Josh
>
> Almost two years ago we face a similar problem while updating to XWiki
> Enterprise 2.4.30451. We have been not able to get Lucene working in this
> installation. The problem here seems related with Microsoft Office
> attachements. I don't remember exactly how do we reach this conclusion and
> it could be a kind of "shot in the air", but I remember that PDF files seem
> to index fine, but "xls" and "doc" files causes the failure of the process.
> As in your case, Admin>Search won't render. We have never find a solution.
> This installation is still running but we are using database search instead.
>
> i keep following this thread!
>
> Cheers,
>
> Ricardo
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
>
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos
> adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu
> destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe,
> por favor elim?nea. A distribuci?n ou copia desta mensaxe non est?
> autorizada.
>
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos
> adjuntos es privada y confidencial y est? dirigida ?nicamente a su
> destinatario/a. Si usted no es el/la destinatario/a original de este
> mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no
> est? autorizada.
>
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
>
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:42 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp77867igc;
        Tue, 28 Feb 2012 15:14:15 -0800 (PST)
Received: by 10.213.28.194 with SMTP id n2mr568337ebc.123.1330470847644;
        Tue, 28 Feb 2012 15:14:07 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id e49si14447243eea.135.2012.02.28.15.14.06;
        Tue, 28 Feb 2012 15:14:07 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id B8F156A64707;
	Tue, 28 Feb 2012 23:10:30 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330470630; bh=r3USTbAqzwD4L2vJB14KWy36SMYxORJgAk526gWzqlY=;
	h=From:To:Date:Message-ID:References:In-Reply-To:MIME-Version:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=vMIfngLNDn5PIxQ30NQ3Ed05ryRrTOUurMa6q5EjgpOyjpWP7OB6hcOy3EDHnOE0u
	 xZ9te1H3L4599Sq0/EvG8m5uFoKjXw4+8eNh6lSuOP78wJ1Czryxg2EVK8B1K6I5em
	 lEVCXuiTC5GbD15ba6Y3tQcyGZz9RVlkBDgyBt1U=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id AithFoZ7W2hS; Tue, 28 Feb 2012 23:10:30 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 9A15A6A646F6;
	Tue, 28 Feb 2012 23:10:27 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330470627; bh=r3USTbAqzwD4L2vJB14KWy36SMYxORJgAk526gWzqlY=;
	h=From:To:Date:Message-ID:References:In-Reply-To:MIME-Version:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=LXFGjP33ZgqZRXe1uQ3XqbBT+3EFWP1UgXlxFLj+WGryTKkAP85Tcc4FHyE99+GG7
	 8INXIEh5UkT3xy/N9zS785i+4hjyq40wjQac7buyawPbZptBQhP4W3rCaBlm8xHRkp
	 +2Y5mHBJ7KCfnBIN1W0HgkypC7gYQD0vt3re80PE=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id DED5F6A646F6
	for <users@xwiki.org>; Tue, 28 Feb 2012 23:10:22 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id hL39JCIyVbV4 for <users@xwiki.org>;
	Tue, 28 Feb 2012 23:10:13 +0000 (UTC)
Received: from mail01.sergas.es (mail01.sergas.es [217.124.244.71])
	by borabora.xwiki.com (Postfix) with ESMTP id EB2396A6306D
	for <users@xwiki.org>; Tue, 28 Feb 2012 23:10:12 +0000 (UTC)
X-IronPort-AV: E=Sophos;i="4.73,499,1325458800"; d="scan'208";a="59795744"
Received: from unknown (HELO ASSCC446S.sergas.local) ([217.124.244.77])
	by mail01.sergas.es with ESMTP; 29 Feb 2012 00:13:48 +0100
Received: from ASSCCEVS03.sergas.local ([69.117.38.36]) by
	ASSCC446S.sergas.local ([69.117.37.31]) with mapi;
	Wed, 29 Feb 2012 00:13:48 +0100
From: <Ricardo.Julio.Rodriguez.Fernandez@sergas.es>
To: <users@xwiki.org>
Date: Wed, 29 Feb 2012 00:10:07 +0100
Thread-Topic: [xwiki-users] Lucene re-index problem
Thread-Index: Acz2Y6/qDNjzP7e2Rvy0bD6KOF5VbwACmxuS
Message-ID: <244BFA3AE9F83C4A8261E27189707237010293C7496B@ASSCCEVS03.sergas.local>
References: <CABZYKhb0hKoEbXiKH2v2b8cOmzVfSTkHikqNVR_i2PAE2H5y=Q@mail.gmail.com>
	<244BFA3AE9F83C4A8261E27189707237010293C74965@ASSCCEVS03.sergas.local>,
	<CABZYKhYY6-gh7ZZF94geqqQF44EgKCMFx6tOdv=RbzjcFu5W+g@mail.gmail.com>
In-Reply-To: <CABZYKhYY6-gh7ZZF94geqqQF44EgKCMFx6tOdv=RbzjcFu5W+g@mail.gmail.com>
Accept-Language: en-US, es-ES
Content-Language: en-GB
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
acceptlanguage: en-US, es-ES
MIME-Version: 1.0
Subject: Re: [xwiki-users] Lucene re-index problem
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org


>>> ________________
>>> From: users-bounces@xwiki.org [users-bounces@xwiki.org] On Behalf Of Joshua Davis [pgmjsd@gmail.com]
>>> Sent: 28 February 2012 22:55
>>> To: XWiki Users
>>> Subject: Re: [xwiki-users] Lucene re-index problem
>>>
>>> Interesting.   Is there some way to tell the Lucene not to index the
>>> attachments?

Sorry, I don't remember this. On my side, I must go back to Jira and the email lists to regain access to this issue. Any different thing will be an absurd waste of energy and a lot of noise!!!

Greetings!

On Tue, Feb 28, 2012 at 4:39 PM, <
Ricardo.Julio.Rodriguez.Fernandez@sergas.es> wrote:

> Hi Joshua,
> > ________________________________________
> > From: users-bounces@xwiki.org [users-bounces@xwiki.org] On Behalf Of
> Joshua Davis [pgmjsd@gmail.com]
> > Sent: 28 February 2012 21:30
> > To: users@xwiki.org
> > Subject: [xwiki-users] Lucene re-index problem
> >
> > After upgrading to XWiki 3.5 (from 2.6) I noticed that the Lucene search
> > index was not working properly.   On advice I got in the #xwiki IRC
> chat, I
> > shut down the server (Tomcat), deleted the Lucene index directory, and
> > restarted the server.   Only about 300 of the thousands of pages were
> > indexed at that point.    I tried re-indexing using the Admin->Search
> page,
> > but every time I do that the Admin->Search page gets 'stuck' (won't
> render).
> >
> > I saw no errors in the catalina.out log file, and I configured
> > WEB-INF/classes/logback.xml to enable some more logging to a separate
> > file... still nothing very informative.
> >
> > Any ideas what I can do to troubleshoot this?   I'm guessing there's some
> > page in my wiki database that is causing the re-index process to get
> stuck.
> >
> > Thanks in advance,
> >
> > - Josh
>
> Almost two years ago we face a similar problem while updating to XWiki
> Enterprise 2.4.30451. We have been not able to get Lucene working in this
> installation. The problem here seems related with Microsoft Office
> attachements. I don't remember exactly how do we reach this conclusion and
> it could be a kind of "shot in the air", but I remember that PDF files seem
> to index fine, but "xls" and "doc" files causes the failure of the process.
> As in your case, Admin>Search won't render. We have never find a solution.
> This installation is still running but we are using database search instead.
>
> i keep following this thread!
>
> Cheers,
>
> Ricardo
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
>
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos
> adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu
> destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe,
> por favor elim?nea. A distribuci?n ou copia desta mensaxe non est?
> autorizada.
>
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos
> adjuntos es privada y confidencial y est? dirigida ?nicamente a su
> destinatario/a. Si usted no es el/la destinatario/a original de este
> mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no
> est? autorizada.
>
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users
>
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users

Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:42 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp75006igc;
        Tue, 28 Feb 2012 12:13:06 -0800 (PST)
Received: by 10.213.8.79 with SMTP id g15mr1850285ebg.108.1330459978636;
        Tue, 28 Feb 2012 12:12:58 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id w50si2316904eeh.90.2012.02.28.12.12.57;
        Tue, 28 Feb 2012 12:12:58 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 840FD6A64700;
	Tue, 28 Feb 2012 20:09:22 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330459762; bh=m646tgnMAyF4bmxsNpM1UntrTuZHG6QNzKzGVdYIriQ=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=hCWmWSlzHym6qy4Ci/B2XHgVdHIxa6jATSesCbt6pSBEe8jiyAcNYDRTBYJKbTZvu
	 RWQpLcVWASgiM6i7llPq/RG3E17dJL++BAupQVaAhUyw3LJ7MyoZSWnSs3OOxiiPFV
	 u3RHFKl0UpXR+i8oxoHAIGCIS4Z4i4b2+d2x9Djk=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id f-QrBq5R3LnX; Tue, 28 Feb 2012 20:09:22 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 830546A64704;
	Tue, 28 Feb 2012 20:09:21 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330459761; bh=m646tgnMAyF4bmxsNpM1UntrTuZHG6QNzKzGVdYIriQ=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=BVeyJIH8443pfSkkC0QSa8qXkfE0eVmIGMFS6VgK6yveSC8btaRKeHordKzHR0Uzo
	 CLZ4yl/S5PpX6CBLvFYutLX26oHYPYXvnOyaDCoNRgdq2bFh/6yWlATK+Ji5U5o23Z
	 RLuguqmf/Dltc0ZiogxjrByJ3tUEvlKWUo8NHAig=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id BD6DD6A64700
	for <users@xwiki.org>; Tue, 28 Feb 2012 20:09:18 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id lYRvQFBxuxDD for <users@xwiki.org>;
	Tue, 28 Feb 2012 20:09:16 +0000 (UTC)
Received: from mail-yx0-f179.google.com (mail-yx0-f179.google.com
	[209.85.213.179])
	by borabora.xwiki.com (Postfix) with ESMTPS id 191EA6A6450A
	for <users@xwiki.org>; Tue, 28 Feb 2012 20:09:16 +0000 (UTC)
Received: by yenl1 with SMTP id l1so48137yen.24
	for <users@xwiki.org>; Tue, 28 Feb 2012 12:12:49 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.60.14.101 as permitted sender) client-ip=10.60.14.101;
Received: from mr.google.com ([10.60.14.101])
	by 10.60.14.101 with SMTP id o5mr336815oec.20.1330459969803 (num_hops =
	1); Tue, 28 Feb 2012 12:12:49 -0800 (PST)
MIME-Version: 1.0
Received: by 10.60.14.101 with SMTP id o5mr287588oec.20.1330459969649; Tue, 28
	Feb 2012 12:12:49 -0800 (PST)
Received: by 10.182.204.68 with HTTP; Tue, 28 Feb 2012 12:12:49 -0800 (PST)
In-Reply-To: <CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
References: <4F4D2037.6020105@richard-rafalski.de>
	<CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
Date: Tue, 28 Feb 2012 21:12:49 +0100
Message-ID: <CAPnKnLGGJ_bSFQmZpRQD3=L1Q_0H_9JHhPTOSr2aAsOdUq+O2w@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQmdMCZJo8tAl5145q0wSPRM94vBctipa0ZD+Oj7PBxrB11+cD/ikIhIUqK//tQBxhRhiaqi
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Tue, Feb 28, 2012 at 8:10 PM, Thomas Mortagne
<thomas.mortagne@xwiki.com> wrote:
> On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
> <mail@richard-rafalski.de> wrote:
>> Hi,
>>
>> i have installed xwiki form the deb package
>> xwiki-enterprise-tomcat-pgsql version 3.5. =A0Then tried to contact the
>> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is the
>> hostname where xwiki is running). No page came up. I got this error:
>>
>> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>>
>> What to do now?
>
> Looks like there is something wrong with the potgre packages actually,
> xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
> supposed to contain the version of tomcat now). But that's not
> related;
>
> Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.xml
> template file ? I think there is an issue with the generation of the
> /etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking at
> it.

See http://jira.xwiki.org/browse/XE-1120

>
>>
>> Thanks for help
>>
>> Here is the full error text:
>>
>> HTTP Status 500 -
>>
>> type Exception report
>>
>> message
>>
>> description The server encountered an internal error () that prevented
>> it from fulfilling this request.
>>
>> exception
>>
>> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error
>> number 3 in 0: Could not initialize main XWiki context
>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent =3D [=
name =3D
>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D [WIKI]=
, parent
>> =3D [null]]]]
>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>> configuration
>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processExceptio=
n(RequestProcessor.java:535)
>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActionPe=
rform(RequestProcessor.java:433)
>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Request=
Processor.java:236)
>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionServ=
let.java:1196)
>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServle=
t.java:414)
>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:6=
17)
>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:7=
17)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java=
:128)
>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter=
(ConversionFilter.java:144)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWiki=
DavFilter.java:68)
>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedRequest=
RestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharacter=
EncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>> root cause
>>
>> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initialize
>> main XWiki context
>> Wrapped Exception: Error number 3202 in 3: Exception while reading
>> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent =3D [=
name =3D
>> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D [WIKI]=
, parent
>> =3D [null]]]]
>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>> configuration
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:13=
6)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:11=
6)
>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActionPe=
rform(RequestProcessor.java:431)
>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Request=
Processor.java:236)
>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionServ=
let.java:1196)
>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServle=
t.java:414)
>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:6=
17)
>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:7=
17)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java=
:128)
>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter=
(ConversionFilter.java:144)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWiki=
DavFilter.java:68)
>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedRequest=
RestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharacter=
EncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>> root cause
>>
>> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception while
>> reading document [name =3D [XWikiPreferences], type =3D [DOCUMENT], pare=
nt =3D
>> [name =3D [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =
=3D
>> [WIKI], parent =3D [null]]]]
>> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
>> configuration
>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWik=
iHibernateStore.java:856)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCac=
heStore.java:283)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java=
:821)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:13=
6)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:11=
6)
>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActionPe=
rform(RequestProcessor.java:431)
>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Request=
Processor.java:236)
>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionServ=
let.java:1196)
>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServle=
t.java:414)
>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:6=
17)
>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:7=
17)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java=
:128)
>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter=
(ConversionFilter.java:144)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWiki=
DavFilter.java:68)
>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedRequest=
RestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharacter=
EncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>> root cause
>>
>> org.hibernate.HibernateException: Can't find
>> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFact=
ory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.java:118)
>> =A0 =A0 =A0 =A0org.hibernate.cfg.Configuration.configure(Configuration.j=
ava:2157)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFact=
ory$1.configure(DefaultHibernateSessionFactory.java:80)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.initHibernate=
(XWikiHibernateBaseStore.java:167)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.checkHibernat=
e(XWikiHibernateBaseStore.java:550)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWik=
iHibernateStore.java:728)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCac=
heStore.java:283)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java=
:821)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:13=
6)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:11=
6)
>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActionPe=
rform(RequestProcessor.java:431)
>> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(Request=
Processor.java:236)
>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionServ=
let.java:1196)
>> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServle=
t.java:414)
>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:6=
17)
>> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:7=
17)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java=
:128)
>> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter=
(ConversionFilter.java:144)
>> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWiki=
DavFilter.java:68)
>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedRequest=
RestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
>> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharacter=
EncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
>> note The full stack trace of the root cause is available in the Apache
>> Tomcat/6.0.35 logs.
>>
>> Apache Tomcat/6.0.35
>> _______________________________________________
>> users mailing list
>> users@xwiki.org
>> http://lists.xwiki.org/mailman/listinfo/users
>
>
>
> --
> Thomas Mortagne



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:43 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp73929igc;
        Tue, 28 Feb 2012 11:11:20 -0800 (PST)
Received: by 10.14.200.196 with SMTP id z44mr8865799een.116.1330456272944;
        Tue, 28 Feb 2012 11:11:12 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id s7si14014645eef.152.2012.02.28.11.11.09;
        Tue, 28 Feb 2012 11:11:12 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E21EF6A640C9;
	Tue, 28 Feb 2012 19:07:34 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330456054; bh=mHKTMyGs2g0nZiQV7oi5povs6kSGjd3G4o/WUwRxdvw=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=FtsR/sT0UMhSwbLRCpjtHUPsVrzkgLQmd0mgGJzr8kEclrJUrs6icomS41ea/2zmx
	 0b4JUgG0k80MjgqQRQ5YxZlN6H/dTz+rM9bpNSUm4F0BnNaf7fJVtwTvjjAgiRAy6u
	 LIJJH0eIvacGhKtwW9a5zYKR1EnqwzFpZ1dwzWTc=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id MrxNsanIyNBL; Tue, 28 Feb 2012 19:07:34 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id D522F6A646FB;
	Tue, 28 Feb 2012 19:07:29 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330456050; bh=mHKTMyGs2g0nZiQV7oi5povs6kSGjd3G4o/WUwRxdvw=;
	h=MIME-Version:In-Reply-To:References:Date:Message-ID:From:To:
	 Subject:Reply-To:List-Id:List-Unsubscribe:List-Archive:List-Post:
	 List-Help:List-Subscribe:Content-Type:Content-Transfer-Encoding:
	 Sender;
	b=Sx2fXGOnx5l22ngL8h2ld+Sc34aAHL9jA6K/7QUoiV6XBaI4qDGw6k2XLNgRsgIc0
	 aWUib9ZwJXccOQPsJNpaIgXTRjBgWt/RfiZcwUssG02BAZMCYdV+2Vc0WGULUq/k01
	 bytHZed5sF9MKZ1ACjvqxBq/GvrnlcstRMxclI4Y=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id E40736A646F9
	for <users@xwiki.org>; Tue, 28 Feb 2012 19:07:26 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id 5BwcEms2KDkp for <users@xwiki.org>;
	Tue, 28 Feb 2012 19:07:25 +0000 (UTC)
Received: from mail-yw0-f51.google.com (mail-yw0-f51.google.com
	[209.85.213.51])
	by borabora.xwiki.com (Postfix) with ESMTPS id 860C76A640C9
	for <users@xwiki.org>; Tue, 28 Feb 2012 19:07:24 +0000 (UTC)
Received: by yhnn12 with SMTP id n12so1264161yhn.24
	for <users@xwiki.org>; Tue, 28 Feb 2012 11:10:56 -0800 (PST)
Received-SPF: pass (google.com: domain of thomas.mortagne@xwiki.com designates
	10.60.14.101 as permitted sender) client-ip=10.60.14.101;
Received: from mr.google.com ([10.60.14.101])
	by 10.60.14.101 with SMTP id o5mr229418oec.20.1330456256835 (num_hops =
	1); Tue, 28 Feb 2012 11:10:56 -0800 (PST)
MIME-Version: 1.0
Received: by 10.60.14.101 with SMTP id o5mr196935oec.20.1330456256691; Tue, 28
	Feb 2012 11:10:56 -0800 (PST)
Received: by 10.182.204.68 with HTTP; Tue, 28 Feb 2012 11:10:56 -0800 (PST)
In-Reply-To: <4F4D2037.6020105@richard-rafalski.de>
References: <4F4D2037.6020105@richard-rafalski.de>
Date: Tue, 28 Feb 2012 20:10:56 +0100
Message-ID: <CAPnKnLHD++Lae0sjdPfZZ1sWZN8SGa2J+vQTO8HJL3Rd=tCR-w@mail.gmail.com>
From: Thomas Mortagne <thomas.mortagne@xwiki.com>
To: XWiki Users <users@xwiki.org>
X-Gm-Message-State: ALoCoQky126ehAizY6IAx9AZ8PuP3ajA0ZdVAtSxYYNGi0XvEwUAvzlEleWwltlZkZGtmnGWKRl5
Subject: Re: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for
 hibernate configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

On Tue, Feb 28, 2012 at 7:43 PM, Richard Rafalski
<mail@richard-rafalski.de> wrote:
> Hi,
>
> i have installed xwiki form the deb package
> xwiki-enterprise-tomcat-pgsql version 3.5. =A0Then tried to contact the
> new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is the
> hostname where xwiki is running). No page came up. I got this error:
>
> Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
>
> What to do now?

Looks like there is something wrong with the potgre packages actually,
xwiki-enterprise-tomcat-pgsql should not even exist for 3.5 (it's
supposed to contain the version of tomcat now). But that's not
related;

Do you have the /usr/share/xwiki/templates/pgsql/hibernate.cfg.xml
template file ? I think there is an issue with the generation of the
/etc/xwiki/hibernate.cfg.xml file in some condition, I'm looking at
it.

>
> Thanks for help
>
> Here is the full error text:
>
> HTTP Status 500 -
>
> type Exception report
>
> message
>
> description The server encountered an internal error () that prevented
> it from fulfilling this request.
>
> exception
>
> javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error
> number 3 in 0: Could not initialize main XWiki context
> Wrapped Exception: Error number 3202 in 3: Exception while reading
> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent =3D [n=
ame =3D
> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D [WIKI],=
 parent
> =3D [null]]]]
> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
> configuration
> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processException=
(RequestProcessor.java:535)
> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActionPer=
form(RequestProcessor.java:433)
> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(RequestP=
rocessor.java:236)
> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionServl=
et.java:1196)
> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServlet=
.java:414)
> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:61=
7)
> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:71=
7)
> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:=
128)
> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(=
ConversionFilter.java:144)
> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiD=
avFilter.java:68)
> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedRequestR=
estorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharacterE=
ncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
> root cause
>
> com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initialize
> main XWiki context
> Wrapped Exception: Error number 3202 in 3: Exception while reading
> document [name =3D [XWikiPreferences], type =3D [DOCUMENT], parent =3D [n=
ame =3D
> [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =3D [WIKI],=
 parent
> =3D [null]]]]
> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
> configuration
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActionPer=
form(RequestProcessor.java:431)
> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(RequestP=
rocessor.java:236)
> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionServl=
et.java:1196)
> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServlet=
.java:414)
> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:61=
7)
> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:71=
7)
> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:=
128)
> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(=
ConversionFilter.java:144)
> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiD=
avFilter.java:68)
> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedRequestR=
estorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharacterE=
ncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
> root cause
>
> com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception while
> reading document [name =3D [XWikiPreferences], type =3D [DOCUMENT], paren=
t =3D
> [name =3D [XWiki], type =3D [SPACE], parent =3D [name =3D [xwiki], type =
=3D
> [WIKI], parent =3D [null]]]]
> Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
> configuration
> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWiki=
HibernateStore.java:856)
> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCach=
eStore.java:283)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java:=
821)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActionPer=
form(RequestProcessor.java:431)
> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(RequestP=
rocessor.java:236)
> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionServl=
et.java:1196)
> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServlet=
.java:414)
> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:61=
7)
> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:71=
7)
> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:=
128)
> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(=
ConversionFilter.java:144)
> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiD=
avFilter.java:68)
> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedRequestR=
estorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharacterE=
ncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
> root cause
>
> org.hibernate.HibernateException: Can't find
> [/WEB-INF/hibernate.cfg.xml] for hibernate configuration
> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFacto=
ry$1.getConfigurationInputStream(DefaultHibernateSessionFactory.java:118)
> =A0 =A0 =A0 =A0org.hibernate.cfg.Configuration.configure(Configuration.ja=
va:2157)
> =A0 =A0 =A0 =A0com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFacto=
ry$1.configure(DefaultHibernateSessionFactory.java:80)
> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.initHibernate(=
XWikiHibernateBaseStore.java:167)
> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateBaseStore.checkHibernate=
(XWikiHibernateBaseStore.java:550)
> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWiki=
HibernateStore.java:728)
> =A0 =A0 =A0 =A0com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCach=
eStore.java:283)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java:=
821)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
> =A0 =A0 =A0 =A0com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
> =A0 =A0 =A0 =A0com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.processActionPer=
form(RequestProcessor.java:431)
> =A0 =A0 =A0 =A0org.apache.struts.action.RequestProcessor.process(RequestP=
rocessor.java:236)
> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.process(ActionServl=
et.java:1196)
> =A0 =A0 =A0 =A0org.apache.struts.action.ActionServlet.doGet(ActionServlet=
.java:414)
> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:61=
7)
> =A0 =A0 =A0 =A0javax.servlet.http.HttpServlet.service(HttpServlet.java:71=
7)
> =A0 =A0 =A0 =A0com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:=
128)
> =A0 =A0 =A0 =A0org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(=
ConversionFilter.java:144)
> =A0 =A0 =A0 =A0com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiD=
avFilter.java:68)
> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SavedRequestR=
estorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
> =A0 =A0 =A0 =A0org.xwiki.container.servlet.filters.internal.SetCharacterE=
ncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
> note The full stack trace of the root cause is available in the Apache
> Tomcat/6.0.35 logs.
>
> Apache Tomcat/6.0.35
> _______________________________________________
> users mailing list
> users@xwiki.org
> http://lists.xwiki.org/mailman/listinfo/users



-- =

Thomas Mortagne
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
From - Sun Jun 02 12:48:43 2013
X-Mozilla-Status: 0001
X-Mozilla-Status2: 00000000
Delivered-To: jeremie.bousquet@gmail.com
Received: by 10.50.178.65 with SMTP id cw1csp73174igc;
        Tue, 28 Feb 2012 10:41:25 -0800 (PST)
Received: by 10.14.193.134 with SMTP id k6mr8947819een.114.1330454478460;
        Tue, 28 Feb 2012 10:41:18 -0800 (PST)
Return-Path: <users-bounces@xwiki.org>
Received: from borabora.xwiki.com (borabora.xwiki.com. [87.98.166.189])
        by mx.google.com with ESMTP id e8si13938423eea.174.2012.02.28.10.41.15;
        Tue, 28 Feb 2012 10:41:18 -0800 (PST)
Received-SPF: neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) client-ip=87.98.166.189;
Authentication-Results: mx.google.com; spf=neutral (google.com: 87.98.166.189 is neither permitted nor denied by best guess record for domain of users-bounces@xwiki.org) smtp.mail=users-bounces@xwiki.org; dkim=pass header.i=@xwiki.org
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 672B26A646FE;
	Tue, 28 Feb 2012 18:37:40 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330454260; bh=FYvVb53POSA5jP9crL+2lwqg68+lZ+XXhBvwqYYrEg8=;
	h=Message-ID:Date:From:MIME-Version:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=cHZR4V50gvjDwQTzFp33iFDLJ8NoCMtksvk7WlNjh0GW9cIAmBpVJCKY5EK2S5czD
	 owo3WpLYyPVhfoZnBiTCr+rQvI5xHca6A2thLTceeDrNz8ePvGGeAtSmeHoWkE6E25
	 pwYA3pMwIAi8Xst/BtzhZAu6lGkelOv4viVEklOI=
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new, port 10024)
	with ESMTP id jP9lAGSb2iXT; Tue, 28 Feb 2012 18:37:40 +0000 (UTC)
Received: from borabora.xwiki.com (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 3D0036A646F9;
	Tue, 28 Feb 2012 18:37:39 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple; d=xwiki.org; s=mail;
	t=1330454259; bh=FYvVb53POSA5jP9crL+2lwqg68+lZ+XXhBvwqYYrEg8=;
	h=Message-ID:Date:From:MIME-Version:To:Subject:Reply-To:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 Content-Type:Content-Transfer-Encoding:Sender;
	b=jY+xxxsjXvT39E8IW3qD3+MVnuL7j7xvfOZjr8coqA87sRbLeZmbN8tTyDZRpQ/r3
	 PnwSolFp+sf6S4Jm/ErSd+CD9IQvDaUN/enyaLQ4ztQr7gaWCNGKcHYRXVTYMzS673
	 qXuAxVYX5I0XxXWcGkxoBtFGfUmqSfxg2GUE6twc=
X-Original-To: users@xwiki.org
Delivered-To: users@localhost
Received: from localhost (localhost [127.0.0.1])
	by borabora.xwiki.com (Postfix) with ESMTP id 4BAAF6A646F8
	for <users@xwiki.org>; Tue, 28 Feb 2012 18:37:35 +0000 (UTC)
X-Virus-Scanned: Debian amavisd-new at xpertnet.org
Received: from borabora.xwiki.com ([127.0.0.1])
	by localhost (borabora.xpertnet.org [127.0.0.1]) (amavisd-new,
	port 10024) with ESMTP id AiWlOMxSmh0L for <users@xwiki.org>;
	Tue, 28 Feb 2012 18:37:34 +0000 (UTC)
Received: from mailout1.hostsharing.net (mailout1.hostsharing.net
	[83.223.95.204])
	by borabora.xwiki.com (Postfix) with ESMTPS id 9FDD26A643F9
	for <users@xwiki.org>; Tue, 28 Feb 2012 18:37:33 +0000 (UTC)
Received: from h06.hostsharing.net (h06.hostsharing.net [83.223.95.25])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by mailout1.hostsharing.net (Postfix) with ESMTPS id 6069C2C383
	for <users@xwiki.org>; Tue, 28 Feb 2012 19:41:05 +0100 (CET)
Received: from kenny.bismarck.richard-rafalski.de (unknown [194.231.230.250])
	(using TLSv1 with cipher ADH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by h06.hostsharing.net (Postfix) with ESMTPSA id 38E1C19506F93
	for <users@xwiki.org>; Tue, 28 Feb 2012 19:41:07 +0100 (CET)
Received: from localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTP id
	788C91216A
	for <users@xwiki.org>; Tue, 28 Feb 2012 19:41:06 +0100 (CET)
X-Virus-Scanned: Debian amavisd-new at richard-rafalski.de
Received: from kenny.bismarck.richard-rafalski.de ([127.0.0.1])
	by localhost (kenny.bismarck.richard-rafalski.de [127.0.0.1])
	(amavisd-new, port 10024)
	with ESMTP id MlqD8KBOO-QL for <users@xwiki.org>;
	Tue, 28 Feb 2012 19:40:59 +0100 (CET)
Received: from [192.168.2.2] (sparky.bismarck.richard-rafalski.de
	[192.168.2.2]) (using TLSv1 with cipher AES256-SHA (256/256 bits))
	(No client certificate requested)
	by kenny.bismarck.richard-rafalski.de (Postfix) with ESMTPSA id
	E4E1B12169
	for <users@xwiki.org>; Tue, 28 Feb 2012 19:40:58 +0100 (CET)
Message-ID: <4F4D2037.6020105@richard-rafalski.de>
Date: Tue, 28 Feb 2012 19:43:03 +0100
From: Richard Rafalski <mail@richard-rafalski.de>
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US;
	rv:1.9.2.24) Gecko/20111114 Iceowl/1.0b2 Icedove/3.1.16
MIME-Version: 1.0
To: XWiki Users <users@xwiki.org>
X-Enigmail-Version: 1.1.2
Subject: [xwiki-users] Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
	configuration
X-BeenThere: users@xwiki.org
X-Mailman-Version: 2.1.13
Precedence: list
Reply-To: XWiki Users <users@xwiki.org>
List-Id: XWiki Users <users.xwiki.org>
List-Unsubscribe: <http://lists.xwiki.org/mailman/options/users>,
	<mailto:users-request@xwiki.org?subject=unsubscribe>
List-Archive: <http://lists.xwiki.org/pipermail/users>
List-Post: <mailto:users@xwiki.org>
List-Help: <mailto:users-request@xwiki.org?subject=help>
List-Subscribe: <http://lists.xwiki.org/mailman/listinfo/users>,
	<mailto:users-request@xwiki.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Sender: users-bounces@xwiki.org
Errors-To: users-bounces@xwiki.org

Hi,

i have installed xwiki form the deb package
xwiki-enterprise-tomcat-pgsql version 3.5.  Then tried to contact the
new wiki through the URL http://xwikipg:8080/xwiki (xwikipg is the
hostname where xwiki is running). No page came up. I got this error:

Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate configuration

What to do now?

Thanks for help

Here is the full error text:

HTTP Status 500 -

type Exception report

message

description The server encountered an internal error () that prevented
it from fulfilling this request.

exception

javax.servlet.ServletException: com.xpn.xwiki.XWikiException: Error
number 3 in 0: Could not initialize main XWiki context
Wrapped Exception: Error number 3202 in 3: Exception while reading
document [name = [XWikiPreferences], type = [DOCUMENT], parent = [name =
[XWiki], type = [SPACE], parent = [name = [xwiki], type = [WIKI], parent
= [null]]]]
Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
configuration
	org.apache.struts.action.RequestProcessor.processException(RequestProcessor.java:535)
	org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:433)
	org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
	org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
	org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
	org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
	com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
	org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
	org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
root cause

com.xpn.xwiki.XWikiException: Error number 3 in 0: Could not initialize
main XWiki context
Wrapped Exception: Error number 3202 in 3: Exception while reading
document [name = [XWikiPreferences], type = [DOCUMENT], parent = [name =
[XWiki], type = [SPACE], parent = [name = [xwiki], type = [WIKI], parent
= [null]]]]
Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
configuration
	com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:418)
	com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
	com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
	com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
	org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
	org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
	org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
	org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
	org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
	com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
	org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
	org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
root cause

com.xpn.xwiki.XWikiException: Error number 3202 in 3: Exception while
reading document [name = [XWikiPreferences], type = [DOCUMENT], parent =
[name = [XWiki], type = [SPACE], parent = [name = [xwiki], type =
[WIKI], parent = [null]]]]
Wrapped Exception: Can't find [/WEB-INF/hibernate.cfg.xml] for hibernate
configuration
	com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWikiHibernateStore.java:856)
	com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCacheStore.java:283)
	com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
	com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
	com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
	com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java:821)
	com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
	com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
	com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
	com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
	com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
	com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
	org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
	org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
	org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
	org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
	org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
	com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
	org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
	org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
root cause

org.hibernate.HibernateException: Can't find
[/WEB-INF/hibernate.cfg.xml] for hibernate configuration
	com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFactory$1.getConfigurationInputStream(DefaultHibernateSessionFactory.java:118)
	org.hibernate.cfg.Configuration.configure(Configuration.java:2157)
	com.xpn.xwiki.store.hibernate.DefaultHibernateSessionFactory$1.configure(DefaultHibernateSessionFactory.java:80)
	com.xpn.xwiki.store.XWikiHibernateBaseStore.initHibernate(XWikiHibernateBaseStore.java:167)
	com.xpn.xwiki.store.XWikiHibernateBaseStore.checkHibernate(XWikiHibernateBaseStore.java:550)
	com.xpn.xwiki.store.XWikiHibernateStore.loadXWikiDoc(XWikiHibernateStore.java:728)
	com.xpn.xwiki.store.XWikiCacheStore.loadXWikiDoc(XWikiCacheStore.java:283)
	com.xpn.xwiki.XWiki.getDocument(XWiki.java:1427)
	com.xpn.xwiki.XWiki.getDocument(XWiki.java:1470)
	com.xpn.xwiki.XWiki.getPrefsClass(XWiki.java:3104)
	com.xpn.xwiki.XWiki.initializeMandatoryClasses(XWiki.java:821)
	com.xpn.xwiki.XWiki.initXWiki(XWiki.java:796)
	com.xpn.xwiki.XWiki.<init>(XWiki.java:739)
	com.xpn.xwiki.XWiki.getMainXWiki(XWiki.java:401)
	com.xpn.xwiki.XWiki.getXWiki(XWiki.java:487)
	com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:136)
	com.xpn.xwiki.web.XWikiAction.execute(XWikiAction.java:116)
	org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)
	org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)
	org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)
	org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:414)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
	com.xpn.xwiki.web.ActionFilter.doFilter(ActionFilter.java:128)
	org.xwiki.wysiwyg.server.filter.ConversionFilter.doFilter(ConversionFilter.java:144)
	com.xpn.xwiki.plugin.webdav.XWikiDavFilter.doFilter(XWikiDavFilter.java:68)
	org.xwiki.container.servlet.filters.internal.SavedRequestRestorerFilter.doFilter(SavedRequestRestorerFilter.java:217)
	org.xwiki.container.servlet.filters.internal.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:109)
note The full stack trace of the root cause is available in the Apache
Tomcat/6.0.35 logs.

Apache Tomcat/6.0.35
_______________________________________________
users mailing list
users@xwiki.org
http://lists.xwiki.org/mailman/listinfo/users
