Received: from smtp1.gemalto.com (193.56.114.194) by ABSHUBBWP01.gemalto.com
 (10.3.0.231) with Microsoft SMTP Server id 8.3.192.1; Mon, 12 Mar 2012
 11:29:09 +0100
Received: from mail.sonatype.org (207-223-241-82.contegix.com
 [207.223.241.82])	by smtp1.gemalto.com (envelope-from
 nexus-user-return-6765-Jeremie.BOUSQUET=gemalto.com@sonatype.org)
 (8.14.3/8.14.3) with ESMTP id q2CARXgT007038	(version=TLSv1/SSLv3
 cipher=DHE-RSA-AES256-SHA bits=256 verify=NOT)	for
 <Jeremie.BOUSQUET@gemalto.com>; Mon, 12 Mar 2012 11:27:36 +0100
Received: (qmail 9254 invoked by uid 89); 12 Mar 2012 10:28:55 -0000
Received: (qmail 9248 invoked by uid 89); 12 Mar 2012 10:28:54 -0000
From: =?iso-8859-1?Q?Bj=F8rn_T_Johansen?= <btj@havleik.no>
To: "nexus-user@sonatype.org" <nexus-user@sonatype.org>
Date: Mon, 12 Mar 2012 11:28:53 +0100
Subject: [nexus-user] Problem upgrading to 2.0.1 from 1.9.x:
 IllegalArgumentException: Prefix string too short
Thread-Topic: [nexus-user] Problem upgrading to 2.0.1 from 1.9.x:
 IllegalArgumentException: Prefix string too short
Thread-Index: Ac0AOvXI5+7RwVyUQ9iYvT1iHNhj4A==
Message-ID: <20120312112853.698ed584@tux-btj.asp-as.no>
List-Help: <mailto:nexus-user-help@sonatype.org>
List-Subscribe: <mailto:nexus-user-subscribe@sonatype.org>
List-Unsubscribe: <mailto:nexus-user-unsubscribe@sonatype.org>
Reply-To: "nexus-user@sonatype.org" <nexus-user@sonatype.org>
Accept-Language: fr-FR, en-US
Content-Language: fr-FR
X-MS-Exchange-Organization-AuthAs: Anonymous
X-MS-Exchange-Organization-AuthSource: ABSHUBBWP01.gemalto.com
X-MS-Has-Attach:
X-Auto-Response-Suppress: All
X-MS-TNEF-Correlator:
x-pm-nine: Xy1rY2FCZXJlaHdvTmduaW9HXC8zaW5pbWVHbW9yRmdub3J0U25PZ25pbW9DLV8K
x-spam-free: -8.74 ()
 BAYES_00,GEM_XTNDSET1,GEM_XTNDSET7,GEM_XTNDSET8,GEM_XTNDSET9,RDNS_DYNAMIC,RPL_XTNDSET0,RPL_XTNDSET7,RPL_XTNDSET8,RPL_XTNDSET9,RP_PONK_01,RP_PONK_02,SPF_PASS,X_AUTH_WARN_FAKED
x-scanned-by: MIMEDefang 2.70 on 193.56.114.194
delivered-to: mailing list nexus-user@sonatype.org
x-no-archive: yes
list-post: <mailto:nexus-user@sonatype.org>
received-spf: none (207-223-240-94.contegix.com: domain at havleik.no does
 not designate permitted sender hosts)
mailing-list: contact nexus-user-help@sonatype.org; run by ezmlm
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
MIME-Version: 1.0

When I tried to uupgrade to Nexus 2.0.1 this weekend, I kept getting the fo=
llowing error..:



2012-03-10 16:44:38 INFO  [ributesUpgrader] - org.sonatype.nexus.proxy.attr=
ibutes.upgrade.AttributeUpgraderThread - Upgrading legacy attributes of rep=
ository "3rd party" [id=3Dthirdparty].
2012-03-10 16:44:38 INFO  [ributesUpgrader] - org.sonatype.nexus.proxy.mave=
n.maven2.M2Repository - Rebuilding item attributes in repository "3rd party=
" [id=3Dthirdparty] from path=3D"/"
2012-03-10 16:44:39 INFO  [ributesUpgrader] - org.sonatype.nexus.proxy.walk=
er.DefaultWalker - Aborted walking on repository "3rd party" [id=3Dthirdpar=
ty] from path "/", cause: Prefix string too short
2012-03-10 16:44:39 ERROR [ributesUpgrader] - org.sonatype.nexus.proxy.attr=
ibutes.upgrade.AttributeUpgraderThread - Problems during legacy attribute u=
pgrade of repository "3rd party" [id=3Dthirdparty], skipping it. Please fix=
 the problems and retry the upgrade.
org.sonatype.nexus.proxy.walker.WalkerException: Aborted walking on reposit=
ory ID=3D'thirdparty' from path=3D'/'.
	at org.sonatype.nexus.proxy.walker.DefaultWalker.reportWalkEnd(DefaultWalk=
er.java:167) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.walk(DefaultWalker.java:1=
26) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.repository.AbstractRepository.recreateAttribut=
es(AbstractRepository.java:523) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.attributes.upgrade.AttributeUpgraderThread.run=
(AttributeUpgraderThread.java:117) ~[nexus-proxy-2.0.1.jar:na]
Caused by: java.lang.IllegalArgumentException: Prefix string too short
	at java.io.File.createTempFile(File.java:1860) ~[na:1.7.0_03]
	at org.sonatype.nexus.proxy.storage.local.fs.DefaultFSPeer.getHiddenTarget=
(DefaultFSPeer.java:321) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.storage.local.fs.DefaultFSPeer.storeItem(Defau=
ltFSPeer.java:84) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.storage.local.fs.DefaultFSLocalRepositoryStora=
ge.storeItem(DefaultFSLocalRepositoryStorage.java:362) ~[nexus-proxy-2.0.1.=
jar:na]
	at org.sonatype.nexus.proxy.attributes.DefaultLSAttributeStorage.putAttrib=
utes(DefaultLSAttributeStorage.java:182) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.attributes.TransitioningAttributeStorage.putAt=
tributes(TransitioningAttributeStorage.java:97) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.attributes.DelegatingAttributeStorage.putAttri=
butes(DelegatingAttributeStorage.java:62) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.attributes.DefaultAttributesHandler.storeAttri=
butes(DefaultAttributesHandler.java:266) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.attributes.DefaultAttributesHandler.storeAttri=
butes(DefaultAttributesHandler.java:298) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.repository.RecreateAttributesWalker.doProcessF=
ileItem(RecreateAttributesWalker.java:102) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.repository.RecreateAttributesWalker.processIte=
m(RecreateAttributesWalker.java:78) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.processItem(DefaultWalker=
.java:318) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalk=
er.java:227) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalk=
er.java:239) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalk=
er.java:239) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalk=
er.java:239) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalk=
er.java:239) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalk=
er.java:239) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalk=
er.java:239) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalk=
er.java:239) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalk=
er.java:239) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalk=
er.java:239) ~[nexus-proxy-2.0.1.jar:na]
	at org.sonatype.nexus.proxy.walker.DefaultWalker.walk(DefaultWalker.java:9=
3) ~[nexus-proxy-2.0.1.jar:na]
	... 2 common frames omitted
2012-03-10 16:44:39 INFO  [ributesUpgrader] - org.sonatype.nexus.proxy.attr=
ibutes.upgrade.AttributeUpgraderThread - Legacy attribute directory upgrade=
 was partially completed.
Please see prior log messages for details. Total runtime 0:00:01.492




It this a known problem or?


Regards,

BTJ

--=20
---------------------------------------------------------------------------=
--------------------
Bj=F8rn T Johansen

btj@havleik.no
---------------------------------------------------------------------------=
--------------------
Someone wrote:
"I understand that if you play a Windows CD backwards you hear strange Sata=
nic messages"
To which someone replied:
"It's even worse than that; play it forwards and it installs Windows"
---------------------------------------------------------------------------=
--------------------

---------------------------------------------------------------------
To unsubscribe, e-mail: nexus-user-unsubscribe@sonatype.org
For additional commands, e-mail: nexus-user-help@sonatype.org

